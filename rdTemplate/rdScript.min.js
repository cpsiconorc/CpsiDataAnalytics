/* 
* rdYui/global.js 
*/
// JSLint options:
/*jslint browser: true, forin: true, nomen: true, sub: true, white: true, regexp: true *//*global LogiXML: true, YUI: false, Y: false, document: false, Node: false, window: false *//*
 * JSlint doesn't like //"use strict"; at the top of JS files unless you scope.  Reason being
 * this file might be concatenated with others therefore force the concatenated file to run in
 * strict mode.  global.js is always loaded independently so we're fine. *///"use strict";
/* 
 * Create namespace for LogiXML javascript code to live under.
 * Help prevent collisions with customer code and remove functions
 * from global space.
 */function rdGetCookie(e){var t=e+"=",n=document.cookie.split(";");for(var r=0;r<n.length;r++){var i=n[r].trim();if(i.indexOf(t)==0)return i.substring(t.length,i.length)}return""}function rdSetUndoRedoVisibility(){document.onkeydown=UndoRedo;var e=!1,t=document.getElementById("divUndoDisabled"),n=document.getElementById("divUndoEnabled"),r=document.getElementById("divRedoDisabled"),i=document.getElementById("divRedoEnabled"),s=rdGetCookie("rdAllowUndo"),o=rdGetCookie("rdAllowRedo");Y.Lang.isValue(r)&&(o=="False"&&s=="False"?(i.style.display="none",r.style.display="none"):o=="True"?(i.style.display="",r.style.display="none"):o=="False"&&(i.style.display="none",r.style.display="")),Y.Lang.isValue(t)&&(s=="False"&&o=="False"?(n.style.display="none",t.style.display="none"):s=="True"?(n.style.display="",t.style.display="none"):s=="False"&&(n.style.display="none",t.style.display=""))}function rdSetCookie(e,t){var n="/";try{rdCookiePath&&rdCookiePath.length>-1&&(n=rdCookiePath)}catch(r){}document.cookie=e+"="+t+"; path="+n}function UndoRedo(e){var t=window.event?event:e;if(t.keyCode==90&&t.ctrlKey){var n=rdGetCookie("rdAllowUndo"),r=document.getElementById("divUndoEnabled");n=="True"&&r&&r.click()}if(t.keyCode==89&&t.ctrlKey){var i=rdGetCookie("rdAllowRedo"),s=document.getElementById("divRedoEnabled");i=="True"&&s&&s.click()}}function rdEventThrottle(e,t){_nThrottleTimeout&&window.clearTimeout(_nThrottleTimeout),_nThrottleTimeout=window.setTimeout(e,t)}function getCustomCssProperty(e,t){if(e){var n=e.split(";");for(var r=0;r<n.length;r++){var i=n[r].split(":");if(i[0]==t)return i[1]}return null}return null}function encodeHtmlInput(e){var t=document.createElement("DIV");return t.textContent=e,t.innerHTML}window.LogiXML===undefined&&(window.LogiXML={}),LogiXML.cancelEvent=function(e){return e=e||window.event,e?(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1):!1},Math.trunc=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)},LogiXML.decodeHtml===undefined&&(LogiXML.decodeHtml=function(e,t){var n=e.toString();return n&&n.indexOf("&")!=-1&&(LogiXML.decodeHtmlTextArea||(LogiXML.decodeHtmlTextArea=document.createElement("textarea")),LogiXML.decodeHtmlTextArea.innerHTML=n,LogiXML.isIE()&&LogiXML.isIE()<=9?n=LogiXML.decodeHtmlTextArea.innerHTML:n=LogiXML.decodeHtmlTextArea.value),!t&&n&&(n=n.replace(/</g,"&lt;")),n}),LogiXML.isFalseBlur=function(){return window&&window.event&&window.event.type=="blur"&&window.event.target&&document&&document.activeElement&&document.activeElement==window.event.target?(document.activeElement.focus(),!0):!1},LogiXML.isSelfTarget=function(e){return!e||e=="_self"||e==window.name||e=="_top"&&window===window.top||e=="_parent"&&window===window.parent},LogiXML.rd={},LogiXML.guids={},Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){for(var n=t||0,r=this.length;n<r;n++)if(this[n]===e)return n;return-1}),Array.prototype.maxArray=function(){return Math.max.apply(null,this)},Array.prototype.minArray=function(){return Math.min.apply(null,this)},String.prototype.startsWith=function(e){return this.indexOf(e)===0},String.prototype.endsWith=function(e){return this.indexOf(e,this.length-e.length)!==-1},Array.prototype.some||(Array.prototype.some=function(e){if(this===void 0||this===null)throw new TypeError;var t=Object(this),n=t.length>>>0;if(typeof e!="function")throw new TypeError;var r=arguments.length>=2?arguments[1]:void 0;for(var i=0;i<n;i++)if(i in t&&e.call(r,t[i],i,t))return!0;return!1}),LogiXML.layout={},LogiXML.layout.isRendererElementCreated=!1,LogiXML.layout.getTextDimensions=function(e,t,n){var r;LogiXML.layout.isRendererElementCreated&&(r=document.getElementById("textDimensionDivision"))!=null?r.style.display="block":(r=document.createElement("lDiv"),r.setAttribute("id","textDimensionDivision"),document.body.appendChild(r),LogiXML.layout.isRendererElementCreated=!0),t&&t.toString().length!=0?(r.style.fontFamily=t.fontFamily,r.style.fontSize=t.fontSize||"",r.style.fontWeight=t.fontWeight||"normal",t.width&&(r.style.width=t.width)):r.style="",r.style.position="absolute",r.style.left=-1e3,r.style.top=-1e3,r.innerHTML=e,n?r.className=n:r.className="";var i={width:r.clientWidth,height:r.clientHeight};return r.style.display="none",r=null,i},LogiXML.inspect=function(e){var t="",n;if(typeof e=="object"||typeof e=="array"){for(n in e)t+=n+" : "+e[n]+"\n";return t}return e},LogiXML.isDomNode=function(e){return typeof Node=="object"?e instanceof Node:e&&typeof e=="object"&&typeof e.nodeType=="number"&&typeof e.nodeName=="string"},LogiXML.isNumeric=function(e){var t=/^-{0,1}\d*\.{0,1}\d+$/;return t.test(e)},LogiXML.opacityValidator=function(e){var t=e;return Y.Lang.isString(e)&&(t=parseFloat(e)),Y.Lang.isNumber(t)?e>=0&&e<=1:!1},LogiXML.isNodeVisible=function(e){if(e.getStyle("display")=="none")return!1;while(Y.Lang.isValue(e.ancestor())){e=e.ancestor();if(e.getStyle("display")=="none")return!1}return!0},LogiXML.String={},LogiXML.String.isBlank=function(e){return Y.Lang.isString(e)?e.length!==0?Y.Lang.trim(e)==="":!0:undefined},LogiXML.String.isNotBlank=function(e){return Y.Lang.isString(e)?!LogiXML.String.isBlank(e):undefined},LogiXML.Math={},LogiXML.Math.expRegression=function(e){var t=e.length,n=[],r=[];for(var i=0;i<e.length;i++)e[i][1]<=0?t--:(r.push(e[i][0]),n.push(Math.log(e[i][1])));var s=0,o=0,u=0,a=0,f=0;for(i=0;i<t;i++)s+=r[i],o+=n[i],a+=r[i]*n[i],u+=r[i]*r[i],f+=n[i]*n[i];var l=(t*a-s*o)/(t*u-s*s),c=(o-l*s)/t,h=Math.exp(c),p=Math.exp(l),d=[];for(i=0;i<e.length;i++)d.push([r[i],h*Math.pow(p,r[i])]);return d.sort(),d},LogiXML.Math.linearRegression=function(e){var t=0,n=0,r=0,i=0,s=0;for(var o=0;o<e.length;o++){var u=e[o][0],a=e[o][1];t+=u,n+=a,i+=u*a,r+=u*u,s+=a*a}var f=(e.length*i-t*n)/(e.length*r-t*t),l=(n-f*t)/e.length,c=[];for(o=0;o<e.length;o++)u=e[o][0],c.push([u,f*u+l]);return c.sort(),c},LogiXML.Math.roundToSignificantDigit=function(e,t){if(!Y.Lang.isNumber(e)||!Y.Lang.isNumber(t))return undefined;if(isNaN(e)||isNaN(t))return undefined;if(e===0)return 0;if(Math.round(e)===e)return e;var n=Math.pow(10,t-Math.floor(Math.log(e<0?-e:e)/Math.LN10)-1);return Math.round(e*n)/n},LogiXML.Math.getSignificantDigits=function(e){var t=0;if(isNaN(e))return undefined;if(e===0)return 0;e=Math.abs(e).toString(),e=e.replace(/^0+/,"");var n=/[^0](\d*[^0])?/;return/\./.test(e)?t=e.length-1:t=(e.match(n)||[""])[0].length,t},LogiXML.Dashboard={},LogiXML.AnalysisGrid={},LogiXML.Ajax={},LogiXML.Ajax.AjaxTarget=function(){return LogiXML.Ajax._ajaxTarget===undefined&&(LogiXML.Ajax._ajaxTarget=new Y.EventTarget),LogiXML.Ajax._ajaxTarget},LogiXML.SubReport={},LogiXML.SubReport.initSubReports=function(){Y.each(Y.all("iframe"),function(e){LogiXML.isNodeVisible(e)&&!Y.Lang.isValue(e.getData("waitkey"))&&e.getAttribute("src")==""&&e.getData("hiddensource")&&e.set("src",e.getData("hiddensource"))})},LogiXML.Tabs=LogiXML.Tabs||new Array,LogiXML.Tabs.addTabs=function(e){var t=!1;for(var n=LogiXML.Tabs.length-1;n>=0;n--){var r=LogiXML.Tabs[n];if(r.get("_id")!=e.id)continue;if(r.get("destroyed")){LogiXML.Tabs.splice(n,1);continue}if(r.get("reportID")!=e.reportid)continue;if(r.get("_orientation")!=e.orientation)continue;if(r.get("isMobile")!=e.isMobile)continue;t=!0;break}t||LogiXML.Tabs.push(new Y.LogiXML.Tabs(e)),e.id=="rdDashboardTabs"&&LogiXML.Dashboard.pageDashboard.rdPositiontabSettingsCog()},LogiXML.WaitPanel={},LogiXML.Resize={},LogiXML.DraggableColumns={},LogiXML.ResizableColumns={},LogiXML.CellColorSlider={},LogiXML.InputSlider={},LogiXML.PopupPanel={},LogiXML.PopupMenu={},LogiXML.StartupScripts={},function(){if(!Date.prototype.toISOString||(new Date(-621987552e5)).toISOString().indexOf("-000001")===-1)Date.prototype.toISOString=function(){var t,n,r,i;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");t=[this.getUTCMonth()+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],i=this.getUTCFullYear(),i=(i<0?"-":i>9999?"+":"")+("00000"+Math.abs(i)).slice(0<=i&&i<=9999?-4:-6),n=t.length;while(n--)r=t[n],r<10&&(t[n]="0"+r);return i+"-"+t.slice(0,2).join("-")+"T"+t.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"};if(!Date.parse||Date.parse&&Date.parse("+275760-09-13T00:00:00.000Z")!==864e13){var e=Date;Date=function(t){var n=function s(n,r,i,o,u,a,f){var l=arguments.length;if(this instanceof t){var c=l===1&&String(n)===n?new t(e.parse(n)):l>=7?new t(n,r,i,o,u,a,f):l>=6?new t(n,r,i,o,u,a):l>=5?new t(n,r,i,o,u):l>=4?new t(n,r,i,o):l>=3?new t(n,r,i):l>=2?new t(n,r):l>=1?new t(n):new t;return c.constructor=s,c}return t.apply(this,arguments)},r=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:\\.(\\d{3}))?)?(?:Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$");for(var i in t)n[i]=t[i];return n.now=t.now,n.UTC=t.UTC,n.prototype=t.prototype,n.prototype.constructor=n,n.parse=function(n){var i=r.exec(n);if(i){i.shift();for(var s=1;s<7;s++)i[s]=+(i[s]||(s<3?1:0)),s==1&&i[s]--;var o=+i.pop(),u=+i.pop(),a=i.pop(),f=0;if(a){if(u>23||o>59)return NaN;f=(u*60+o)*6e4*(a=="+"?-1:1)}var l=+i[0];return 0<=l&&l<=99?(i[0]=l+400,t.UTC.apply(this,i)+f-126227808e5):t.UTC.apply(this,i)+f}return t.parse.apply(this,arguments)},n}(Date)}}(),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),LogiXML.isNotEmptyObject=function(e){return e.y!=null&&e.y!=undefined||e.low!=null&&e.low!=undefined||e.high!=null&&e.high!=undefined},Array.isArray||(Array.isArray=function(e){return Object.prototype.toString.call(e)==="[object Array]"}),LogiXML.isNotEmpty2dArray=function(e){return Array.isArray(e)&&(e[0]!=null&&e[0]!=undefined||e[1]!=null&&e[1]!=undefined)},LogiXML.isNotEmptyValue=function(e){return typeof e=="number"},LogiXML.hasValue=function(e){return e!=null&&(this.isNotEmptyObject(e)||this.isNotEmpty2dArray(e)||this.isNotEmptyValue(e))},LogiXML.newIndex=function(t,n){return t=t||0,Math.floor(Math.random()*(n-t+1))+t},LogiXML.fireEvent=function(ele,eventName){if(!ele||!eventName)return null;eventName.length>2&&eventName.startsWith("on")&&(eventName=eventName.substr(2));if(document.createEvent){var e=document.createEvent("HTMLEvents");return e.initEvent(eventName,!1,!0),ele.dispatchEvent(e)}if(ele.fireEvent)return ele.fireEvent("on"+eventName);var fun=ele["on"+eventName];return fun?typeof fun=="function"?fun():typeof fun=="string"?(fun.indexOf("javascript:")===0&&(fun=fun.substr(11).trim()),fun.indexOf("void(")===0||fun.indexOf("void ")===0?null:eval(fun)):null:null},LogiXML.getRandomElements=function(e,t){if(e.length<=t)return e;var n=[];do{var r=LogiXML.newIndex(t);!n.indexOf(r)!=-1&&n.push(r)}while(n.length<=t);return n},LogiXML.attr=function(e,t,n){var r,i;if(Y.Lang.isString(t))defined(n)?e.setAttribute(t,n):e&&e.getAttribute&&(i=e.getAttribute(t));else if(Y.Lang.isValue(t)&&Y.Lang.isObject(t))for(r in t)e.setAttribute(r,t[r]);return i},String.prototype.format=String.prototype.format||function(){var e=arguments;return this.replace(/{(\d+)}/g,function(t,n){return typeof e[n]!="undefined"?e[n]:t})},LogiXML.TemplateEngine=function(e,t){function i(){while(r=n.exec(e.toString()))e=e.replace(r[0],t[r[1]]);if(r=n.exec(e.toString()))e=e.replace(r[0],t[r[1]]),i()}var n=/<%([^%>]+)?%>/gm;if(LogiXML.isIE())i();else while(e.match(n)){var r=n.exec(e.toString());e=e.toString().replace(r[0],t[r[1]])}return e},LogiXML.isAncestorID=function(e,t){return!e||!t?!1:e.id==t?!0:LogiXML.isAncestorID(e.parentNode,t)},LogiXML.isIE=function(){var e=navigator.userAgent.toLowerCase(),t=parseInt(e.split("msie")[1]||e.split("rv:")[1]);return t<=11?t:!1},LogiXML.getUtcDateStringWithoutClientOffset=function(e){var t=-e.getTimezoneOffset(),n=t>=0?"+":"-",r=function(e){var t=Math.abs(Math.floor(e));return(t<10?"0":"")+t};return e.getFullYear()+"-"+r(e.getMonth()+1)+"-"+r(e.getDate())+"T"+r(e.getHours())+":"+r(e.getMinutes())+":"+r(e.getSeconds())+n+r(t/60)+":"+r(t%60)},LogiXML.getTimestampWithoutClientOffset=function(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds())},YUI().use("node","event",function(e){LogiXML.EventBus=LogiXML.EventBus||{},LogiXML.EventBus.ChartCanvasEvents=function(){return LogiXML.EventBus._ChartCanvasEvents===undefined&&(LogiXML.EventBus._ChartCanvasEvents=new e.EventTarget),LogiXML.EventBus._ChartCanvasEvents}}),LogiXML.getGuid=function(){var e=function(){return((1+Math.random())*65536|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},LogiXML.getObjectX=function(e){return e.offsetParent?LogiXML.getObjectX(e.offsetParent)+e.offsetLeft:e.offsetLeft},LogiXML.getObjectY=function(e){return e.offsetParent?LogiXML.getObjectY(e.offsetParent)+e.offsetTop:e.offsetTop},LogiXML.listeners=[],LogiXML.Listener=function(e,t,n){this.obj=e,this.eventName=t,this.func=n,this.matches=function(e,t){return this.obj===e&&this.eventName===t}},LogiXML.addListener=function(e,t,n){var r=new LogiXML.Listener(e,t,n);return e.addEventListener?e.addEventListener(t,n):(t="on"+t,e.attachEvent?e.attachEvent(t,n):e[t]=n),LogiXML.listeners.push(r),r},LogiXML.clearListeners=function(e){for(var t=LogiXML.listeners.length-1;t>=0;t--)listener=LogiXML.listeners[t],listener&&listener.obj===e&&LogiXML.removeListener(listener)},LogiXML.removeListener=function(e){if(!e)return;var t=e.obj,n=e.func,r=e.eventName;t.removeEventListener?t.removeEventListener(r,n):(r="on"+r,t.detachEvent?t.detachEvent(r,n):t[r]=null);for(var i=LogiXML.listeners.length-1;i>=0;i--)LogiXML.listeners[i]===e&&LogiXML.listeners.splice(i,1)},LogiXML.trigger=function(e,t,n){var r,i=Array.prototype.slice.call(arguments,2);for(var s=0;s<LogiXML.listeners.length;s++)r=LogiXML.listeners[s],r&&r.matches(e,t)&&r.func.apply(e,i)},LogiXML.copyObject=function(e,t){t||(t={}),typeof e=="function"&&(e=e.prototype);for(var n in e){var r=e[n];if(typeof r=="function")t[n]=r.bind(t);else if(typeof r=="object"){var i=t[n];t[n]=LogiXML.copyObject(r,i)}else t.hasOwnProperty(n)||(t[n]=r)}return t},LogiXML.getQueryStringParam=function(e){var t=window.location.href;e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)"),r=n.exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null},LogiXML.getReportID=function(){return LogiXML.getQueryStringParam("rdReport")},LogiXML.scriptsLoading=LogiXML.scriptsLoading||[],LogiXML.getScriptFromLink=LogiXML.getScriptFromLink||function(e,t,n){n&&(n.attributeName=null);if(!e)return"";var r=e.href;return r&&r.indexOf("javascript:")==0&&(r=r.substr(11)),!r||r.replace(/[ ;]/g,"")=="void(0)"?(n&&(n.attributeName="onclick"),r=e.getAttribute("onclick"),r&&(t?r.indexOf("javascript:")!=0&&(r="javascript:"+r):r.indexOf("javascript:")==0&&(r=r.substr(11))),r):(n&&(n.attributeName="href"),t?e.href:r)},LogiXML.getScriptInfo=LogiXML.getScriptInfo||function(e){var t,n=e;e=LogiXML.resolveScriptSrc(e);for(var r=0;r<LogiXML.scriptsLoading.length;r++){t=LogiXML.scriptsLoading[r];if(e==t.src)return t}t={src:e,srcOrig:n,script:null,onAfterLoad:[],origArgs:[],onFail:[],loaded:!1,failed:!1,onAfterLoadAll:function(){this.onFailTimeout&&(clearTimeout(this.onFailTimeout),this.onFailTimeout=null),this.loaded=!0;for(var e=0;e<this.onAfterLoad.length;e++){var t=this.onAfterLoad[e];if(!t)continue;var n=this.origArgs[e],r=n[0];Array.isArray(r)||(r=[r]);var i=0,s=0;for(var o=0;o<r.length;o++){var u=r[o],a=LogiXML.getScriptInfo(u);a.failed&&i++,a.loaded||s++}if(i){var f=this.onFail[e];f&&f(n);continue}if(s)continue;this.onAfterLoad[e](n)}},onFailAll:function(){if(this.loaded)return;this.failed=!0;for(var e=0;e<this.onFail.length;e++){var t=this.onFail[e];t&&t()}},setEvents:function(){this.onFailTimeout&&(clearTimeout(this.onFailTimeout),this.onFailTimeout=null);var e=this,t=this.script;t.readyState?t.onreadystatechange=function(){if(t.readyState==="loaded"||t.readyState==="complete")t.onreadystatechange=null,setTimeout(e.onAfterLoadAll.bind(e),10)}:t.onload=function(){t.onload=null,setTimeout(e.onAfterLoadAll.bind(e),10)},e.onFailTimeout=setTimeout(e.onFailAll.bind(e),4e3)}};var i=document.getElementsByTagName("SCRIPT"),s,o;for(var r=0;r<i.length;r++){s=i[r],o=s.getAttribute("src"),o||(o=s.getAttribute("SRC"));if(e==o){t.script=s,t.loaded=!0;break}}return LogiXML.scriptsLoading.push(t),t},LogiXML.getUrlParameters=LogiXML.getUrlParameters||function(url){if(!url)return[];var params=[];url instanceof HTMLElement&&(url=LogiXML.getScriptFromLink(url,!0));var i=url.indexOf("?"),sParams,idx,startQuote=null;if(i<0)idx=0,sParams=url;else{idx=i+1,sParams=url.substr(idx);if(i>0){var i1=url.substr(0,idx).lastIndexOf("'"),i2=url.substr(0,idx).lastIndexOf('"');i=Math.max(i1,i2),i>=0&&(startQuote=url.substr(i,1))}}var aParams=sParams.split("&");for(i=0;i<aParams.length;i++){var kvp=aParams[i].split("="),length=0;i+1<aParams.length&&length++;var parm={},j;if(kvp[0]){if(startQuote){j=kvp[0].indexOf(startQuote);if(j==0)break;j>0&&(kvp[0]=kvp[0].substr(0,j),aParams.length=i+1)}length+=kvp[0].length,startQuote&&(kvp[0]=eval(startQuote+kvp[0]+startQuote)),kvp[0]=kvp[0].replace(/\+/g,"%20"),parm.name=decodeURIComponent(kvp[0])}kvp.length>1&&(startQuote&&(j=kvp[1].indexOf(startQuote),j>=0&&(j>0?kvp[1]=kvp[1].substr(0,j):kvp[1]="",aParams.length=i+1)),length+=1,kvp[1]?(length+=kvp[1].length,startQuote&&(kvp[1]=eval(startQuote+kvp[1]+startQuote)),kvp[1]=kvp[1].replace(/\+/g,"%20"),parm.value=decodeURIComponent(kvp[1])):parm.value=""),parm.name&&(parm.length=length,parm.idx=idx,params.push(parm)),idx+=length}return params},LogiXML.getUrlParameter=LogiXML.getUrlParameter||function(e,t){var n=LogiXML.getUrlParameters(e),r;for(var i=0;i<n.length;i++){r=n[i];if(r.name===t)return"value"in r?r.value:""}return null},LogiXML.removeUrlParameter=LogiXML.removeUrlParameter||function(e,t){var n,r;if(e instanceof HTMLElement){n=e;var s={};e=LogiXML.getScriptFromLink(n,!0,s),r=s.attributeName}else n=null,r=null;var o=LogiXML.getUrlParameters(e);for(i=0;i<o.length;i++){kvp=o[i];if(kvp.name==t){var u="";return kvp.idx>0&&(u=e.substr(0,kvp.idx)),e.length>kvp.idx+kvp.length&&(u+=e.substr(kvp.idx+kvp.length)),n?(n.setAttribute(r,u),n):u}}return n?n:e},LogiXML.setUrlParameter=LogiXML.setUrlParameter||function(e,t,n){var r=LogiXML.getUrlParameters(e),i,s,o=!1;for(s=0;s<r.length;s++){i=r[s];if(i.name==t){o=!0,typeof n=="undefined"?"value"in i&&delete i.value:i.value=n;break}}o||r.push({name:t,value:n}),s=e.indexOf("?"),i=r[0],s>0?e=e.substr(0,s)+"?":e.indexOf("=")>0?e="":e.length&&(e+="?"),"value"in i?e+=encodeURIComponent(i.name)+"="+encodeURIComponent(i.value):e+=encodeURIComponent(i.name);for(s=1;s<r.length;s++)i=r[s],"value"in i?e+="&"+encodeURIComponent(i.name)+"="+encodeURIComponent(i.value):e+="&"+encodeURIComponent(i.name);return e},LogiXML.submitAsync=LogiXML.submitAsync||function(e,t,n,r){var i="",s=e.action,o=[],u,a;if(e.elements&&e.elements.length)for(u=0;u<e.elements.length;u++){var f=e.elements[u];f.name&&(f.type.toLowerCase()=="file"&&f.files&&f.files.length?o.push(f):i+=rdGetInputValues(f,!0))}i.length&&(i=i.substr(1));var l;if(o.length&&window.FormData){l=null;var c=LogiXML.getUrlParameters("?"+i);i=new FormData;for(u=0;u<c.length;u++){var h=c[u];i.append(h.name,h.value)}for(u=0;u<o.length;u++){var p=o[u];for(a=0;a<p.files.length;a++){var d=p.files[a];i.append(p.name,d,d.name)}}}else l="application/x-www-form-urlencoded";var v;window.XMLHttpRequest?v=new XMLHttpRequest:v=new ActiveXObject("Microsoft.XMLHTTP"),v.open("POST",s,!0);if(t||n)v.onreadystatechange=function(){if(v.readyState==4){var e=String(v.status);e.length==3&&e.indexOf("2")==0?t&&t.apply(this,arguments):n&&n.apply(this,arguments)}};l&&v.setRequestHeader("Content-type",l);if(r&&r.length)for(var u=0;u<r.length;u++){var m=r[u];v.setRequestHeader(m.name,m.value)}v.send(i)},LogiXML.eleOverlay=function(e,t){var n=e.parentNode,r=0,i=0,s=null;if(e.tagName.toLowerCase()=="tr"){while(n.tagName.toLowerCase()!="table")n=n.parentNode;s=n,n=n.parentNode}while(n&&n.tagName.toLowerCase().indexOf("rdcondelement")==0)n=n.parentNode;var o=e.getBoundingClientRect();t.overlayCfg={position:t.style.position,width:t.style.width,height:t.style.height,top:t.style.top,left:t.style.left,parent:t.parentNode,op:n,opPosition:n.style.position},n.style.position="relative",r+=e.offsetTop,i+=e.offsetLeft,s&&(r+=s.offsetTop,i+=s.offsetLeft),n.appendChild(t.parentNode.removeChild(t)),t.style.position="absolute",t.style.width=o.width+"px",t.style.height=o.height+"px",t.style.top=r+"px",t.style.left=i+"px"},LogiXML.eleOverlayUndo=function(e){if(!e||!e.overlayCfg)return;e.style.position=e.overlayCfg.position,e.style.width=e.overlayCfg.width,e.style.height=e.overlayCfg.height,e.style.top=e.overlayCfg.top,e.style.left=e.overlayCfg.left,e.overlayCfg.parent.appendChild(e.parentNode.removeChild(e)),e.overlayCfg.op.style.position=e.overlayCfg.opPosition,e.overlayCfg=null},LogiXML.version="1.0.0.0",function(){var e=document.currentScript||function(){var e=document.getElementsByTagName("script");return e[e.length-1]}();e&&(LogiXML.version=LogiXML.getUrlParameter(e.src,"v"))}(),LogiXML.addCssClass=LogiXML.addCssClass||function(e,t){if(!e||!t)return;var n=e.className.split(" ");for(var r=0;r<n.length;r++){var i=n[r];if(i==t)return}n.push(t),e.className=n.join(" ")},LogiXML.removeCssClass=LogiXML.removeCssClass||function(e,t){if(!e||!t)return!1;var n=e.className.split(" "),r=[],i=!1;for(var s=0;s<n.length;s++){var o=n[s];o!=t?r.push(o):i=!0}return e.className=r.join(" "),i},LogiXML.addScript=LogiXML.addScript||function(e,t,n){var r,s=[];Array.isArray(e)||(e=e.split("|"));var o=e.length,u=o,a,f;for(var l=0;l<e.length;l++)r=e[l],a=LogiXML.getScriptInfo(r),s[l]=a,a.script&&o--,a.loaded&&u--;if(o<=0&&u<=0)return!1;var c=document.getElementsByTagName("HEAD");c&&c.length?c=c[0]:c=document.body;for(i=0;i<s.length;i++){var a=s[i],h=!a.script;h&&(a.script=document.createElement("SCRIPT"),a.script.type="text/javascript",a.script.src=e[i],a.script.async=!1),a.onAfterLoad.push(t),a.onFail.push(n),a.origArgs.push(arguments),a.setEvents(),h&&c.appendChild(a.script)}return!0},LogiXML.mergeStylesheets=LogiXML.mergeStylesheets||function(e){if(!e||!e.getElementsByTagName||e===document)return;var t=e.getElementsByTagName("LINK");for(var n=0;n<t.length;n++){var r=t[n];r.getAttribute("rel")=="stylesheet"&&r.getAttribute("type")=="text/css"&&LogiXML.addStylesheet(r.getAttribute("href"))}},LogiXML.addStylesheet=LogiXML.addStylesheet||function(e){if(!e)return;var t=document.getElementsByTagName("HEAD");t&&t.length?t=t[0]:t=document.body;var n,r=t.getElementsByTagName("LINK"),i,s=0,o=!1;for(var u=0;u<r.length;u++){n=r[u],i=n.getAttribute("href"),i||(i=n.getAttribute("HREF"));if(i==e){s=1;break}}return s||(n=document.createElement("LINK"),n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",e),t.appendChild(n),o=!0),o},LogiXML.createElement=LogiXML.createElement||function(e){var t=document.createElement("DIV");return t.innerHTML=e,t.removeChild(t.firstChild)},LogiXML.getElementByIdEnding=LogiXML.getElementByIdEnding||function(e,t,n){var r;!e||e instanceof HTMLElement?r=!1:(r=!0,e=e._node);if(!e||!t)return null;var i;n?i=e.getElementsByTagName(n):i=e.childNodes;var s=null;for(var o=0;o<i.length;o++){s=i[o];if(s.id&&s.id.lastIndexOf(t)===s.id.length-t.length)break;if(!n){s=LogiXML.getElementByIdEnding(s,t);if(s)break}s=null}return s&&r?Y.one(s):s},LogiXML.resolveScriptSrc=LogiXML.resolveScriptSrc||function(e){if(e&&(e.indexOf("rdTemplate/")==0||e.indexOf("/rdTemplate/")>=0)){version=LogiXML.getUrlParameter(e,"v");if(!version)return LogiXML.setUrlParameter(e,"v",LogiXML.version)}return e},LogiXML.escapeSelector=function(e){if(!e)return e;var t=e.charCodeAt(0).toString(16).toLowerCase();while(t.length<6)t="0"+t;return t="\\"+t,e.length==1?t:t+e.substr(1).replace(/\\/g,"\\00005c").replace(/\./g,"\\.").replace(/ /g,"\\000020").replace(/!/g,"\\000021").replace(/"/g,"\\000022").replace(/#/g,"\\000023").replace(/\$/g,"\\000024").replace(/%/g,"\\000025").replace(/&/g,"\\000026").replace(/'/g,"\\000027").replace(/\(/g,"\\000028").replace(/\)/g,"\\000029").replace(/\*/g,"\\00002a").replace(/\+/g,"\\00002b").replace(/,/g,"\\00002c").replace(/-/g,"\\00002d").replace(/\//g,"\\00002f").replace(/:/g,"\\00003a").replace(/;/g,"\\00003b").replace(/</g,"\\00003c").replace(/=/g,"\\00003d").replace(/>/g,"\\00003e").replace(/\?/g,"\\00003f").replace(/@/g,"\\000040").replace(/\[/g,"\\00005b").replace(/\]/g,"\\00005d").replace(/\^/g,"\\00005e").replace(/`/g,"\\000060").replace(/\{/g,"\\00007b").replace(/\|/g,"\\00007c").replace(/\}/g,"\\00007d").replace(/\~/g,"\\00007e")},LogiXML.fixYuiTest=LogiXML.fixYuiTest||function(e){if(e.__rdOriginalYuiTest)return;e.__rdOriginalYuiTest=e.test,e.test=function(e){return e&&typeof e=="string"&&e[0]=="#"&&Y.one(e)===this?!0:this.__rdOriginalYuiTest.apply(this,arguments)}.bind(e)},LogiXML.getAncestorByTagName=LogiXML.getAncestorByTagName||function(e,t,n){var r=!1;e&&!(e instanceof HTMLElement)&&(r=!0,e=e._node);if(!e||!t)return null;t=t.toLowerCase();if(n&&e.tagName.toLowerCase()===t)return r?Y.one(e):e;e=e.parentNode;while(e&&e.tagName.toLowerCase()!=t)e=e.parentNode;return e?r?Y.one(e):e:null},LogiXML.xmlStringToDoc=LogiXML.xmlStringToDoc||function(e){if(window.DOMParser)return parser=new DOMParser,parser.parseFromString(e,"text/xml");var t=new ActiveXObject("Microsoft.XMLDOM");return t.async=!1,t.loadXML(kml),t},LogiXML.watchDownload=LogiXML.watchDownload||function(e){if(!e||!!LogiXML._downloadForm)return;var t=window.location.href,n=t.indexOf("?");n>0&&(t=t.substr(0,n));var r=document.createElement("FORM");r.id="rdExportFileForm",r.style.display="none",r.action=t,r.method="POST",document.body.appendChild(r);var i=document.createElement("INPUT");i.type="hidden",i.name="rdExportFileGuid",i.value=e,r.appendChild(i),LogiXML._downloadForm=r,LogiXML._downloadFormSuccess=function(){if(!LogiXML._downloadForm)return;switch(this.status){case 201:LogiXML.unwatchDownload();break;case 202:setTimeout(function(){LogiXML._downloadForm&&LogiXML.submitAsync(LogiXML._downloadForm,LogiXML._downloadFormSuccess)},1e3)}},LogiXML.submitAsync(LogiXML._downloadForm,LogiXML._downloadFormSuccess)},LogiXML.unwatchDownload=LogiXML.unwatchDownload||function(){Y.Cookie&&Y.Cookie.exists("rdFileDownloadComplete")&&Y.Cookie.remove("rdFileDownloadComplete",{path:"/"}),LogiXML._downloadForm&&(LogiXML._downloadForm.parentNode.removeChild(LogiXML._downloadForm),LogiXML._downloadForm=null,LogiXML._downloadFormSuccess=null)},LogiXML.isDownloadComplete=LogiXML.isDownloadComplete||function(e){return Y.Cookie&&Y.Cookie.exists("rdFileDownloadComplete")?!0:e?!LogiXML._downloadForm:!1};var _nThrottleTimeout=0;LogiXML.studioWizardFixup=LogiXML.studioWizardFixup||function(){if(LogiXML.getUrlParameter(location.href,"rdForWizard")==="True"){LogiXML.studioFx=LogiXML.studioFx||{};var e=document.getElementsByTagName("A");for(var t=0;t<e.length;t++){var n=e[t],r=n.getAttribute("href"),i=n.getAttribute("onclick");if(r==="javascript:void(0);"&&i){n.setAttribute("onclick","return true;");var s=(new Function(i)).bind(n),o="rdStudio"+LogiXML.getGuid().replace(/-/g,"");LogiXML.studioFx[o]=s,n.setAttribute("href","javascript:(function(){LogiXML.studioFx."+o+"();return;})();")}}LogiXML.Ajax.AjaxTarget().on("reinitialize",LogiXML.studioWizardFixup)}},document.addEventListener("DOMContentLoaded",function(){LogiXML.studioWizardFixup(),LogiXML.DOMContentLoaded=!0});

/* 
* rdYui/attribute-helpers.js 
*/
// JSLint options:
/*global LogiXML, YUI, document, window */YUI.add("attribute-helpers",function(e){var t=e.namespace("LogiXML.Attribute"),n=e.Lang;t.booleanValidator=function(e){return n.isString(e)||n.isBoolean(e)},t.booleanSetter=function(e){return n.isBoolean(e)?e:(e=e.toLowerCase(),e==="true"?!0:!1)}},"1.0.0",{requires:[]});

/* 
* rdYui/auto-complete.js 
*/
YUI.add("rdAutoComplete",function(Y){var Lang=Y.Lang,TRIGGER="rdAutoCompleteElement";LogiXML.Ajax.AjaxTarget&&LogiXML.Ajax.AjaxTarget().on("reinitialize",function(){Y.LogiXML.rdAutoComplete.createElements(!0)}),Y.LogiXML.Node.destroyClassKeys.push(TRIGGER),Y.namespace("LogiXML").rdAutoComplete=Y.Base.create("rdAutoComplete",Y.Base,[],{_handlers:{},configNode:null,id:null,values:[],multiSelect:!1,delimiter:null,rdEventOnAutoComplete:"",initializer:function(config){var self=this;this._parseHTMLConfig(),this.configNode.setData(TRIGGER,this);var btnComboDropdown=Y.one("#"+this.configNode.getAttribute("id")+"_rdDropdown"),inputNode=this.configNode,parent=inputNode.get("parentNode");parent&&parent.addClass("yui3-skin-sam");var EventOnAutoComplete=this.rdEventOnAutoComplete,multiSelect=this.multiSelect,sOnChange=this.configNode.getAttribute("data-event-onchange"),sOnBlur=this.configNode.getAttribute("data-event-onblur"),sOnFocus=this.configNode.getAttribute("data-event-onfocus");this._handlers.AutCompletePlugin=this.configNode.plug(Y.Plugin.AutoComplete,{allowTrailingDelimiter:!0,minQueryLength:0,queryDelay:0,queryDelimiter:this.delimiter,scrollIntoView:!1,resultHighlighter:"startsWith",source:this.values,render:btnComboDropdown?!1:!0,after:{select:function(){sOnChange!=""&&eval(sOnChange),multiSelect&&this._inputNode&&this._inputNode.ac.sendRequest("")}},resultFormatter:function(e,t){return Y.Array.map(t,function(e){var t=e.raw,n="",r=e.text.indexOf("_rdTooltip_");return r!=-1&&(n='title="'+t.substr(r+11).replace("'","'")+'" ',t=t.substr(0,r),e.text=e.text.substr(0,r)),"<span "+n+'">'+t+"</span>"})},resultListLocator:function(e){if(LogiXML&&LogiXML.rdInputTextDelimiter){var t=inputNode._node.getAttribute("data-fetch-minLength");if(!t||t<=0)return e;var n=inputNode._node,r=n.getAttribute("data-delimiter-container-id");if(r){var i=document.getElementById(r);if(i){var s=i.getElementsByClassName(LogiXML.rdInputTextDelimiter.EDITOR_CLASS_NAME)[0];LogiXML.rdInputTextDelimiter.sync(s,!0)}}var o=inputNode.get("value"),u=inputNode._node.getAttribute("data-delimiter"),a=inputNode._node.getAttribute("data-qualifier"),f=inputNode._node.getAttribute("data-escape");u||(u=",");var l;if(!a){var c=LogiXML.rdInputTextDelimiter.getEntries(o,u,a,f,!0);l=c.entry}else{var c=o.split(/\s*,\s*/);l=c[c.length-1]}return l.length>=t?e:[]}return e},resultFilters:["startsWith",function(e,t){var n;if(LogiXML&&LogiXML.rdInputTextDelimiter){var r=inputNode._node,i=r.getAttribute("data-delimiter-container-id");if(i){var s=document.getElementById(i);if(s){var o=s.getElementsByClassName(LogiXML.rdInputTextDelimiter.EDITOR_CLASS_NAME)[0];LogiXML.rdInputTextDelimiter.sync(o,!0)}}var u=inputNode.get("value"),a=inputNode._node.getAttribute("data-delimiter"),f=inputNode._node.getAttribute("data-qualifier"),l=inputNode._node.getAttribute("data-escape");a||(a=","),n=LogiXML.rdInputTextDelimiter.getEntries(u,a,f,l,!1);if(!f)for(var c=0;c<t.length;c++){var h=t[c].text,p=h.split(a);if(p.length>1){var d=!1;for(var v=0;v<p.length;v++){var m=p[v];if(n.indexOf(m)<0){d=!0;break}}d||n.push(h)}}}else n=inputNode.get("value").split(/\s*,\s*/);return n=Y.Array.hash(n),Y.Array.filter(t,function(e){return!n.hasOwnProperty(e.text)})}]}),sOnChange!=""&&inputNode.on("change",function(){eval(sOnChange)}),sOnBlur!=""&&inputNode.on("blur",function(){eval(sOnBlur)}),sOnFocus&&inputNode.on("focus",function(){eval(sOnFocus)});if(btnComboDropdown){var eleButton=btnComboDropdown.getDOMNode();eleButton.style.display="",eleButton.style.cursor="default",inputNode.ac.sendRequest(""),inputNode.ac.render(),btnComboDropdown.on("click",function(e){try{inputNode.ac.sendRequest(""),inputNode.getDOMNode().focus()}catch(e){}})}else inputNode.ac.render=!0;if(this.delimiter){if(inputNode.getDOMNode().value&&inputNode.getDOMNode().value.length>0){var inputVal=inputNode.getDOMNode().value,inputArray=inputVal.trim().split(this.delimiter);for(var i=0;i<inputArray.length;i++)inputArray[i]=inputArray[i].trim();inputNode.set("value",inputArray.join(this.delimiter+" ")),inputNode.ac.set("value",inputNode.get("value"))}inputNode.getDOMNode().value&&inputNode.getDOMNode().value.length>0&&inputNode.getDOMNode().value.trim().lastIndexOf(this.delimiter)!=inputNode.getDOMNode().value.trim().length-this.delimiter.length&&(inputNode.set("value",inputNode.getDOMNode().value+this.delimiter+" "),inputNode.ac.set("value",inputNode.get("value")))}},_parseHTMLConfig:function(){this.configNode=this.get("configNode"),this.id=this.configNode.getAttribute("id"),this.values=this.configNode.getAttribute("data-values").split("||"),this.multiSelect=this.configNode.getAttribute("data-multiSelect")=="True"?!0:!1,this.multiSelect?this.delimiter=this.configNode.getAttribute("data-delimiter"):this.delimiter="",this.rdEventOnAutoComplete=this.configNode.getAttribute("data-event")},destructor:function(){var e=this.configNode;this._clearHandlers(),e.setData(TRIGGER,null)},_clearHandlers:function(){var e=this;Y.each(this._handlers,function(e){e&&(e.detach&&e.detach(),e.destroy&&e.destroy(),e=null)})}},{NAME:"rdAutoComplete",ATTRS:{configNode:{value:null,setter:Y.one}},createElements:function(){var e;Y.all("."+TRIGGER).each(function(t){e=t.getData(TRIGGER),e||(e=new Y.LogiXML.rdAutoComplete({configNode:t}))})}})},"1.0.0",{requires:["base","node","event","node-custom-destroy","autocomplete","autocomplete-highlighters","autocomplete-filters"]});

/* 
* rdYui/canvas-utils.js 
*/
// JSLint options:
/*global LogiXML: true, YUI: false, document: false, window: false, console: false */YUI.add("canvas-utils",function(e){var t=e.namespace("LogiXML.Canvas"),n=e.LogiXML.Image,r=e.Lang,i=r.isValue,s=LogiXML.String.isBlank,o="rect",u="poly",a="circ",f=-Math.PI/2,l=function(t){var n;return t=e.one(t),t instanceof e.Node&&t.get("tagName")==="AREA"?(n=t.getAttribute("shape"),s(n)?!1:!0):!1},c=function(e,t,n,r,i,s,o,u){var a=Math.atan2(t-r,e-n),f=Math.atan2(s-u,i-o);return a-f},h=function(e,t,n,r){var i=e-n,s=t-r;return Math.sqrt(i*i+s*s)},p=function(e,t,n){var r=e.length,i;return t>=r?undefined:r===1?e[0]:(n?t-=1:t+=1,t>r-1?i=e[0]:t<0?i=e[r-1]:i=e[t],i)},d=function(e,t,n,r,i){var s,f;r=r||0,i=i||0,t=t.toLowerCase(),e.beginPath();if(t===o)e.rect(n.leftX+r,n.topY+i,n.rightX-n.leftX,n.bottomY-n.topY);else if(t===u){s=n.length,e.moveTo(n[0].x+r,n[0].y+i);for(f=1;f<s;f+=1)e.lineTo(n[f].x+r,n[f].y+i)}else t===a&&e.arc(n.x+r,n.y+i,n.radius,0,Math.PI*2,!1);e.closePath()},v=function(e,t,n,r,i,s,o){i+=f,s+=i,e.beginPath(),e.moveTo(t,n),e.arc(t,n,r,i,s,o),e.closePath()},m=function(e,t,n,r,i,s,o){s+=f,o+=s,e.moveTo(n.x,n.y),e.beginPath(),e.arc(t.x,t.y,r,s,o,!1),e.arc(t.x,t.y,i,o,s,!0),e.closePath()};t.drawAreaMapShape=function(e,t,i,s){var o,u;return l(t)?(u=t.getAttribute("shape"),o=n.Map.parseAreaCoordinates(t),r.isValue(o)?(d(e,u,o,i,s),!0):!1):!1},t.drawPieWedgeFromArea=function(e,t,s,o,u){var a,f,d,g,y,b=Number.MAX_VALUE,w,E,S,x,T,N=!0;if(!l(t))return!1;a=n.Map.parseAreaCoordinates(t);if(!r.isValue(a))return!1;f=a.length;for(T=0;T<f;T+=1){d=a[T];if(s.x===d.x&&s.y===d.y){g=T,N=!1;break}y=h(s.x,s.y,d.x,d.y),b>y&&(b=y,g=T)}return N&&(s=a[g]),w=p(a,g),E=p(a,g,!0),w.x=w.x-s.x,w.y=s.y-w.y,E.x=E.x-s.x,E.y=s.y-E.y,S=c(0,0,0,50,0,0,w.x,w.y),x=c(0,0,w.x,w.y,0,0,E.x,E.y),i(u)?m(e,s,w,o,u,S,x):v(e,s.x,s.y,o,S,x,!1),!0},t.radiansToDegrees=function(e){return Math.round(e*180/Math.PI)},t.degreesToRadians=function(e){return e*Math.PI/180}},"1.0.0",{requires:["dom-base","node-base","image-utils"]});

/* 
* rdYui/chartfx-canvas-screen.js 
*/
// JSLint options:
/*global LogiXML: true, YUI: false, document: false, window: false, G_vmlCanvasManager: false *//*
 * Canvas Screen setups a canvas element where it's applied on top of
 * a static image.  The image and canvas element are then wrapped in a DIV to
 * keep them positioned correctly.  This allows you to draw visual 
 * effects on top of static images.
 * The technique is based off work from http://davidlynch.org/projects/maphilight/docs/
 *
 * For IE 7/8 we rely on excanvas
 */YUI.add("chartfx-canvas-screen",function(e){var t=e.LogiXML.Image,n=e.Lang,r="absolute",i="relative",s="px",o={position:r,left:0,top:0},u={display:"block",position:i,padding:0},a={position:r,left:0,top:0,padding:0,border:0,opacity:1};e.namespace("LogiXML.ChartFX").CanvasScreen=e.Base.create("canvasScreen",e.Base,[],{initializer:function(e){var n=this.get("chart"),r=e.constrainParameters,i=t.getDimensions(n);this._wrapper=this._createWrapper(i),this._canvasDOM=this._createCanvas(i,r).getDOMNode()},destructor:function(){var e=this.get("chart"),n=this.get("canvas");e.setStyle("opacity",1),this._wrapper.getDOMNode()&&this._wrapper.setStyle("background",""),n.getDOMNode()&&n.remove(!0),t.unwrapImage(e)},_createCanvas:function(t,r){var i=document.createElement("canvas"),s=this.get("chart"),o=this.get("canvasLocation"),u=a;return i=e.Node(i),o==="wrapper"?this._wrapper.prepend(i):s.insert(i,"before"),LogiXML.features.canvas||G_vmlCanvasManager.initElement(i.getDOMNode()),n.isValue(r)&&(u=e.merge(u,{left:r.x,bottom:r.y,top:""}),t.width=r.width,t.height=r.height),i.setStyles(u),i.getDOMNode().width=t.width,i.getDOMNode().height=t.height,this._set("canvas",i),i},_createWrapper:function(e){var n=this.get("chart"),r;return r=t.wrapImage(n),r.setStyles(this._getWrapperStyles(n,e)),n.setStyles(this._getChartStyles()),r},_getChartStyles:function(){return e.merge({opacity:0},o)},_getWrapperStyles:function(t,n){return e.merge({width:n.width+s,height:n.height+s,background:'url("'+t.get("src")+'") no-repeat scroll 0 0 transparent'},u)},clearCanvas:function(){var e=this._canvasDOM,t=e.getContext("2d");return t.clearRect(0,0,e.width,e.height),t},getCanvasContext:function(){return this._canvasDOM.getContext("2d")},getWrapper:function(){return this._wrapper}},{NAME:"canvasScreen",CSS_PREFIX:"canvasScreen",ATTRS:{canvas:{setter:e.one,readOnly:!0},canvasLocation:{value:"chart",validator:n.isString},chart:{setter:e.one,validator:function(t){var n=e.one(t);return n instanceof e.Node&&n.get("tagName")==="IMG"}}}})},"1.0.0",{requires:["dom","node-base","base","image-utils"]});

/* 
* rdYui/chartfx-highlight.js 
*/
// JSLint options:
/*global LogiXML: true, YUI: false, document: false, window: false */YUI.add("chartfx-highlight",function(e){var t=e.LogiXML.Attribute,n=e.LogiXML.Canvas,r=e.LogiXML.Color,i=e.LogiXML.Image,s=LogiXML.String.isNotBlank,o=e.Lang,u=o.isValue,a=e.namespace("LogiXML.ChartFX"),f="chartfx-highlight",l="disable-highlight",c="rect",h="px",p=i.Map.LABEL_FLAG,d=i.Map.LEGEND_FLAG,v="data-plot-edge",m="left",g="data-highlight-processed",y=i.Map.SERIES_ID_ATTRIBUTE,b="data-charttype",w="data-heatmap-grouping",E="#5b5b5b",S="#ffffff",x={display:"block",background:"none repeat scroll 0 0 "+E,position:"absolute",left:0,bottom:0,padding:0,border:0,margin:0,width:"1px",height:"1px"};e.LogiXML.Node.destroyClassKeys.push(f);var T=e.Base.create("Highlight",e.Base,[],{initializer:function(){var e=this.get("chart");this._mapNode=i.getMapfromImage(e),i.wrapImage(e),this._parseHTMLConfig(this._mapNode,e),this._canvasScreen=this._createCanvasScreen(),this._handles={},this._trigger={},this._trigger.node=null,this._trigger.mouseLeaveHandle=null,this._bindEvents(),e.setData(f,this),this._mapNode.setAttribute(g,!0)},destructor:function(){this._clearHandles(),this._canvasScreen.destroy(),this._unwrapDone||i.unwrapImage(this.get("chart"))},_parseHTMLConfig:function(e,n){var r=e.getAttribute("data-plotAttributes").split(",");this._chart3D=t.booleanSetter(e.getAttribute("data-chart3d")),this._chartType=e.getAttribute(b).toLowerCase(),this._chartSeriesTypes=e.getAttribute("data-series-types").split(","),this.set("fillColor",e.getAttribute("data-highlight-fill-color")),this.set("opacity",e.getAttribute("data-highlight-opacity")),this._set("plotAttributes",{x:parseInt(r[0],10),y:parseInt(r[1],10),width:parseInt(r[2],10),height:parseInt(r[3],10)})},_createCanvasScreen:function(e){var t;return e?t=new a.CanvasScreen({chart:this.get("chart"),constrainParameters:this.get("plotAttributes")}):t=new a.CanvasScreen({chart:this.get("chart")}),t},_bindEvents:function(){var t=this._handles;t.mouseEnter=e.delegate("mouseenter",this._onMouseEnter,this._mapNode,"area",this),t.mouseClick=e.delegate("click",this._onMouseClick,this._mapNode,"area",this),this._addResizeEvents()},_addResizeEvents:function(){var e=this._handles,t=this.get("chart");e.chartResizeStart=t.on("resize:start",this._onChartResizeStart,this),e.chartResizeEnd=t.on("resize:end",this._onChartResizeEnd,this)},_clearHandles:function(){var t=this._handles;e.each(t,function(e){e&&(e.detach(),e=null)})},_onMouseEnter:function(e){var t=e.currentTarget,n=this._trigger.node,r,i;if(t.hasClass(l))return;if(t.hasAttribute(p)||t.hasAttribute(d)){t.addClass(l);return}r=t.getAttribute(y),i=this._chartSeriesTypes;if(s(r)&&i.length>1){r=parseInt(r,10);if(!isNaN(r)&&this._chartType!==i[r-1].toLowerCase())return}t&&(!n||!t.compareTo(n))&&(this._setTriggerNode(t),this._highlightAreaMapShape(t))},_onMouseLeave:function(){this._clearTriggerNode(),this._canvasScreen.clearCanvas()},_onMouseClick:function(){this._clearTriggerNode(),this._canvasScreen.clearCanvas()},_onChartResizeStart:function(){var e=this.get("chart");e.setStyle("opacity",1),this._canvasScreen.destroy(),i.unwrapImage(e),this._unwrapDone=!0},_onChartResizeEnd:function(){a.Highlight.reinitializeAfterResize(this.get("chart"),this)},_setTriggerNode:function(e){this._trigger.mouseLeaveHandle=e.on("mouseleave",this._onMouseLeave,this),this._trigger.node=e},_clearTriggerNode:function(){this._trigger.node=null,this._trigger.mouseLeaveHandle&&(this._trigger.mouseLeaveHandle.detach(),this._trigger.mouseLeaveHandle=null)},_highlightAreaMapShape:function(t){var s=t.getAttribute("shape"),o=i.Map.parseAreaCoordinates(t),u;if(!e.Lang.isValue(o))return;if(!e.Lang.isString(s))return;this._canvasScreen.clearCanvas(),u=this._canvasScreen.getCanvasContext(),u.save(),u.fillStyle=r.hexToCSS_RGB(this.get("fillColor"),this.get("opacity")),n.drawAreaMapShape(u,t),u.fill(),u.restore()},convertClientToServerCoordinate:function(e){var t=this.get("plotAttributes"),n=this.get("chart").get("height"),r={};return r.x=e.x-t.x,r.y=e.y-(n-t.y-t.height),r}},{NAME:"highlight",ATTRS:{chart:{setter:e.one,validator:function(t){var n=e.one(t);return n instanceof e.Node&&n.get("tagName")==="IMG"}},fillColor:{value:S,validator:s},opacity:{value:.2,validator:LogiXML.opacityValidator},plotAttributes:{readOnly:!0}}}),N=function(){N.superclass.constructor.apply(this,arguments)};e.extend(N,T,{_onMouseEnter:function(e){var t=e.currentTarget;if(!t.hasAttribute(y))return;N.superclass._onMouseEnter.call(this,e)}},{NAME:"HighlightBarChart"});var C=function(){C.superclass.constructor.apply(this,arguments)};e.extend(C,T,{_onMouseEnter:function(e){var t=e.currentTarget;if(t.hasAttribute(w))return;C.superclass._onMouseEnter.call(this,e)}},{NAME:"HighlightHeatmap"});var k=function(){k.superclass.constructor.apply(this,arguments)};e.extend(k,T,{_parseHTMLConfig:function(t,n){k.superclass._parseHTMLConfig.call(this,t,n);var r=i.Map.parsePieChartRenderSettings(t);if(!e.Lang.isValue(r))return!1;this._ellipsePie=r.ellipsePie,this._pieCenter=r.pieCenter,this._pieRadius=r.pieRadius,this._pieInnerRadius=r.pieInnerRadius},_highlightAreaMapShape:function(e){var t;if(this._ellipsePie){k.superclass._highlightAreaMapShape.call(this,e);return}t=this._canvasScreen.getCanvasContext(),this._canvasScreen.clearCanvas(),t.save(),t.fillStyle=r.hexToCSS_RGB(this.get("fillColor"),this.get("opacity")),n.drawPieWedgeFromArea(t,e,this._pieCenter,this._pieRadius,this._pieInnerRadius),t.fill(),t.restore()}},{NAME:"HighlightPieChart"});var L=function(){L.superclass.constructor.apply(this,arguments)};e.extend(L,T,{initializer:function(){this._parseHTMLConfig_ScatterChart()},_parseHTMLConfig_ScatterChart:function(){this.set("borderColor",this._mapNode.getAttribute("data-highlight-border-color")),this.set("borderWidth",parseFloat(this._mapNode.getAttribute("data-highlight-border-width")))},_createCanvasScreen:function(){return L.superclass._createCanvasScreen.call(this,!0)},_onMouseEnter:function(e){var t=e.currentTarget;if(!t.hasAttribute(y))return;L.superclass._onMouseEnter.call(this,e)},_highlightAreaMapShape:function(t){var n=i.Map.parseAreaCoordinates(t),s=t.getAttribute("shape"),o=this.get("borderWidth"),u={},a,f,l,h;if(!e.Lang.isString(s))return;s=s.toLowerCase(),s===c?(f=n.rightX-n.leftX,l=n.bottomY-n.topY,l>f?a=l/2:a=f/2,u.x=f/2+n.leftX,u.y=l/2+n.topY,u=this.convertClientToServerCoordinate(u),this._canvasScreen.clearCanvas(),h=this._canvasScreen.getCanvasContext(),h.save(),h.beginPath(),h.strokeStyle=r.hexToCSS_RGB(this.get("borderColor"),this.get("opacity")),h.lineWidth=o,h.arc(u.x,u.y,a+1+o/2,0,Math.PI*2,!1),h.stroke(),h.closePath(),h.restore()):T.superclass._highlightAreaMapShape.call(this,t)}},{NAME:"HighlightScatterChart",ATTRS:{borderColor:{value:E,validator:s,lazyAdd:!1},borderWidth:{value:2,validator:o.isNumber},opacity:{value:1}}});var A=function(){A.superclass.constructor.apply(this,arguments)};e.extend(A,a.MouseTracker,{calculateCenterofArea:function(e,t){var n=i.Map.calculateMiddleofLineChartArea(e,"vertical");return e.hasAttribute(v)&&(n=this.correctCenterPointforEdges(n,e,e.getAttribute(v))),n},correctCenterPointforEdges:function(t,n,r){var i,s,o,u,a,f,l;return i=this.findUniquePoints(n),s=e.Object.keys(i.x),o=e.Object.keys(i.y),l=r===m?!0:!1,s.length===2&&o.length===2?(i=i.x,a=i[s[0]],f=i[s[1]],a[0].x<f[0].x?u=l?a:f:u=l?f:a,t.x=u[0].x):s.length===2?(i=i.x,a=i[s[0]],f=i[s[1]],a[0].x<f[0].x?u=l?a:f:u=l?f:a,t.x=u[0].x,t.y=(u[1].y-u[0].y)/2+u[0].y):o.length===2&&(i=i.y,a=i[o[0]],f=i[o[1]],a[0].x+a[1].x<f[0].x+f[1].x?u=l?a:f:u=l?f:a,t.x=(u[1].x-u[0].x)/2+u[0].x,t.y=u[0].y),t},findUniquePoints:function(e){var t=i.Map.parseAreaCoordinates(e),n={x:{},y:{}},r,s,o;o=t.length;for(r=0;r<o;r+=1)s=t[r],u(n.x[s.x])||(n.x[s.x]=[]),n.x[s.x].push(s),u(n.y[s.y])||(n.y[s.y]=[]),n.y[s.y].push(s);return n}},{NAME:"LineMouseTracker"});var O=function(){O.superclass.constructor.apply(this,arguments)};e.extend(O,T,{initializer:function(){var e=this.get("chart"),t;this._parseHTMLConfig_LineChart(),this._createHighlightBar(),t=this._createMouseTracker(e),this._changeHandle=t.on("tracker:change",this._onTrackerChange,this),this._mouseLeaveHandle=e.on("mouseleave",this._onMouseLeave,this),this._tracker=t},destructor:function(){this._changeHandle.detach(),this._changeHandle=null,this._mouseLeaveHandle.detach(),this._mouseLeaveHandle=null,this._verticalBar.remove(!0),this._tracker.destroy()},_parseHTMLConfig:function(e,t){O.superclass._parseHTMLConfig.call(this,e,t);var n=e.getAttribute("data-series"),r=e.getAttribute("data-seriesColors").split(",");n=parseInt(n,10),n!==r.length?this._useDefaultColor=!0:(this._useDefaultColor=!1,this._seriesColors=r)},_parseHTMLConfig_LineChart:function(){var e=this._mapNode;this.set("borderColor",e.getAttribute("data-highlight-border-color")),this.set("borderWidth",parseFloat(this._mapNode.getAttribute("data-highlight-border-width"))),this.set("lineColor",e.getAttribute("data-highlight-line-color")),this.set("circleRadius",parseFloat(this._mapNode.getAttribute("data-highlight-symbol-radius")))},_createCanvasScreen:function(){return O.superclass._createCanvasScreen.call(this,!0)},_createMouseTracker:function(e){return new A({chart:e,plotAttributes:this.get("plotAttributes"),chartType:this._chartType,chartSeriesTypes:this._chartSeriesTypes})},_createHighlightBar:function(){var t=e.Node.create("<div></div>"),n=this.get("plotAttributes"),r=e.merge(x,{bottom:n.y+h,height:n.height+h});t.setStyles(r),this._canvasScreen.get("canvas").insert(t,"before"),t.hide(),this._verticalBar=t},_bindEvents:function(){this._addResizeEvents()},_onTrackerChange:function(e){var t=e.slice;this._clearHighlight(),t&&this.highlightSlice(t)},_onMouseLeave:function(e){var t="";o.isValue(e.relatedTarget)&&(t=e.relatedTarget.get("tagName").toLowerCase()),t!=="area"&&(this._clearHighlight(),this._tracker.resetState())},highlightSlice:function(t){var n=t.get("nodePoints"),i=this._verticalBar,s=this.get("lineColor"),o;o=n[0].get("xy").x,i.setStyles({left:o+h,backgroundColor:r.hexToCSS_RGB(s),opacity:this.get("opacity")}),i.show(),e.each(n,function(e){this.highlightPoint(e)},this)},highlightPoint:function(e){var t=this._canvasScreen.getCanvasContext(),n=e.get("xy"),i=e.get("node"),s=i.getAttribute(y),o=this.get("circleRadius"),u=this.get("borderColor"),a=this.get("borderWidth"),f;this._useDefaultColor||LogiXML.String.isBlank(s)?f="#000000":(s=parseInt(s,10),f=this._seriesColors[s-1]),n=this.convertClientToServerCoordinate(n),t.save(),t.fillStyle=r.hexToCSS_RGB(f),t.beginPath(),t.arc(n.x,n.y,o,0,Math.PI*2,!1),t.closePath(),t.fill(),t.strokeStyle=r.hexToCSS_RGB(u,this.get("opacity")),t.lineWidth=a,t.beginPath(),t.arc(n.x,n.y,o+a/2,0,Math.PI*2,!1),t.closePath(),t.stroke(),t.restore()},_clearHighlight:function(){this._canvasScreen.clearCanvas(),this._verticalBar.hide()}},{NAME:"HighlightLineChart",ATTRS:{borderColor:{value:S,validator:s},borderWidth:{value:2,validator:o.isNumber},circleRadius:{value:3,validator:o.isNumber},lineColor:{value:E,validator:s},opacity:{value:1}}});var M=function(){M.superclass.constructor.apply(this,arguments)};e.extend(M,a.MouseTracker,{calculateCenterofArea:function(e,t){var n=i.Map.calculateAreaChartHighlightPoint(e,"vertical");return e.hasAttribute(v)&&(n=this.correctCenterPointforEdges(n,e,t)),n},correctCenterPointforEdges:function(e,t,n){var r=i.Map.parseAreaCoordinates(t),s=t.getAttribute("shape").toLowerCase(),o=r.length,u=[],a,f,l,c;l=t.getAttribute(v)===m?!0:!1,c=l?n.minX:n.maxX;if(s==="rect")e.y=r.topY,e.x=r.leftX;else{for(f=0;f<o;f+=1)a=r[f],l&&a.x===c?u.push(a):!l&&a.x===c&&u.push(a);e.y=Math.min(u[0].y,u[1].y),e.x=u[0].x}return e}},{NAME:"areaMouseTracker"});var _=function(){_.superclass.constructor.apply(this,arguments)};e.extend(_,O,{_createMouseTracker:function(e){return new M({chart:e,plotAttributes:this.get("plotAttributes"),chartType:this._chartType,chartSeriesTypes:this._chartSeriesTypes})}},{NAME:"HighlightAreaChart"}),a.Highlight={},a.Highlight.PieChart=k,a.Highlight.ScatterChart=L,a.Highlight.LineChart=O,a.Highlight.AreaChart=_,a.Highlight.DISABLE_HIGHLIGHT_CLASS=l,a.Highlight.initializeAll=function(){var t=e.all("."+f);t.size()!==0&&t.each(function(t){var n=i.getChartMapName(t),r=i.getMapfromImage(t);t.removeClass(f),e.Lang.isValue(n)&&(r?a.Highlight.initializeChart(t):e.once("contentready",a.Highlight.initializeChart,"map[name="+n+"]",this))})},a.Highlight.initializeChart=function(t){var n=t||this,r=i.getMapfromImage(n),s=r.getAttribute(b)||"",o;e.Lang.isString(s)&&(s=s.toLowerCase(),s==="bar"?o=new N({chart:n}):s==="heatmap"?o=new C({chart:n}):s==="pie"?(i.Map.checkForPieChartLabels(r),o=new k({chart:n})):s==="scatter"?o=new L({chart:n}):s==="line"?o=new O({chart:n}):s==="area"?o=new _({chart:n}):o=new T({chart:n}))},a.Highlight.reinitializeAfterResize=function(t,n){var r=i.getChartMapName(t),s="map[name="+r+"]",o=e.one(s);o&&o.hasAttribute(g)&&o.remove(!0),n.destroy(),e.once("contentready",a.Highlight.initializeChart,s,t)},LogiXML.Ajax.AjaxTarget&&LogiXML.Ajax.AjaxTarget().on("reinitialize",a.Highlight.initializeAll)},"1.0.0",{requires:["dom-base","node-base","base","event","canvas-utils","color-utils","image-utils","node-custom-destroy","chartfx-canvas-screen","attribute-helpers","chartfx-mouse-tracker"]});

/* 
* rdYui/chartfx-mouse-tracker.js 
*/
// JSLint options:
/*global LogiXML: true, YUI: false, document: false, window: false, console: false *//*
 * Mouse Tracker tracks the user's mouse position across a chart and 
 * relates that position to areas provided in the chart's image map.
 *
 * This only works along the horizontal(X) axis and assumes your data points 
 * share the same axis values across all data series.  Which is normally line and area charts.
 * 
 */YUI.add("chartfx-mouse-tracker",function(e){var t=e.Lang,n=e.LogiXML.Image,r=t.isValue,i=LogiXML.String.isNotBlank,s=e.namespace("LogiXML.ChartFX"),o="tracker:change",u="rect",a="poly",f="circ",l="data-plot-edge",c="left",h="right",p=n.Map.LEGEND_FLAG,d=n.Map.SERIES_ID_ATTRIBUTE,v=function(e){return t.isNumber(e)&&e>=0},m=e.Base.create("NodePoint",e.Base,[],{initializer:function(n){t.isValue(this.get("node"))||e.error('"node" config attribute is required.')}},{NAME:"nodePoint",ATTRS:{node:{setter:e.one},xy:{value:{x:0,y:0},validator:function(e){return t.isObject(e)?v(e.x)&&v(e.y):!1}}}}),g=e.Base.create("VerticalSlice",e.Base,[],{initializer:function(e){var n=e.nodePoint;t.isValue(n)&&n instanceof m&&this.addNodePoint(n)},destructor:function(){var e=this.get("nodePoints"),t,n;for(n=e.length-1;n>=0;n-=1)t=e[n],typeof t.destroy=="function"&&t.destroy(),e.splice(n,1)},addNodePoint:function(e){if(e instanceof m){var t=this.get("nodePoints");return t.push(e),!0}return!1}},{NAME:"verticalSlice",ATTRS:{minAxisValue:{validator:v,writeOnce:!0},maxAxisValue:{validator:v,writeOnce:!0},nodePoints:{value:[],validator:function(e){return t.isArray(e)},readOnly:!0}}}),y=e.Base.create("MouseTracker",e.Base,[],{initializer:function(r){var i=this.get("chart");this._mapNode=n.getMapfromImage(i);if(!t.isValue(i)){e.error('"chart" attribute is required.');return}this._currentSlice=null,this._lookupTable=null,this._customEvents={},this._publishCustomEvents(),this._handles={},this._bindEvents(),this.onceAfter("initializedChange",e.bind(this._buildLookupArray,this,i),this)},destructor:function(){var e=this._lookupTable,t,n;this._clearHandles(),this._removeCustomEvents();for(n=e.length-1;n>=0;n=-1)t=e[n],t&&typeof t.destroy=="function"&&t.destroy(),e.splice(n,1)},_publishCustomEvents:function(){var e=this._customEvents;e.sliceChange=this.publish(o,{queuable:!1,emiteFacade:!0,bubbles:!0,prefix:"tracker"})},_bindEvents:function(){var e=this._handles,t=this.get("chart");e.imgMouseMove=t.on("mousemove",this._onMouseMove,this),e.mapMouseMove=this._mapNode.on("mousemove",this._onMouseMove,this)},_removeCustomEvents:function(){e.each(this._customEvents,function(e){e&&(e.detachAll(),e=null)})},_clearHandles:function(){e.each(this._handles,function(e){e&&(e.detach(),e=null)})},_onMouseMove:function(t){var n=Math.round(e.DOM.getXY(this.get("chart").getDOMNode())[0]),r=t.pageX-n,i=this._lookupTable[r];i!==this._currentSlice&&(this._currentSlice=i,this.fire(o,{slice:i,moveEV:t}))},_buildLookupArray:function(e){var t;t=e.get("width"),this._lookupTable=new Array(t+1),this.determineEdgeNodes(),this._mapNode.all("area").each(function(e){if(this.isAreaInvalid(e))return;var t=y.calculateAreaRegion(e),n=this.calculateCenterofArea(e,t),r=new m({node:e,xy:n});this._addNodePoint(r,t)},this)},isAreaInvalid:function(e){if(e.hasAttribute(p)||!e.hasAttribute(d))return!0;var t=this.get("chartType"),n=this.get("chartSeriesTypes"),r=e.getAttribute(d);if(i(r)&&n.length>1){r=parseInt(r,10);if(!isNaN(r)&&t!==n[r-1].toLowerCase())return!0}return!1},_addNodePoint:function(e,n){var r=this._lookupTable,i,s,o,u,a,f;o=this.clipRegion(n),i=r[n.minX],s=r[n.maxX];if(t.isValue(i)&&i===s){i.addNodePoint(e);return}t.isValue(s)&&n.maxX!==s.get("maxAxisValue")&&n.maxX>=s.get("minAxisValue")&&(n.maxX=s.get("minAxisValue")-1,s=r[n.maxX]),t.isValue(i)&&n.minX!==i.get("minAxisValue")&&n.minX<=i.get("maxAxisValue")&&(n.minX=i.get("maxAxisValue")+1,i=r[n.minX]);if(t.isValue(i)&&i===s)i.addNodePoint(e);else if(!t.isValue(i)&&!t.isValue(s)){u=new g({minAxisValue:n.minX,maxAxisValue:n.maxX,nodePoint:e}),f=u.get("maxAxisValue");for(a=u.get("minAxisValue");a<=f;a+=1)r[a]=u}},clipRegion:function(e,t){return t=t||this.get("plotAttributes"),e.minX<t.x&&(e.minX=t.x),e.maxX>t.x+t.width&&(e.maxX=t.x+t.width),e},calculateCenterofArea:function(e,t,n){return{x:(t.maxX-t.minX)/2+t.minX,y:(t.maxY-t.minY)/2+t.minY}},resetState:function(){this._currentSlice=null},determineEdgeNodes:function(){var t=[],n=[],i=[],s=[],o,u;this._mapNode.all("area").each(function(e){if(this.isAreaInvalid(e))return;var a=e.getAttribute(d),f=y.calculateAreaRegion(e);o=t[a],u=n[a];if(!r(o)){t[a]=e,i[a]=f,n[a]=e,s[a]=f;return}f.minX<i[a].minX?(t[a]=e,i[a]=f):f.maxX>s[a].maxX&&(n[a]=e,s[a]=f)},this),e.Array.each(t,function(e,r){t[r].setAttribute(l,c),n[r].setAttribute(l,h)})}},{NAME:"mouseTracker",ATTRS:{chart:{value:null,setter:e.one,validator:function(t){var n=e.one(t);return n instanceof e.Node&&n.get("tagName")==="IMG"}},chartType:{writeOnce:!0},chartSeriesTypes:{writeOnce:!0},plotAttributes:{writeOnce:!0}},calculateAreaRegion:function(t,r){var i=r||n.Map.parseAreaCoordinates(t),s=t.getAttribute("shape"),o={},l,c,h,p,d,v,m,g;if(!e.Lang.isString(s))return undefined;s=s.toLowerCase();if(s===u)o.minX=i.leftX,o.maxX=i.rightX,o.minY=i.topY,o.maxY=i.bottomY;else if(s===a){p=i.length,d=i[0].x,v=d,m=i[0].y,g=m;for(h=1;h<p;h+=1)l=i[h].x,c=i[h].y,l<d?d=l:l>v&&(v=l),c<m?m=c:c>g&&(g=c);o.minX=d,o.maxX=v,o.minY=m,o.maxY=g}else s===f&&(o.minX=i.x-i.radius,o.maxX=i.x+i.radius,o.minY=i.y-i.radius,o.maxY=i.y+i.radius);return o}});s.MouseTracker=y},"1.0.0",{requires:["dom-base","dom-screen","node-base","base","event-move","image-utils"]});

/* 
* rdYui/chartfx-resize.js 
*/
// JSLint options:
/*global LogiXML, YUI, document, window */YUI.add("chartfx-resize",function(e){function E(e){E.superclass.constructor.apply(this,arguments),this.get("node").setData(h,this),this._addLargeHandles()}var t="node",n="absolute",r="handles",i="handlesWrapper",s="hidden",o="parentNode",u="position",a="relative",f="static",l="wrap",c="wrapper",h="chart-resize",p=e.ClassNameManager.getClassName,d="resize",v=p(d),m=p(d,"large"),g=p(d,s,r),y=p(d,r,c),b=e.LogiXML.Image,w=function(e,t){return e.getComputedStyle(t)};e.LogiXML.Node.destroyClassKeys.push(h),e.Resize.prototype.destructor=function(){var n=this,r=n.get(t),i=n.get(c),s=i.getDOMNode(),u,a;s&&(e.Event.purgeElement(i,!0),a=i.get(o)),n.eachHandle(function(e){n.delegate.dd.destroy(),e.getDOMNode()?e.remove(!0):e.destroy()}),s&&(u=i.one("."+y),u&&u.remove(!0)),n.get(l)&&s&&(n._copyStyles(i,r),b.unwrapImage(r)),r.getDOMNode()&&(r.removeClass(v),r.removeClass(g))},e.extend(E,e.Resize,{_addLargeHandles:function(){this.get(i).addClass(m)},_valueWrapper:function(){var e=this,r=e.get(t),i=r.getStyle(u).toLowerCase(),s=r;return e.get(l)&&(s=b.wrapImage(r),e._copyStyles(r,s),i!==n&&(i=f),r.setStyles({position:i,left:0,top:0})),s},_copyStyles:function(t,n){var r=t.getStyle(u).toLowerCase(),i=this._getBoxSurroundingInfo(t),s=b.getDimensions(t),o;if(r===f||n.getStyle(u).toLowerCase()===a)r=a;o={position:r,left:w(t,"left"),top:w(t,"top")},e.mix(o,i.margin),e.mix(o,i.border),n.setStyles(o),t.setStyles({border:0,margin:0}),e.Lang.isValue(s)?n.sizeTo(s.width+i.totalHBorder,s.height+i.totalVBorder):n.sizeTo(t.get("offsetWidth")+i.totalHBorder,t.get("offsetHeight")+i.totalVBorder)}}),e.namespace("LogiXML.ChartFX").Resize=E},"1.0.0",{requires:["dom-base","node-base","resize-base","image-utils","node-custom-destroy"]});

/* 
* rdYui/chartfx-selection.js 
*/
// JSLint options:
/*global LogiXML: true, YUI: false, document: false, window: false, console: false */YUI.add("chartfx-selection",function(e){var t=e.namespace("LogiXML.ChartFX"),n=e.LogiXML.Attribute,r=e.LogiXML.Color,i=e.LogiXML.Image,s=e.LogiXML.Canvas,o=e.Lang,u=LogiXML.String.isNotBlank,a=LogiXML.String.isBlank,f="chartfx-selection",l="legend",c="node",h="label",p=t.Highlight.DISABLE_HIGHLIGHT_CLASS,d="data-valuecolumn",v=",",m=i.Map.SERIES_ID_ATTRIBUTE,g="data-charttype",y=i.Map.LEGEND_FLAG,b="["+y+"]",w=i.Map.LABEL_FLAG,E="["+w+"]",S="chartfx-selected",x="."+S,T="chartfx-selection-include",N="."+T,C="data-selection-processed",k="state:click",L="state:reset",A="state:change",O=function(e){return":not("+e+")"},M=function(e){return'[data-seriesID="'+e+'"]'},_=function(e){return e.getAttribute("data-seriesID")},D=function(t){if(t instanceof e.NodeList&&arguments.length!==1){var n=arguments.length,r,i,s,o,u;for(o=1;o<n;o+=1){s=arguments[o];for(u=0;u<t.size();u+=1)r=t.item(u),i=e.Selector.ancestor(r.getDOMNode(),s,!0),i===r.getDOMNode()&&(t.splice(u,1),u-=1)}return t}return t},P=function(){var t=e.one("body"),n=e.Node.create('<div style="display: none; position: absolute;"><div data-test-not="true"></div></div>'),r,i=!0;return t.append(n),r=n.all(":not([data-test-not])"),r.size()!==0&&(i=!1),n.remove(),i},H=e.Base.create("StateTracker",e.Base,[],{initializer:function(e){var t=this.get("chart");UseNativeNotSelector=P(),this._mapNode=i.getMapfromImage(t),this._markValidAreas(),this._dataPointCount=UseNativeNotSelector?this._mapNode.all(O(b)+O(E)+N).size():D(this._mapNode.all(N),b,E).size(),this._hasLegends=o.isValue(this._mapNode.one(b)),this._customEvents={},this._publishCustomEvents(),this._handles={},this._bindEvents()},destructor:function(){this._clearHandles(),this._removeCustomEvents()},_markValidAreas:function(){this._mapNode.all("area").addClass(T)},_publishCustomEvents:function(){var e=this._customEvents;e.reset=this.publish(L,{defaultFn:this._defResetFn,queuable:!1,emitFacade:!0,bubbles:!0,prefix:"state"}),e.click=this.publish(k,{defaultFn:this._defOnClickFn,queuable:!1,emitFacade:!0,bubbles:!0,prefix:"state"}),e.change=this.publish(A,{queuable:!1,emitFacade:!0,bubbles:!0,prefix:"state"})},_removeCustomEvents:function(){e.each(this._customEvents,function(e){e&&(e.detachAll(),e=null)})},_bindEvents:function(){this._handles.areaTap=this._mapNode.delegate("click",this._handleTapEvent,"area"+N,this)},_clearHandles:function(){e.each(this._handles,function(e){e&&(e.detach(),e=null)})},_handleTapEvent:function(e){var t=e.currentTarget,n={},r;t.hasAttribute(y)?r=l:t.hasAttribute(w)?r=h:r=c,n.clickType=r,n.origClick=e,this.fire(k,n)},_defOnClickFn:function(e){var t=this.get("ctrlClick"),n=e.origClick,r=e.clickType,i=this.get("useLegend"),s,o;if(t&&!n.ctrlKey)return;s=n.currentTarget,o=_(s);if(r===l){if(!i)return;this._legendClick(s,o)}else r===h?this._labelClick(s,o):this._nodeClick(s,o);this.fire(A,{changeSource:s})},_legendClick:function(e,t){var n=UseNativeNotSelector?this._mapNode.all(M(t)+O(E)):D(this._mapNode.all(M(t)),E);e.hasClass(S)?n.removeClass(S):n.addClass(S)},_labelClick:function(e,t){var n=this._mapNode,r;UseNativeNotSelector?r=n.one(M(t)+O(b)+O(E)+N):r=D(n.all(M(t)+N),b,E).item(0),this._nodeClick(r,t)},_nodeClick:function(e,t){var n=this.get("useLegend");this.isNodeSelected(e)?e.removeClass(S):e.addClass(S),n&&u(t)&&this._syncLegend(e,t)},_syncLegend:function(e,t){var n=this._mapNode,r,i,s;t=t||_(e),r=UseNativeNotSelector?n.all(M(t)+O(b)+O(E)+N):D(n.all(M(t)+N),b,E),i=r.filter(x),s=n.one(M(t)+b+N),i.size()!==r.size()?s.removeClass(S):i.size()===r.size()&&s.addClass(S)},selectNode:function(e,t){var n=this._mapNode,r;t=o.isValue(t)?t:!0,r=e.ancestor(function(e){return n===e}),r&&(e.addClass(S),t&&this._syncLegend(e))},selectNodes:function(t){if(!o.isValue(t)||t.isEmpty())return;var n={},r=this.get("useLegend");t.each(function(e){this.selectNode(e,!1);var t=_(e);n[t]!==!0&&(n[t]=!0)},this),r&&e.each(n,function(e,t){this._syncLegend(undefined,t)},this)},isNodeSelected:function(e){return e.hasClass(S)},isNodeDeselected:function(e){return!this.isNodeSelected(e)},getSelectedItems:function(){return UseNativeNotSelector?this._mapNode.all(x+O(b)+O(E)):D(this._mapNode.all(x),b,E)},getDeselectedItems:function(){var t=UseNativeNotSelector?this._mapNode.all(O(x)+O(b)+O(E)+N):D(this._mapNode.all(N),x,b,E);return this._dataPointCount===t.size()?new e.NodeList:t},reset:function(){this.fire(L)},_defResetFn:function(){this._mapNode.all(S).removeClass(S),this.fire(A,{changeSource:undefined})}},{NAME:"StateTracker",ATTRS:{chart:{setter:e.one},ctrlClick:{value:!1,setter:n.booleanSetter},useLegend:{value:!1,setter:n.booleanSetter}}}),B=function(){B.superclass.constructor.apply(this,arguments)};e.extend(B,H,{_markValidAreas:function(){var e=UseNativeNotSelector?this._mapNode.all("area"+O(E)):D(this._mapNode.all("area"),E);e.addClass(T)}},{NAME:"PieStateTracker"});var j=function(){j.superclass.constructor.apply(this,arguments)};e.extend(j,H,{_markValidAreas:function(){var e=this._mapNode,t=e.getAttribute(g).toLowerCase(),n=e.getAttribute("data-series-types").split(",");e.all("area").each(function(e){var r=e.getAttribute(m);u(r)&&(r=parseInt(r,10),!isNaN(r)&&t===n[r-1].toLowerCase()&&e.addClass(T))})},_legendClick:function(e,t){var n=UseNativeNotSelector?this._mapNode.all(O(E)+N):D(this._mapNode.all(N),E);e.hasClass(S)?n.removeClass(S):n.addClass(S)},_nodeClick:function(e,t){j.superclass._nodeClick.call(this,e,t);var n=e.getAttribute(d),r=this._mapNode.all("["+d+'="'+n+'"]'+N);e.hasClass(S)?r.addClass(S):r.removeClass(S)}},{NAME:"BarStateTracker"});var F=e.Base.create("Selection",e.Base,[],{initializer:function(){var t=this.get("chart"),n;this._mapNode=i.getMapfromImage(t),this._canvasScreen=this._createCanvasScreen(t),this._stateTracker=this._createStateTracker(t),this._parseHTMLConfig(),n=e.one("#"+LogiXML.escapeSelector(this._inputID)),o.isValue(n)||(n=this._createInput(this._inputID,t)),this._hiddenInput=n,this._handles={},this._bindEvents(),t.setData(f,this),this._mapNode.setAttribute(C,!0),this.onceAfter("initializedChange",this.syncUI,this)},destructor:function(){this._stateTracker.destroy(),this._canvasScreen.destroy(),this._clearHandles()},syncUI:function(){var t=this._hiddenInput.get("value"),n=this.get("delimiter"),r=this._stateTracker,i=this._mapNode,s=t.split(n);if(a(t))return;e.each(s,function(e){var t=i.all("["+d+'="'+e+'"]'+N);r.selectNodes(t)},this),this.drawCurrentState()},_parseHTMLConfig:function(){var e=this._mapNode,t=e.getAttribute("data-selection-options");this.set("delimiter",e.getAttribute("data-selection-delimiter"));if(a(t))return;t=t.split(this.get("delimiter")),this._inputID=t[0],this.set("emphasisColor",t[1]),this.set("emphasisOpacity",t[2]),this.set("deemphasisColor",t[3]),this.set("deemphasisOpacity",t[4])},_createCanvasScreen:function(e){var n=new t.CanvasScreen({chart:e,canvasLocation:"wrapper"});return n},_createStateTracker:function(e){return new H({chart:e})},_createInput:function(t,n){var r=e.Node.create('<input type="hidden" />');return r.set("id",t),r.set("name",t),n.insert(r,"after"),r},_bindEvents:function(){var e=this._handles,t=this.get("chart");e.stateChange=this._stateTracker.on("state:change",this._onStateChange,this),e.chartResizeStart=t.on("resize:start",this._onChartResizeStart,this),e.chartResizeEnd=t.on("resize:end",this._onChartResizeEnd,this)},_clearHandles:function(){var t=this._handles;e.each(t,function(e){e&&(e.detach(),e=null)})},_onStateChange:function(e){var t=this._stateTracker.getSelectedItems();this.drawCurrentState(),this.populateInput(t)},_onChartResizeStart:function(){this.get("chart").setStyle("opacity",1),this._canvasScreen.destroy()},_onChartResizeEnd:function(){t.Selection.reinitializeAfterResize(this.get("chart"),this)},drawCurrentState:function(e,t){var n=this._canvasScreen.getCanvasContext(),r=this._stateTracker;e=e||r.getSelectedItems(),t=t||r.getDeselectedItems(),this._canvasScreen.clearCanvas(),t.isEmpty()?this._mapNode.all("."+p).removeClass(p):(t.removeClass(p),this.drawDeselected(t,n)),e.isEmpty()||(e.addClass(p),this.drawSelected(e,n))},drawSelected:function(e,t){this.draw(e,this.get("emphasisColor"),this.get("emphasisOpacity"),t)},drawDeselected:function(e,t){this.draw(e,this.get("deemphasisColor"),this.get("deemphasisOpacity"),t)},draw:function(e,t,n,i){if(!o.isValue(t)||a(t))return;i.save(),i.fillStyle=r.hexToCSS_RGB(t,n),e.each(function(e){s.drawAreaMapShape(i,e),i.fill()},this),i.restore()},populateInput:function(e){var t=this._hiddenInput,n="",r=this.get("delimiter"),i={},s;e.each(function(e){var t=e.getAttribute(d);i[t]===undefined&&(i[t]=!0,n===""?n=t:n=n+r+t)}),t.set("value",n),s=t.getDOMNode().onchange,typeof s=="function"&&s()}},{NAME:"selection",ATTRS:{chart:{setter:e.one,validator:function(t){var n=e.one(t);return n instanceof e.Node&&n.get("tagName")==="IMG"}},emphasisColor:{validator:u},emphasisOpacity:{value:0,validator:LogiXML.opacityValidator},deemphasisColor:{value:"#1e1e1e",validator:u},deemphasisOpacity:{value:.45,validator:LogiXML.opacityValidator},delimiter:{value:v,validator:u}}}),I=function(){I.superclass.constructor.apply(this,arguments)};e.extend(I,F,{_createStateTracker:function(e){return new j({chart:e})}},{NAME:"SelectionBarChart"});var q=function(){q.superclass.constructor.apply(this,arguments)};e.extend(q,F,{initializer:function(){this._parseHTMLConfig_PieChart()},_createStateTracker:function(e){return new B({chart:e})},_parseHTMLConfig_PieChart:function(){var t=this._mapNode,n=i.Map.parsePieChartRenderSettings(t);if(!e.Lang.isValue(n))return!1;this._ellipsePie=n.ellipsePie,this._pieCenter=n.pieCenter,this._pieRadius=n.pieRadius,this._pieInnerRadius=n.pieInnerRadius},draw:function(e,t,n,i){if(!o.isValue(t)||a(t))return;if(this._ellipsePie){q.superclass.draw.apply(this,arguments);return}i.save(),i.fillStyle=r.hexToCSS_RGB(t,n),e.each(function(e){s.drawPieWedgeFromArea(i,e,this._pieCenter,this._pieRadius,this._pieInnerRadius),i.fill()},this),i.restore()}},{NAME:"SelectionPieChart",ATTRS:{}}),t.Selection={},t.Selection.BarChart=I,t.Selection.PieChart=q,t.Selection.initializeAll=function(){var n=e.all("."+f);n.isEmpty()||n.each(function(n){var r=i.getChartMapName(n),s=i.getMapfromImage(n);n.removeClass(f),s?t.Selection.initializeChart(n):e.once("contentready",t.Selection.initializeChart,"map[name="+r+"]",this)})},t.Selection.initializeChart=function(t){var n=t||this,r=i.getMapfromImage(n),s=r.getAttribute(g),o;e.Lang.isString(s)&&(s=s.toLowerCase(),s==="pie"?(i.Map.checkForPieChartLabels(r),o=new q({chart:n})):s==="bar"&&(o=new I({chart:n})))},t.Selection.reinitializeAfterResize=function(n,r){var s=i.getChartMapName(n),o="map[name="+s+"]",u=e.one(o);u&&u.hasAttribute(C)&&u.remove(!0),r.destroy(),e.once("contentready",t.Selection.initializeChart,o,n)},LogiXML.Ajax.AjaxTarget&&LogiXML.Ajax.AjaxTarget().on("reinitialize",t.Selection.initializeAll),e.LogiXML.Node.destroyClassKeys.push(f)},"1.0.0",{requires:["dom-base","node-base","base","event","dom-style-ie","selector-css2","image-utils","color-utils","canvas-utils","attribute-helpers","node-custom-destroy","chartfx-canvas-screen","chartfx-highlight"]});

/* 
* rdYui/color-utils.js 
*/
// JSLint options:
/*global LogiXML: true, YUI: false, document: false, window: false */YUI.add("color-utils",function(e){var t=e.namespace("LogiXML.Color"),n=e.Lang,r=function(e){return Math.max(0,Math.min(parseInt(e,16),255))},i=function(e){var t=e.toString(16);return t.length===1?"0"+t:t},s=function(e,t,i){var s=!1,o,u,a,f={};return n.isString(e)?(LogiXML.opacityValidator(t)&&(s=!0),e.charAt(0)==="#"&&(e=e.substr(1)),e=e.toLowerCase(),e.length===3?(o=e.substr(0,1),f.r=r(o+o),u=e.substr(1,1),f.g=r(u+u),a=e.substr(2,1),f.b=r(a+a)):e.length>=6&&(f.r=r(e.substr(0,2)),f.g=r(e.substr(2,2)),f.b=r(e.substr(4,2))),i===!0?s?"rgba("+f.r+","+f.g+","+f.b+","+t+")":"rgb("+f.r+","+f.g+","+f.b+")":f):undefined},o=function(e){var t=parseInt(e),n=t.toString(16);return n.length==1?"0"+n:n};t.hexToCSS_RGB=function(e,t){return s(e,t,!0)},t.hexToRGB=function(e,t){return s(e,t)},t.rgbToHex=function(e,t,n){return"#"+i(e)+i(t)+i(n)},t.hexWithOpacity=function(e){var t=/rgba?\((\d+),(\d+),(\d+),(\d+(\.\d+)?)/.exec(e),n=[];return t||(t=/rgba?\((\d+), (\d+), (\d+)/.exec(e)),n.push(t?"#"+o(t[1])+o(t[2])+o(t[3]):e),n.push(t&&t.length>=4?t[4]:1),n}},"1.0.0",{requires:[]});

/* 
* rdYui/draggable-element.js 
*/
YUI.add("draggableElement",function(e){var t=e.Lang,n="rdDraggableElement";LogiXML.Ajax.AjaxTarget&&LogiXML.Ajax.AjaxTarget().on("reinitialize",function(){e.LogiXML.DraggableElement.createElements(!0)}),e.LogiXML.Node.destroyClassKeys.push(n),e.namespace("LogiXML").DraggableElement=e.Base.create("DraggableElement",e.Base,[],{handlers:null,configNode:null,id:null,handlerId:null,proxyMode:null,proxyId:null,groups:null,proxyMoveOnEnd:null,proxyHideOnEnd:null,proxyHideOnStart:null,dropStack:[],goingUp:null,lastY:0,action:null,preventCloneNode:null,dataIgnore:!1,dropStubId:null,initializer:function(e){var t=this;this.handlers={},this._parseHTMLConfig();if(this.dataIgnore)return;this.configNode.setData(n,this),this.attachDrag()},attachDrag:function(){var t={},n={};t.node=this.configNode,this.groups&&(t.groups=this.groups),this.proxyMode=="element"&&(t.dragNode=e.one("#"+LogiXML.escapeSelector(this.proxyId))),this.handlerId&&this.handlerId.length>0&&(t.handles=this.configNode.all("#"+LogiXML.escapeSelector(this.handlerId))),this.handlers.drag=new e.DD.Drag(t),this.handlers.drag.plug(e.Plugin.DDWinScroll,{horizontal:!1}),this.proxyMode!="none"&&(this.proxyMode=="cloneNode"&&(n.cloneNode=!0),this.proxyMoveOnEnd!=null&&(n.moveOnEnd=this.proxyMoveOnEnd),this.proxyHideOnEnd!=null&&(n.hideOnEnd=this.proxyHideOnEnd),this.handlers.drag.plug(e.Plugin.DDProxy,n)),this.handlers.onDragExit=this.handlers.drag.on("drag:exit",this.onDragExit,this),this.handlers.onDragOver=this.handlers.drag.on("drag:over",this.onDragOver,this),this.handlers.onDragEnter=this.handlers.drag.on("drag:enter",this.onDragEnter,this),this.handlers.onDragStart=this.handlers.drag.on("drag:start",this.onDragStart,this),this.handlers.onDragEnd=this.handlers.drag.on("drag:end",this.onDragEnd,this),this.handlers.onDrag=this.handlers.drag.on("drag:drag",this.onDrag,this),this.handlers.onDropMiss=this.handlers.drag.on("drag:dropmiss",this.onDropMiss,this),this.handlers.onDropHit=this.handlers.drag.on("drag:drophit",this.onDropHit,this)},onDropHit:function(e){e.drop.get("node").getData("rdDroppableContainer").onDropHit(e)},onDragStart:function(e){this.dropStack=[],this.proxyHideOnStart&&this.configNode.hide(),e.target.get("dragNode").addClass("rdDragProxy")},onDragEnd:function(t){this.proxyHideOnStart&&(this.configNode.setStyle("top",""),this.configNode.setStyle("left",""),this.configNode.setStyle("position",""),this.configNode.show()),t.target.get("dragNode").removeClass("rdDragProxy"),this.dropStack.length>1&&e.one("#"+LogiXML.escapeSelector(this.dropStack[this.dropStack.length-1])).getData("rdDroppableContainer").checkPlaceholder(),this.dropStack=[]},onDropMiss:function(e){var t,n;t=e.target.get("dragNode"),t&&(t.removeClass("rdDragProxy"),n=t.ancestor(".rdDroppableContainer"),n&&n.getData("rdDroppableContainer")&&n.getData("rdDroppableContainer").checkPlaceholder())},onDrag:function(e){var t=e.target.lastXY[1];t<this.lastY?this.goingUp=!0:t>this.lastY&&(this.goingUp=!1),this.lastY=t},onDragEnter:function(t){var n=t.drop.get("node").get("id");this.checkSiblingsForExit(t),this.dropStack.push(n),this.dropStack.length>1&&e.one("#"+LogiXML.escapeSelector(this.dropStack[this.dropStack.length-2])).getData("rdDroppableContainer").removeGhost();var r=this.getHoverNode(t);e.one("#"+LogiXML.escapeSelector(n)).getData("rdDroppableContainer").showGhost(t.drag,r),e.LogiXML.DroppableContainer.sizeAllShims()},checkSiblingsForExit:function(e){var t=e.drop.get("node"),n=t.get("id"),r=t.get("parentNode"),i=r.get("nodeName"),s=null;if(i="TD")r=r.get("parentNode"),r.get("children").each(function(t){s=t.one("> yui3-dd-drop"),s&&s.get("id")!=n&&this.forcedDragExit(s,e.drop,e.drag)},this)},onDragExit:function(e){this.forcedDragExit(e.drop.get("node"),e.drop,e.drag)},forcedDragExit:function(t,n,r){var i=t.get("id"),s=this.dropStack.indexOf(i);s!=-1&&(this.dropStack.splice(s,1),t.getData("rdDroppableContainer").removeGhost()),e.LogiXML.DroppableContainer.sizeAllShims()},onDragOver:function(t){var n=this.dropStack[this.dropStack.length-1];if(t.drop.get("node").get("id")!=n)return;var r=this.getHoverNode(t);e.one("#"+LogiXML.escapeSelector(n)).getData("rdDroppableContainer").moveGhost(t.drag,r)},getHoverNode:function(t,n){var r=this.dropStack[this.dropStack.length-1];if(t.drop.get("node").get("id")!=r)return;var i=e.one("#"+LogiXML.escapeSelector(r)),s=i.getData("rdDroppableContainer"),o=t.drag.mouseXY,u=null,a=t.drag.get("dragNode").get("id");return i.get("children").each(function(e){if(u!=null)return;if(e.get("id")==a)return;var t={},r;r=e.getXY(),t.left=e.getX(),t.top=e.getY(),n>0&&(t.top-=n),t.right=t.left+e.get("offsetWidth"),t.bottom=t.top+e.get("offsetHeight"),n>0&&(t.bottom+=n),o[0]>=t.left&&o[0]<=t.right&&o[1]>=t.top&&o[1]<=t.bottom&&(u=e,u.rdInsertBefore=o[1]<t.top+(t.bottom-t.top)/2)}),!u&&!n?this.getHoverNode(t,10):u},_parseHTMLConfig:function(){this.configNode=this.get("configNode"),this.id=this.configNode.getAttribute("id"),this.handlerId=this.configNode.getAttribute("data-handler"),this.proxyMode=this.configNode.getAttribute("data-proxy-mode"),this.proxyId=this.configNode.getAttribute("data-proxy-id");var e=this.configNode.getAttribute("data-proxy-move-on-end"),t=this.configNode.getAttribute("data-proxy-hide-on-end"),n=this.configNode.getAttribute("data-proxy-hide-on-start");this.proxyMoveOnEnd=e=="True"?!0:e=="False"?!1:null,this.proxyHideOnEnd=t=="True"?!0:t=="False"?!1:null,this.proxyHideOnStart=n=="True"?!0:n=="False"?!1:null;var r=this.configNode.getAttribute("data-group");r&&(this.groups=r.split(",")),this.action=this.configNode.getAttribute("data-action"),this.preventCloneNode=this.configNode.getAttribute("data-prevent-clone")=="True",this.dataIgnore=this.configNode.getAttribute("data-ignore")=="True",this.dropStubId=this.configNode.getAttribute("data-drop-stub-id")},destructor:function(){var e=this.configNode;this.handlerId&&this.handlerId.length>0&&this.handlers.drag&&(this.handlers.drag.removeHandle=this.configNode.one("#"+LogiXML.escapeSelector(this.handlerId))),this._clearHandlers(),e.setData(n,null)},_clearHandlers:function(){var t=this;e.each(this.handlers,function(e){e&&(e.detach&&e.detach(),e.destroy&&e.destroy(),e=null)})}},{NAME:"DraggableElement",ATTRS:{configNode:{value:null,setter:e.one}},createElements:function(){var t;e.all("."+n).each(function(r){t=r.getData(n),t||(t=new e.LogiXML.DraggableElement({configNode:r}))})}})},"1.0.0",{requires:["base","node","event","node-custom-destroy","json-parse","stylesheet","event-custom","dd-drag","dd-ddm","dd-proxy","dd-constrain","dd-scroll"]});

/* 
* rdYui/drawable-overlay.js 
*/
// JSLint options:
/*global LogiXML, YUI, document, window */YUI.add("drawable-overlay",function(e){var t=e.Lang,n=e.LogiXML.Image,r="boundingBox",i="constrain",s="trigger",o={position:"absolute",zIndex:10},u="logi_dragNode",a="<div></div>",f={position:"absolute",left:0,top:0,height:"0px",width:"0px"},l="draw:start",c="draw:draw",h="draw:end",p="draw:reset",d="move:end",v=n.Map.LEGEND_FLAG,m="notLegend";e.namespace("LogiXML").DrawableOverlay=e.Base.create("drawableOverlay",e.Widget,[e.WidgetPosition],{CONTENT_TEMPLATE:null,initializer:function(e){var t=this.get(i),n=this.get(s);!n&&!t&&this.set(s,"body"),t&&!n&&this.set(s,t),this._constrainIndependent=!1,t.compareTo(n)||(this._constrainIndependent=!0),this._dragNode=null,this._customEvents={},this._publishCustomEvents(),this._handles={mouseDown:null,dragStart:null,dragMove:null,dragEnd:null,overlayDragEnd:null},this._dd={container:null,overlay:null,imageMap:null}},destructor:function(){this._removeCustomEvents(),this._clearHandles(),this._clearDD()},_publishCustomEvents:function(){var e=this._customEvents;e.drawStart=this.publish(l,{defaultFn:this._defStartFn,queuable:!1,emitFacade:!0,bubbles:!0,prefix:"draw"}),e.drawDraw=this.publish(c,{defaultFn:this._defDrawFn,queuable:!1,emitFacade:!0,bubbles:!0,prefix:"draw"}),e.drawEnd=this.publish(h,{queuable:!1,emitFacade:!0,bubbles:!0,prefix:"draw"}),e.drawReset=this.publish(p,{defaultFn:this._reset,queuable:!1,emitFacade:!0,bubbles:!0,prefix:"draw"}),e.moveEnd=this.publish(d,{queuable:!1,emitFacade:!0,bubbles:!0,prefix:"move"})},_removeCustomEvents:function(){e.each(this._customEvents,function(e){e&&(e.detachAll(),e=null)})},bindUI:function(){this._createContainerDD(),this._createOverlayDD(),this.get("imageMap")&&this._createImageMapDD(),this._bindDragEvents()},renderUI:function(){this._createOverlay(),this._createDragNode()},_createOverlay:function(){var e=this.get(r),t=this.get("backgroundColor"),n=this.get("borderColor"),i=this.get("opacity");e.setStyles(o),t&&e.setStyle("backgroundColor",t),i&&e.setStyle("opacity",i),n&&e.setStyle("borderColor",n),this.hide()},_createDragNode:function(){var t=e.one("#"+u);if(t===undefined||t===null)t=e.Node.create(a),t.setAttribute("id",u),t.setStyles(f),e.one("body").appendChild(t);this._dragNode=t},_bindDragEvents:function(){var e=this._handles;e.mouseDown=this.on("drag:mouseDown",this._onMouseDown,this),e.dragStart=this.on("drag:start",this._onDragStart,this),e.dragMove=this.on("drag:drag",this._onDragMove,this),e.dragEnd=this.on("drag:end",this._onDragEnd,this)},_createContainerDD:function(){var t=this.get(i),n=this.get(s),r=new e.DD.Drag({node:n,dragNode:this._dragNode,move:!1,offsetNode:!1,clickPixelThresh:1});t&&r.plug(e.Plugin.DDConstrained,{constrain2node:t}),this._dd.container=r,r.addTarget(this)},_createOverlayDD:function(){var t=this.get(i),n=this.get(r),s=new e.DD.Drag({node:n});t&&s.plug(e.Plugin.DDConstrained,{constrain2node:t}),this._dd.overlay=s,this._handles.overlayDragEnd=s.on("drag:end",this._onOverlayDragEnd,this)},_createImageMapDD:function(){var t=this.get("imageMap");t.all("area").each(function(e){e.hasAttribute(v)||e.addClass(m)});var n=this.get(i),r=new e.DD.Delegate({container:this.get("imageMap"),nodes:"."+m,dragConfig:{move:!1,dragNode:this._dragNode,offsetNode:!1,clickPixelThresh:1}});n&&r.dd.plug(e.Plugin.DDConstrained,{constrain2node:n}),this._dd.imageMap=r,r.addTarget(this)},_clearHandles:function(){var n=this._handles;e.each(n,function(n){n&&(t.isArray(n)?(e.each(n,function(e){e.detach()}),n=[]):(n.detach(),n=null))})},_clearDD:function(){var t=this._dd,n=t.container,r=t.overlay,i=t.imageMap;n&&(n.unplug(e.Plugin.DDConstrained),n.destroy()),r&&(r.unplug(e.Plugin.DDConstrained),r.destroy()),i&&(i.dd.unplug(e.Plugin.DDConstrained),i.destroy())},_defStartFn:function(e){var t=this.get("initialXY");this.move(t[0],t[1]),this.show()},_defDrawFn:function(e){var t=this.get("initialXY"),n=t[0],r=t[1],i=e.pageX,s=e.pageY,o=n,u=r,a=1,f=1;i<n?(o=i,a=n-i):a=i-n,s<r?(u=s,f=r-s):f=s-r,this._reDraw(o,u,a,f)},_reDraw:function(e,t,n,i){var s=this.get(r);s.set("offsetWidth",n),s.set("offsetHeight",i),this.move(e,t)},_onMouseDown:function(t){var n=t.ev,o=n.pageX,u=n.pageY,a;if(n.currentTarget===this.get(r))return;if(this._constrainIndependent&&n.currentTarget===this.get(s)){a={left:o,right:o,top:u,bottom:u};if(!e.DOM.inRegion(null,this.get(i).getDOMNode(),!0,a)){t.preventDefault();return}}this.set("initialXY",[o,u])},_onDragStart:function(e){this.fire(l,{pageX:e.pageX,pageY:e.pageY,dragEV:e})},_onDragMove:function(e){this.fire(c,{pageX:e.pageX,pageY:e.pageY,dragEV:e})},_onDragEnd:function(e){this.fire(h,{pageX:e.pageX,pageY:e.pageY,dragEV:e})},_onOverlayDragEnd:function(e){this.fire(d,{pageX:e.pageX,pageY:e.pageY,dragEV:e})},reset:function(t){this.fire(p,e.Lang.isValue(t)?{origEV:t}:{})},_reset:function(){var e=this.get(r);this.hide(),e.setStyles({height:0,width:0})}},{NAME:"drawableOverlay",CSS_PREFIX:"drawableoverlay",ATTRS:{backgroundColor:{validator:t.isString},borderColor:{validator:t.isString},constrain:{setter:e.one},imageMap:{setter:e.one},initialXY:{value:[],validator:t.isArray},opacity:{value:.5,validator:LogiXML.opacityValidator},trigger:{validator:e.one}}})},"1.0.0",{requires:["node","event","widget","widget-position","dd-drag","dd-constrain","dd-delegate","image-utils"]});

/* 
* rdYui/drawable-overlay-resize.js 
*/
// JSLint options:
/*global LogiXML, YUI, document, window */YUI.add("drawable-overlay-resize",function(e){function r(){e.after(this._bindUIResize,this,"bindUI"),e.before(this._destructorResize,this,"destructor")}var t="draw:end",n="boundingBox";r.ATTRS={resizeConfig:{value:null}},r.prototype={_resize:null,_bindUIResize:function(){var t=this.get(n),r=this.get("resizeConfig"),i,s;r!==null&&(i=e.merge({node:t},this.get("resizeConfig")),s=new e.LogiXML.ChartFX.Resize(i),s.on("resize:end",this._onOverlayResizeEnd,this),this._resize=s)},_onOverlayResizeEnd:function(e){this.fire(t,{pageX:e.pageX,pageY:e.pageY,resizeEV:e})},_destructorResize:function(){this._resize&&(this._resize.destroy(),this._resize=null)}},e.namespace("LogiXML").DrawableOverlayResize=r},"1.0.0",{requires:["chartfx-resize"]});

/* 
* rdYui/drawable-overlay-size-constrain.js 
*/
// JSLint options:
/*global LogiXML, YUI, document, window */YUI.add("drawable-overlay-size-constrain",function(e){function r(){this._handles_SizeConstrain={bindUI:e.after(this._bindUISizeConstrain,this,"bindUI"),destructor:e.before(this._destructorSizeConstrain,this,"destructor"),afterMouseDown:e.after(this._afterMouseDownSizeConstrain,this,"_onMouseDown")},this._overlayNodeSizeConstrain=this.get(n),this._heightMaxed_SizeConstrain=!1,this._widthMaxed_SizeConstrain=!1}var t=e.Lang,n="boundingBox";r.ATTRS={minHeight:{value:5,setter:function(e){var t=this.get("constrain").get("offsetHeight");return e>t?t:e},validator:"_defDimensionValidator"},minWidth:{value:5,setter:function(e){var t=this.get("constrain").get("offsetWidth");return e>t?t:e},validator:"_defDimensionValidator"},initialHeight:{value:0,setter:function(e){var t=this.get("minHeight");return t>e?t:e},validator:"_defDimensionValidator"},initialWidth:{value:0,setter:function(e){var t=this.get("minWidth");return t>e?t:e},validator:"_defDimensionValidator"},_defDimensionValidator:function(e){return t.isNumber(e)&&e>-1}},r.prototype={_bindUISizeConstrain:function(){var t=this._resize,n=this.get("constrain");t&&t.plug(e.Plugin.ResizeConstrained,{constrain:n,minWidth:this.get("minWidth"),minHeight:this.get("minHeight")})},_reDraw:function(e,t,n,r){var i=this.get("minHeight"),s=this.get("minWidth");n<s&&(n=s),r<i&&(r=i),this.constructor.superclass._reDraw.apply(this,[e,t,n,r])},_afterMouseDownSizeConstrain:function(){var t=this.get("constrain"),n=e.DOM.region(t.getDOMNode()),r=this.get("initialXY"),i=this.get("minHeight"),s=this.get("minWidth");t.get("offsetHeight")===i&&(r[1]=n.top,this._heightMaxed_SizeConstrain=!0),t.get("offsetWidth")===s&&(r[0]=n.left,this._widthMaxed_SizeConstrain=!0)},_destructorSizeConstrain:function(){this._overlayNodeSizeConstrain=null,this._clearHandlesSizeConstrain()},_clearHandlesSizeConstrain:function(){var n=this._handles;e.each(n,function(n){n&&(t.isArray(n)?(e.each(n,function(e){e.detach()}),n=[]):(n.detach(),n=null))})}},e.namespace("LogiXML").DrawableOverlaySizeConstrain=r},"1.0.0",{requires:["event-custom","resize-constrain"]});

/* 
* rdYui/droppable-container.js 
*/
YUI.add("droppableContainer",function(Y){var Lang=Y.Lang,TRIGGER="rdDroppableContainer";LogiXML.Ajax.AjaxTarget&&LogiXML.Ajax.AjaxTarget().on("reinitialize",function(){Y.LogiXML.DroppableContainer.createElements(!0)}),Y.LogiXML.Node.destroyClassKeys.push(TRIGGER),Y.namespace("LogiXML").DroppableContainer=Y.Base.create("DroppableContainer",Y.Base,[],{_handlers:{},dropObject:null,configNode:null,id:null,groups:null,noGhost:!1,targetId:null,dataIgnore:!1,initializer:function(e){var t=this;this._parseHTMLConfig();if(this.dataIgnore)return;this.configNode.setData(TRIGGER,this),this.attachDrop(),this.checkPlaceholder()},attachDrop:function(){var e=this,t={};t.node=this.configNode,this.groups&&(t.groups=this.groups),this.dropObject=new Y.DD.Drop(t),this._handlers.onDropEnter=this.dropObject.on("drop:enter",this.onDropEnter,this),this._handlers.onDropExit=this.dropObject.on("drop:exit",this.onDropExit,this)},onDropHit:function(e){var dragNode=e.drag.get("node"),obj=dragNode.getData("rdDraggableElement");if(!obj)return;var act=obj.action,node=null,guid=this.getGuid(),prevSibling=this.removeGhost(),editorId;if(!obj.proxyHideOnStart)editorId="EditorFor_"+guid;else{var editorNode=this.configNode.ancestor(".rd-element-editor");editorNode?editorId=editorNode.getAttribute("id"):editorId=this.id}if(!obj.preventCloneNode){if(obj.proxyHideOnStart!=1){if(obj.dropStubId&&obj.dropStubId!=""){var dropStub=Y.one("#"+obj.dropStubId);node=dropStub.cloneNode(!0),node.show(),node.setStyle("height",dragNode.getAttribute("offsetHeight"))}else node=dragNode.cloneNode(!0);node.setAttribute("id",editorId)}else node=dragNode;prevSibling?prevSibling.insert(node,"before"):this.configNode.appendChild(node)}act&&(act=act.replace(/rdDropContainerID/g,this.id),act=act.replace(/rdElementID/g,guid),act=act.replace(/rdNewParentID/g,this.id),act=act.replace(/rdTargetID/g,this.targetId),act=act.replace(/rdSiblingID/g,prevSibling?prevSibling.getAttribute("id"):""),act=act.replace(/rdReturnElementID/g,editorId),eval(act)),node&&node.removeClass("yui3-dd-dragging"),this.checkPlaceholder();if(node&&obj.proxyHideOnStart){var charts=node.all(".rdChartCanvas"),i=0,length=charts.size(),chartNode,chartInstance,parentWidth;for(;i<length;i++){chartNode=charts.item(i),chartNode.hide();var container=chartNode.ancestor(".rdDroppableContainer"),draggedProxy=Y.one(".rdDragProxy"),chartWidth=null;if(draggedProxy){var oldContainerWidth=draggedProxy.get("offsetWidth");draggedProxy=draggedProxy.one(".rdVisEditRight");if(draggedProxy){chartWidth=draggedProxy.get("clientWidth");if(chartWidth<=0)chartWidth=null;else{var newContainerWidth=container.get("clientWidth"),widthDiff=newContainerWidth-oldContainerWidth;chartWidth+=widthDiff}}}chartWidth===null&&(chartWidth=container.get("clientWidth")),chartWidth-=4,chartNode.show(),charts.item(i).getData("rdChartCanvas").resized({width:chartWidth,height:null,finished:!1})}}this.dropObject.sizeShim(),dragNode.fire(e.type);if(e.drop){var anc=e.drop.get("node");if(anc){anc=anc.ancestor(".rdCaptureDropEvent");while(anc)anc.fire(e.type),anc=anc.ancestor(".rdCaptureDropEvent")}}},onDropEnter:function(e){},onDropExit:function(e){},onDropOver:function(e){},checkPlaceholder:function(){this.fire("sizechanged",{value:"from check placeholder"});var e=this.configNode.get("children"),t=e.size()==1,n=this.configNode.one("> .rdDropPlaceholder");if(n==null)return;!t&&e.size()==3&&!this.configNode.one("> .rdDropGhost")&&this.configNode.one("> .yui3-dd-dragging")&&this.configNode.one("> .rdDragProxy")&&(t=!0),n.setStyle("display",t?"":"none")},showGhost:function(e,t){if(this.noGhost)return;var n=Y.Node.create('<div class="rdDropGhost">&nbsp;</div>');return n.setAttribute("data-for",e.get("node").getAttribute("id")),t?t.insert(n,t.rdInsertBefore?"before":"after"):this.configNode.appendChild(n),this.checkPlaceholder(),n},moveGhost:function(e,t){if(this.noGhost)return;var n=this.configNode.one("> .rdDropGhost");n||(n=this.showGhost(e,t));if(t)if(t.rdInsertBefore){if(t.previous()==n)return;t.insert(n,"before")}else{if(t.next()==n)return;t.insert(n,"after")}},removeGhost:function(){var e=this.configNode.one("> .rdDropGhost"),t=null;return e&&(t=e.next(),e.remove()),this.checkPlaceholder(),t},_parseHTMLConfig:function(){this.configNode=this.get("configNode"),this.id=this.configNode.getAttribute("id");var e=this.configNode.getAttribute("data-group");e&&(this.groups=e.split(",")),this.noGhost=this.configNode.getAttribute("data-no-ghost")=="True",this.dataIgnore=this.configNode.getAttribute("data-ignore")=="True",this.targetId=this.configNode.getAttribute("data-target-id")},destructor:function(){var e=this.configNode;this._clearHandlers(),this.dropObject.destroy(),this.dropObject=null,e.setData(TRIGGER,null)},_clearHandlers:function(){var e=this;Y.each(this._handlers,function(e){e&&(e.detach&&e.detach(),e=null)})},getGuid:function(){var e=function(){return((1+Math.random())*65536|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}},{NAME:"DroppableContainer",ATTRS:{configNode:{value:null,setter:Y.one}},createElements:function(){var e;Y.all("."+TRIGGER).each(function(t){e=t.getData(TRIGGER),e||(e=new Y.LogiXML.DroppableContainer({configNode:t}))})},sizeAllShims:function(){var e;Y.all("."+TRIGGER).each(function(t){e=t.getData(TRIGGER),e&&e.dropObject.sizeShim()})}})},"1.0.0",{requires:["base","node","event","node-custom-destroy","json-parse","stylesheet","event-custom","dd-drag","dd-drop","dd-proxy","dd-constrain","dd-scroll","responsiveColumnResizer"]});

/* 
* rdYui/event-tap.js 
*/
// JSLint options:
/*global YUI: false, document: false, DocumentTouch: false, window: false, console: false *//*
 * Tap event is essentially a workaround for mobile devices where there is 300-500ms lag between 'touchend' and 'click' event.
 * The inner workings are based on Tap.js, https://github.com/alexgibson/tap.js.
 */YUI.add("event-tap",function(e){var t=e.Lang.isValue,n=10,r="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,i=r?{start:"touchstart",move:"touchmove",end:"touchend"}:{start:"mousedown",move:"mousemove",end:"mouseup"},s="currentTarget",o="target",u="button",a="tap",f=function(e,t,n){e.pageX=t.pageX,e.pageY=t.pageY,e.screenX=t.screenX,e.screenY=t.screenY,e.clientX=t.clientX,e.clientY=t.clientY,e[o]=e[o]||t[o],e[s]=e[s]||t[s],e[u]=n&&n[u]||1},l=function(t,n){e.each(t[n],function(e){e&&e.detach()}),t[n]=null};e.Event.define(a,{on:function(e,t,n){var r={};r.start=e.on(i.start,this._onStart,this,e,t,n),r.move=e.on(i.move,this._onMove,this,e,t,n),r.end=e.on(i.end,this._onEnd,this,e,t,n),t._handles=r},delegate:function(e,t,n,r){var s={};s.start=e.delegate(i.start,this._onStart,r,this,e,t,n,!0),s.move=e.delegate(i.move,this._onMove,r,this,e,t,n,!0),s.end=e.delegate(i.end,this._onEnd,r,this,e,t,n,!0),t._delegate_handles=s},detach:function(e,t,n){l(t,"_handles")},detachDelegate:function(e,t,n){l(t,"_delegate_handles")},_onStart:function(e,t,n,r,i){n.moved=!1,n.startEvent=undefined;if(e.button&&e.button!==1)return;if(e.touches&&e.touches.length!==1)return;n.startEvent=e},_onMove:function(e,i,s,o,u){if(!t(s.startEvent)||s.moved)return;var a=r?e.touches[0].pageX:e.pageX,f=r?e.touches[0].pageX:e.pageY,l=s.startEvent,c=r?l.touches[0].pageX:l.pageX,h=r?l.touches[0].pageY:l.pageY;if(Math.abs(a-c)>n||Math.abs(f-h)>n)s.moved=!0},_onEnd:function(e,n,r,i,u){if(!t(r.startEvent)||r.moved)return;u?n=e[s]:n=e[o];var l=n.get("tagName");l!=="SELECT"&&l!=="INPUT"&&l!=="TEXTAREA"&&l!=="BUTTON"&&e.preventDefault(),r.moved||(e.changedTouches&&f(e,e.changedTouches[0]),e.type=a,i.fire(e))}})},"1.0.0",{requires:["node-base","event-touch","event-synthetic"]});

/* 
* rdYui/excanvas.js 
*/
// Copyright 2006 Google Inc.
//
// Licensed under the Apache License, Version 2.0 (the "License");
// you may not use this file except in compliance with the License.
// You may obtain a copy of the License at
//
//   http://www.apache.org/licenses/LICENSE-2.0
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
// Known Issues:
//
// * Patterns are not implemented.
// * Radial gradient are not implemented. The VML version of these look very
//   different from the canvas one.
// * Clipping paths are not implemented.
// * Coordsize. The width and height attribute have higher priority than the
//   width and height style values which isn't correct.
// * Painting mode isn't implemented.
// * Canvas width/height should is using content-box by default. IE in
//   Quirks mode will draw the canvas using border-box. Either change your
//   doctype to HTML5
//   (http://www.whatwg.org/specs/web-apps/current-work/#the-doctype)
//   or use Box Sizing Behavior from WebFX
//   (http://webfx.eae.net/dhtml/boxsizing/boxsizing.html)
// * Non uniform scaling does not correctly scale strokes.
// * Optimize. There is always room for speed improvements.
// Only add this code if we do not already have a canvas implementation
document.createElement("canvas").getContext||function(){function a(){return this.context_||(this.context_=new S(this))}function l(e,t,n){var r=f.call(arguments,2);return function(){return e.apply(t,r.concat(f.call(arguments)))}}function h(e){var t=e.srcElement;switch(e.propertyName){case"width":t.style.width=t.attributes.width.nodeValue+"px",t.getContext().clearRect(),t.firstChild&&t.style.width&&(t.firstChild.style.width=t.style.width);break;case"height":t.style.height=t.attributes.height.nodeValue+"px",t.getContext().clearRect(),t.firstChild&&t.style.height&&(t.firstChild.style.height=t.style.height)}}function p(e){var t=e.srcElement;t.firstChild&&(t.firstChild.style.width=t.clientWidth+"px",t.firstChild.style.height=t.clientHeight+"px")}function g(){return[[1,0,0],[0,1,0],[0,0,1]]}function y(e,t){var n=g();for(var r=0;r<3;r++)for(var i=0;i<3;i++){var s=0;for(var o=0;o<3;o++)s+=e[r][o]*t[o][i];n[r][i]=s}return n}function b(e,t){t.fillStyle=e.fillStyle,t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.lineWidth=e.lineWidth,t.miterLimit=e.miterLimit,t.shadowBlur=e.shadowBlur,t.shadowColor=e.shadowColor,t.shadowOffsetX=e.shadowOffsetX,t.shadowOffsetY=e.shadowOffsetY,t.strokeStyle=e.strokeStyle,t.globalAlpha=e.globalAlpha,t.arcScaleX_=e.arcScaleX_,t.arcScaleY_=e.arcScaleY_,t.lineScale_=e.lineScale_}function w(e){var t,n=1;e=String(e);if(e.substring(0,3)=="rgb"){var r=e.indexOf("(",3),i=e.indexOf(")",r+1),s=e.substring(r+1,i).split(",");t="#";for(var o=0;o<3;o++)t+=d[Number(s[o])];s.length==4&&e.substr(3,1)=="a"&&(n=s[3])}else t=e;return{color:t,alpha:n}}function E(e){switch(e){case"butt":return"flat";case"round":return"round";case"square":default:return"square"}}function S(e){this.m_=g(),this.mStack_=[],this.aStack_=[],this.currentPath_=[],this.strokeStyle="#000",this.fillStyle="#000",this.lineWidth=1,this.lineJoin="miter",this.lineCap="butt",this.miterLimit=o*1,this.globalAlpha=1,this.canvas=e;var t=e.ownerDocument.createElement("div");t.style.width=e.clientWidth+"px",t.style.height=e.clientHeight+"px",t.style.overflow="hidden",t.style.position="absolute",e.appendChild(t),this.element_=t,this.arcScaleX_=1,this.arcScaleY_=1,this.lineScale_=1}function T(e,t,n,r){e.currentPath_.push({type:"bezierCurveTo",cp1x:t.x,cp1y:t.y,cp2x:n.x,cp2y:n.y,x:r.x,y:r.y}),e.currentX_=r.x,e.currentY_=r.y}function N(e){this.type_=e,this.x0_=0,this.y0_=0,this.r0_=0,this.x1_=0,this.y1_=0,this.r1_=0,this.colors_=[]}function C(){}var e=Math,t=e.round,n=e.sin,r=e.cos,i=e.abs,s=e.sqrt,o=10,u=o/2,f=Array.prototype.slice,c={init:function(e){if(/MSIE/.test(navigator.userAgent)&&!window.opera){var t=e||document;t.createElement("canvas"),t.readyState!=="complete"?t.attachEvent("onreadystatechange",l(this.init_,this,t)):this.init_(t)}},init_:function(e){e.namespaces.g_vml_||e.namespaces.add("g_vml_","urn:schemas-microsoft-com:vml","#default#VML"),e.namespaces.g_o_||e.namespaces.add("g_o_","urn:schemas-microsoft-com:office:office","#default#VML");if(!e.styleSheets.ex_canvas_){var t=e.createStyleSheet();t.owningElement.id="ex_canvas_",t.cssText="canvas{display:inline-block;overflow:hidden;text-align:left;width:300px;height:150px}g_vml_\\:*{behavior:url(#default#VML)}g_o_\\:*{behavior:url(#default#VML)}"}var n=e.getElementsByTagName("canvas");for(var r=0;r<n.length;r++)this.initElement(n[r])},initElement:function(e){if(!e.getContext){e.getContext=a,e.innerHTML="",e.attachEvent("onpropertychange",h),e.attachEvent("onresize",p);var t=e.attributes;t.width&&t.width.specified?e.style.width=t.width.nodeValue+"px":e.width=e.clientWidth,t.height&&t.height.specified?e.style.height=t.height.nodeValue+"px":e.height=e.clientHeight}return e}};c.init();var d=[];for(var v=0;v<16;v++)for(var m=0;m<16;m++)d[v*16+m]=v.toString(16)+m.toString(16);var x=S.prototype;x.clearRect=function(){this.element_.innerHTML=""},x.beginPath=function(){this.currentPath_=[]},x.moveTo=function(e,t){var n=this.getCoords_(e,t);this.currentPath_.push({type:"moveTo",x:n.x,y:n.y}),this.currentX_=n.x,this.currentY_=n.y},x.lineTo=function(e,t){var n=this.getCoords_(e,t);this.currentPath_.push({type:"lineTo",x:n.x,y:n.y}),this.currentX_=n.x,this.currentY_=n.y},x.bezierCurveTo=function(e,t,n,r,i,s){var o=this.getCoords_(i,s),u=this.getCoords_(e,t),a=this.getCoords_(n,r);T(this,u,a,o)},x.quadraticCurveTo=function(e,t,n,r){var i=this.getCoords_(e,t),s=this.getCoords_(n,r),o={x:this.currentX_+2/3*(i.x-this.currentX_),y:this.currentY_+2/3*(i.y-this.currentY_)},u={x:o.x+(s.x-this.currentX_)/3,y:o.y+(s.y-this.currentY_)/3};T(this,o,u,s)},x.arc=function(e,t,i,s,a,f){i*=o;var l=f?"at":"wa",c=e+r(s)*i-u,h=t+n(s)*i-u,p=e+r(a)*i-u,d=t+n(a)*i-u;c==p&&!f&&(c+=.125);var v=this.getCoords_(e,t),m=this.getCoords_(c,h),g=this.getCoords_(p,d);this.currentPath_.push({type:l,x:v.x,y:v.y,radius:i,xStart:m.x,yStart:m.y,xEnd:g.x,yEnd:g.y})},x.rect=function(e,t,n,r){this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.closePath()},x.strokeRect=function(e,t,n,r){var i=this.currentPath_;this.beginPath(),this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.closePath(),this.stroke(),this.currentPath_=i},x.fillRect=function(e,t,n,r){var i=this.currentPath_;this.beginPath(),this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.closePath(),this.fill(),this.currentPath_=i},x.createLinearGradient=function(e,t,n,r){var i=new N("gradient");return i.x0_=e,i.y0_=t,i.x1_=n,i.y1_=r,i},x.createRadialGradient=function(e,t,n,r,i,s){var o=new N("gradientradial");return o.x0_=e,o.y0_=t,o.r0_=n,o.x1_=r,o.y1_=i,o.r1_=s,o},x.drawImage=function(n,r){var i,s,u,a,f,l,c,h,p=n.runtimeStyle.width,d=n.runtimeStyle.height;n.runtimeStyle.width="auto",n.runtimeStyle.height="auto";var v=n.width,m=n.height;n.runtimeStyle.width=p,n.runtimeStyle.height=d;if(arguments.length==3)i=arguments[1],s=arguments[2],f=l=0,c=u=v,h=a=m;else if(arguments.length==5)i=arguments[1],s=arguments[2],u=arguments[3],a=arguments[4],f=l=0,c=v,h=m;else{if(arguments.length!=9)throw Error("Invalid number of arguments");f=arguments[1],l=arguments[2],c=arguments[3],h=arguments[4],i=arguments[5],s=arguments[6],u=arguments[7],a=arguments[8]}var g=this.getCoords_(i,s),y=c/2,b=h/2,w=[],E=10,S=10;w.push(" <g_vml_:group",' coordsize="',o*E,",",o*S,'"',' coordorigin="0,0"',' style="width:',E,"px;height:",S,"px;position:absolute;");if(this.m_[0][0]!=1||this.m_[0][1]){var x=[];x.push("M11=",this.m_[0][0],",","M12=",this.m_[1][0],",","M21=",this.m_[0][1],",","M22=",this.m_[1][1],",","Dx=",t(g.x/o),",","Dy=",t(g.y/o),"");var T=g,N=this.getCoords_(i+u,s),C=this.getCoords_(i,s+a),k=this.getCoords_(i+u,s+a);T.x=e.max(T.x,N.x,C.x,k.x),T.y=e.max(T.y,N.y,C.y,k.y),w.push("padding:0 ",t(T.x/o),"px ",t(T.y/o),"px 0;filter:progid:DXImageTransform.Microsoft.Matrix(",x.join(""),", sizingmethod='clip');")}else w.push("top:",t(g.y/o),"px;left:",t(g.x/o),"px;");w.push(' ">','<g_vml_:image src="',n.src,'"',' style="width:',o*u,"px;"," height:",o*a,'px;"',' cropleft="',f/v,'"',' croptop="',l/m,'"',' cropright="',(v-f-c)/v,'"',' cropbottom="',(m-l-h)/m,'"'," />","</g_vml_:group>"),this.element_.insertAdjacentHTML("BeforeEnd",w.join(""))},x.stroke=function(n){var r=[],i=!1,s=w(n?this.fillStyle:this.strokeStyle),u=s.color,a=s.alpha*this.globalAlpha,f=10,l=10;r.push("<g_vml_:shape",' filled="',!!n,'"',' style="position:absolute;width:',f,"px;height:",l,'px;"',' coordorigin="0 0" coordsize="',o*f," ",o*l,'"',' stroked="',!n,'"',' path="');var c=!1,h={x:null,y:null},p={x:null,y:null};for(var d=0;d<this.currentPath_.length;d++){var v=this.currentPath_[d],m;switch(v.type){case"moveTo":m=v,r.push(" m ",t(v.x),",",t(v.y));break;case"lineTo":r.push(" l ",t(v.x),",",t(v.y));break;case"close":r.push(" x "),v=null;break;case"bezierCurveTo":r.push(" c ",t(v.cp1x),",",t(v.cp1y),",",t(v.cp2x),",",t(v.cp2y),",",t(v.x),",",t(v.y));break;case"at":case"wa":r.push(" ",v.type," ",t(v.x-this.arcScaleX_*v.radius),",",t(v.y-this.arcScaleY_*v.radius)," ",t(v.x+this.arcScaleX_*v.radius),",",t(v.y+this.arcScaleY_*v.radius)," ",t(v.xStart),",",t(v.yStart)," ",t(v.xEnd),",",t(v.yEnd))}if(v){if(h.x==null||v.x<h.x)h.x=v.x;if(p.x==null||v.x>p.x)p.x=v.x;if(h.y==null||v.y<h.y)h.y=v.y;if(p.y==null||v.y>p.y)p.y=v.y}}r.push(' ">');if(!n){var g=this.lineScale_*this.lineWidth;g<1&&(a*=g),r.push("<g_vml_:stroke",' opacity="',a,'"',' joinstyle="',this.lineJoin,'"',' miterlimit="',this.miterLimit,'"',' endcap="',E(this.lineCap),'"',' weight="',g,'px"',' color="',u,'" />')}else if(typeof this.fillStyle=="object"){var y=this.fillStyle,b=0,S={x:0,y:0},x=0,T=1;if(y.type_=="gradient"){var N=y.x0_/this.arcScaleX_,C=y.y0_/this.arcScaleY_,k=y.x1_/this.arcScaleX_,L=y.y1_/this.arcScaleY_,A=this.getCoords_(N,C),O=this.getCoords_(k,L),M=O.x-A.x,_=O.y-A.y;b=Math.atan2(M,_)*180/Math.PI,b<0&&(b+=360),b<1e-6&&(b=0)}else{var A=this.getCoords_(y.x0_,y.y0_),D=p.x-h.x,P=p.y-h.y;S={x:(A.x-h.x)/D,y:(A.y-h.y)/P},D/=this.arcScaleX_*o,P/=this.arcScaleY_*o;var H=e.max(D,P);x=2*y.r0_/H,T=2*y.r1_/H-x}var B=y.colors_;B.sort(function(e,t){return e.offset-t.offset});var j=B.length,F=B[0].color,I=B[j-1].color,q=B[0].alpha*this.globalAlpha,R=B[j-1].alpha*this.globalAlpha,U=[];for(var d=0;d<j;d++){var z=B[d];U.push(z.offset*T+x+" "+z.color)}r.push('<g_vml_:fill type="',y.type_,'"',' method="none" focus="100%"',' color="',F,'"',' color2="',I,'"',' colors="',U.join(","),'"',' opacity="',R,'"',' g_o_:opacity2="',q,'"',' angle="',b,'"',' focusposition="',S.x,",",S.y,'" />')}else r.push('<g_vml_:fill color="',u,'" opacity="',a,'" />');r.push("</g_vml_:shape>"),this.element_.insertAdjacentHTML("beforeEnd",r.join(""))},x.fill=function(){this.stroke(!0)},x.closePath=function(){this.currentPath_.push({type:"close"})},x.getCoords_=function(e,t){var n=this.m_;return{x:o*(e*n[0][0]+t*n[1][0]+n[2][0])-u,y:o*(e*n[0][1]+t*n[1][1]+n[2][1])-u}},x.save=function(){var e={};b(this,e),this.aStack_.push(e),this.mStack_.push(this.m_),this.m_=y(g(),this.m_)},x.restore=function(){b(this.aStack_.pop(),this),this.m_=this.mStack_.pop()},x.translate=function(e,t){var n=[[1,0,0],[0,1,0],[e,t,1]];this.m_=y(n,this.m_)},x.rotate=function(e){var t=r(e),i=n(e),s=[[t,i,0],[-i,t,0],[0,0,1]];this.m_=y(s,this.m_)},x.scale=function(e,t){this.arcScaleX_*=e,this.arcScaleY_*=t;var n=[[e,0,0],[0,t,0],[0,0,1]],r=this.m_=y(n,this.m_),o=r[0][0]*r[1][1]-r[0][1]*r[1][0];this.lineScale_=s(i(o))},x.clip=function(){},x.arcTo=function(){},x.createPattern=function(){return new C},N.prototype.addColorStop=function(e,t){t=w(t),this.colors_.push({offset:e,color:t.color,alpha:t.alpha})},G_vmlCanvasManager=c,CanvasRenderingContext2D=S,CanvasGradient=N,CanvasPattern=C}();

/* 
* rdYui/formatters.js 
*/
//"use strict";
window.LogiXML===undefined&&(window.LogiXML={}),LogiXML.Formatter={format:function(e,t){return e===undefined||e===null?e:(t&&t.toLowerCase()==="html"&&(e=LogiXML.decodeHtml(e,!0)),e instanceof Date?LogiXML.Formatter.formatDate(e,t):typeof e=="number"?LogiXML.Formatter.formatNumber(e,t):typeof e=="string"?LogiXML.Formatter.formatString(e,t):e)},formatDate:function(e,t){if(t==null||t=="")t="yyyy/MM/dd hh:mm:ss";var n=!0,r=new Date(e),i=n?r.getUTCMilliseconds():r.getMilliseconds(),s=n?r.getUTCSeconds():r.getSeconds(),o=n?r.getUTCMinutes():r.getMinutes(),u=n?r.getUTCHours():r.getHours(),a=n?r.getUTCDay():r.getDay(),f=n?r.getUTCDate():r.getDate(),l=n?r.getUTCMonth():r.getMonth(),c=n?r.getUTCFullYear():r.getFullYear(),h="",p=function(e,t){return(new Array((t||2)+1-String(e).length)).join(0)+e},d=function(e,t){return e+(new Array((t||2)+1-String(e).length)).join(0)};switch(t){case"General Date":case"G":u==0&&o==0&&s==0&&i==0?t=LogiXML.Localization.DateFormatInfo.shortDatePattern:c==0&&l==0&&f?t=LogiXML.Localization.DateFormatInfo.shortTimePattern:t=LogiXML.Localization.DateFormatInfo.shortDatePattern+" "+LogiXML.Localization.DateFormatInfo.shortTimePattern;break;case"Long Date":case"D":t=LogiXML.Localization.DateFormatInfo.longDatePattern;break;case"Medium Date":t=LogiXML.Localization.DateFormatInfo.longDatePattern;break;case"Short Date":case"d":t=LogiXML.Localization.DateFormatInfo.shortDatePattern;break;case"Long Time":case"T":t=LogiXML.Localization.DateFormatInfo.longTimePattern;break;case"Medium Time":t=LogiXML.Localization.DateFormatInfo.longTimePattern;break;case"Short Time":case"t":t=LogiXML.Localization.DateFormatInfo.shortTimePattern;break;case"f":t=LogiXML.Localization.DateFormatInfo.longDatePattern+" "+LogiXML.Localization.DateFormatInfo.shortTimePattern;break;case"F":t=LogiXML.Localization.DateFormatInfo.longDatePattern+" "+LogiXML.Localization.DateFormatInfo.longTimePattern;break;case"g":t=LogiXML.Localization.DateFormatInfo.shortDatePattern+" "+LogiXML.Localization.DateFormatInfo.shortTimePattern;break;case"M":case"m":t=LogiXML.Localization.DateFormatInfo.monthDayPattern;break;case"R":case"r":case"s":case"u":case"U":t="yyyy'-'MM'-'dd'T'HH':'mm':'ss";break;case"Y":case"y":t=LogiXML.Localization.DateFormatInfo.yearMonthPattern}return LogiXML.Localization.DateFormatInfo.dateSeparator!="/"&&(t=t.replace(new RegExp("/"),LogiXML.Localization.DateFormatInfo.dateSeparator)),LogiXML.Localization.DateFormatInfo.timeSeparator!=":"&&(t=t.replace(/:/g,LogiXML.Localization.DateFormatInfo.timeSeparator)),t=t.replace(/%/g,""),h=t.replace(/(\\)?("[^"]*"?|'[^']*'?|dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S|fyyyy?|fyy?|fqq?|ww?|fF?|qq?)/g,function(e){if(e.charAt(0)==="\\")return e.replace("\\","");switch(e){case"dddd":return LogiXML.Localization.DateFormatInfo.dayNames[a];case"ddd":return LogiXML.Localization.DateFormatInfo.abbreviatedDayNames[a];case"dd":return p(f);case"d":return f;case"MMMM":return LogiXML.Localization.DateFormatInfo.monthNames[l];case"MMM":case"mmm":return LogiXML.Localization.DateFormatInfo.abbreviatedMonthNames[l];case"MM":return p(l+1);case"M":return l+1;case"gg":return"";case"hh":return p(u<13?u===0?12:u:u-12);case"h":return u<13?u===0?12:u:u-12;case"HH":return p(u);case"H":return u;case"mm":return p(o);case"m":return o;case"ss":return p(s);case"s":return s;case"FFFFFFF":case"fffffff":return d(i,7).substring(0,7);case"FFFFFF":case"ffffff":return d(i,6).substring(0,6);case"FFFFF":case"fffff":return d(i,5).substring(0,5);case"FFFF":case"ffff":return d(i,4).substring(0,4);case"FFF":case"fff":return d(i,3).substring(0,3);case"FF":case"ff":return d(i,2).substring(0,2);case"F":case"f":return d(i,1).substring(0,1);case"T":case"t":return u<12?LogiXML.Localization.DateFormatInfo.AMDesignator.substring(0,1):LogiXML.Localization.DateFormatInfo.PMDesignator.substring(0,1);case"TT":case"tt":return u<12?LogiXML.Localization.DateFormatInfo.AMDesignator:LogiXML.Localization.DateFormatInfo.PMDesignator;case"yyyy":return p(c,4);case"yy":case"y":return c.toString().substr(4-e.length);case"qq":return Math.ceil((l+1)/3);case"fyyyy":var t=LogiXML.Formatter.getAdjustedFiscalDate(r);return t.getUTCFullYear();case"fyy":var t=LogiXML.Formatter.getAdjustedFiscalDate(r);return t.getUTCFullYear().toString().substr(2);case"fqq":var t=LogiXML.Formatter.getAdjustedFiscalDate(r);return parseInt(t.getUTCMonth()/3)+1;case"ww":var n=LogiXML.Formatter.getDayOfYear(r)-1,h=LogiXML.Formatter.getDayOfYear(r)-n%7,v=0,m=document.getElementById("rdConstantFirstDayOfWeekHidden");m&&(v=parseInt(m.value));var g=(h-v+14)%7;return Math.floor((n+g)/7+1);default:if(e.charAt(0)==='"')return e.replace(/["]/g,"");if(e.charAt(0)==="'")return e.replace(/[']/g,"");return e}}).replace("\\",""),h},getDayOfYear:function(e){var t=new Date(e.getUTCFullYear(),0,0),n=e-t,r=864e5,i=Math.floor(n/r);return i},getAdjustedFiscalDate:function(e){var t=new Date(e),n=document.getElementById("rdConstantFirstDayOfFiscalYearHidden");if(n){var r=n.value;if(r){var i=new Date(r);if(i.getUTCDate()==1&&i.getUTCMonth()==0)return t;var s=0,o="",u=document.getElementById("rdConstantPositiveFiscalYearHidden");u&&(o=u.value),o!="True"&&(s=1),t.setUTCFullYear(e.getUTCFullYear()+s),t.setUTCMonth(e.getUTCMonth()+(1-(i.getUTCMonth()+1))),t.setUTCDate(e.getUTCDate()+(1-i.getUTCDate()))}}return t},formatNumber:function(e,t){if(t==null||t=="")return e;var n=t,r="",i="",s="-",o,u,a,f;t=LogiXML.decodeHtml(t,!0),t.indexOf(";")>-1&&(e>=0?t=t.substring(0,t.indexOf(";")):(t=t.substring(t.indexOf(";")+1),s=""),n=t),t=LogiXML.decodeHtml(t);switch(t){case"General Number":case"G":case"g":n="#0";break;case"Currency":case"C":case"c":n="#",o=0,a=LogiXML.Localization.NumFormatInfo.currencyGroupSizes.length;for(;o<a;o++){u=0,f=LogiXML.Localization.NumFormatInfo.currencyGroupSizes[o],n+=",";for(;u<f;u++)n+="#"}n.length>2&&(n=n.substring(0,n.length-1)+"0");if(LogiXML.Localization.NumFormatInfo.currencyDecimalDigits>0){n+=".",o=0,a=LogiXML.Localization.NumFormatInfo.currencyDecimalDigits;for(;o<a;o++)n+="0"}if(e>=0)switch(LogiXML.Localization.NumFormatInfo.currencyPositivePattern){case 0:r=LogiXML.Localization.NumFormatInfo.currencySymbol;break;case 2:r=LogiXML.Localization.NumFormatInfo.currencySymbol+" ";break;case 1:i=LogiXML.Localization.NumFormatInfo.currencySymbol;break;case 3:i=" "+LogiXML.Localization.NumFormatInfo.currencySymbol}else switch(LogiXML.Localization.NumFormatInfo.currencyNegativePattern){case 0:r="("+LogiXML.Localization.NumFormatInfo.currencySymbol,i=")",s="";break;case 1:r="-"+LogiXML.Localization.NumFormatInfo.currencySymbol,s="";break;case 2:r=LogiXML.Localization.NumFormatInfo.currencySymbol;break;case 3:r=LogiXML.Localization.NumFormatInfo.currencySymbol,i="-",s="";break;case 4:r="(",i=LogiXML.Localization.NumFormatInfo.currencySymbol+")",s="";break;case 5:i=LogiXML.Localization.NumFormatInfo.currencySymbol;break;case 6:i="-"+LogiXML.Localization.NumFormatInfo.currencySymbol,s="";break;case 7:i=LogiXML.Localization.NumFormatInfo.currencySymbol+"-",s="";break;case 8:i=" "+LogiXML.Localization.NumFormatInfo.currencySymbol;break;case 9:perfix="-"+LogiXML.Localization.NumFormatInfo.currencySymbol+" ",s="";break;case 10:i=" "+LogiXML.Localization.NumFormatInfo.currencySymbol+"-",s="";break;case 11:prfix=LogiXML.Localization.NumFormatInfo.currencySymbol=" ",i="-",s="";break;case 12:prfix=LogiXML.Localization.NumFormatInfo.currencySymbol=" ";break;case 13:i="- "+LogiXML.Localization.NumFormatInfo.currencySymbol,s="";break;case 14:r="("+LogiXML.Localization.NumFormatInfo.currencySymbol+" ",i=")",s="";break;case 15:r="(",i=" "+LogiXML.Localization.NumFormatInfo.currencySymbol+")",s=""}break;case"Fixed":case"F":case"f":n="0.00";case"Standard":case"N":case"n":n="#,##0.00";break;case"Percent":t=n="0.00%";break;case"P":case"p":t=n="#,##0.00%";break;case"Scientific":return e.toExponential(2).toUpperCase();case"E":return e.toExponential(6).toUpperCase().replace(".",LogiXML.Localization.NumFormatInfo.numberDecimalSeparator);case"e":return e.toExponential(6).toLowerCase().replace(".",LogiXML.Localization.NumFormatInfo.numberDecimalSeparator);case"True/False":return e>0?"True":"False";case"Yes/No":return e>0?"Yes":"No";case"On/Off":return e>0?"On":"Off";case"Timespan":return LogiXML.Formatter.TimeSpan.FromSeconds(e).To_Timespan_FormattedString()}if(t.charAt(0)=="e"||t.charAt(0)=="E"){var l=new RegExp(/[0-9]+/),c=l.exec(t),h=0,p;return c&&c.length>0?(h=parseInt(c[0]),p=e.toExponential(h>20?20:h)):p=e.toExponential(0),p=p.replace(".",LogiXML.Localization.NumFormatInfo.numberDecimalSeparator),t.charAt(0)=="e"?p.toLowerCase():p.toUpperCase()}if((t.charAt(0)=="p"||t.charAt(0)=="P")&&t.length>1){var l=new RegExp(/[0-9]+/),c=l.exec(t),h=parseInt(c[0]);isNaN(h)||(t=n="#,##0."+Array(++h).join("0")+"%")}var d="0#-,.";if(n!=t)t=n;else{var v=new RegExp("mp");if(v.test(t)){v=new RegExp("mps([1-9]+)");if(v.test(t)){var m=t.match(v);if(m&&m.length==2&&m[1]){var g=parseInt(m[1]);g&&g>0&&(e=LogiXML.Formatter.roundToSignificantDigit(e,g))}t=t.substr(0,t.indexOf("mps")+2)}else v=new RegExp("mps"),v.test(t)&&(t=t.replace("mps","mp"));var y=LogiXML.Formatter.Helpers.getMetricPrefix(e,LogiXML.Localization.metricPrefixes);e/=y[1],t=t.replace(/mp/g,y[0]),t==y[0]&&(t="0.###"+t)}for(var o=0;o<t.length;o++)if(d.indexOf(t.charAt(o))==-1)r+=t.charAt(o);else{if(s!="")break;s=t.charAt(o)}t=t.substring(r.length);for(var o=t.length-1;o>=0;o--){if(d.indexOf(t.charAt(o))!=-1)break;i=t.charAt(o)+i}t=t.substring(0,t.length-i.length)}return LogiXML.Formatter.formatCustomNumber(e,t,i,r,s,LogiXML.Localization.NumFormatInfo.numberDecimalSeparator,LogiXML.Localization.NumFormatInfo.numberGroupSeparator)},formatCustomNumber:function(e,t,n,r,i,s,o){var u=!1,a=!0,f=!1,l=!1;if(isNaN(e)){if(u!=1)return"";e=0,l=!0}n.indexOf("\\%")!==-1?n=n.replace("\\%","%"):n.indexOf("%")!==-1&&(e*=100),n&&n.indexOf("%")!=-1&&(a=!0);var c="";if(t.indexOf(".")>-1){var h=s,p=t.substring(t.lastIndexOf(".")+1);if(a==1)e=new Number(LogiXML.Formatter.Helpers.numberToFixed(e,p.length));else{var d=LogiXML.Formatter.Helpers.numberToStringWithNoExponents(e);d.lastIndexOf(".")>0&&(d=d.substring(0,d.lastIndexOf(".")+p.length+1)),e=new Number(d)}var v=new Number(LogiXML.Formatter.Helpers.numberToStringWithNoExponents(e).substring(LogiXML.Formatter.Helpers.numberToStringWithNoExponents(e).indexOf("."))),m=new String(LogiXML.Formatter.Helpers.numberToFixed(v,p.length));m=m.substring(m.lastIndexOf(".")+1);for(var g=0;g<p.length;g++){if(p.charAt(g)=="#"&&m.charAt(g)!="0"){h+=m.charAt(g);continue}if(p.charAt(g)=="#"&&m.charAt(g)=="0"){var y=m.substring(g);if(y.match("[1-9]")){h+=m.charAt(g);continue}break}p.charAt(g)=="0"&&(h+=m.charAt(g))}c+=h}else e=Math.round(e);var b=Math.floor(e);e<0&&(b=Math.abs(Math.ceil(e)));var w="";t.indexOf(".")==-1?w=t:w=t.substring(0,t.indexOf("."));var E="";if(b!=0||w.substr(w.length-1)!="#"||l){var S=new String(Math.abs(b)),x=9999;w.lastIndexOf(",")!=-1&&(x=w.length-w.lastIndexOf(",")-1);var T=0;for(var g=S.length-1;g>-1;g--)E=S.charAt(g)+E,T++,T==x&&g!=0&&(E=o+E,T=0);if(w.length>E.length){var N=w.indexOf("0");if(N!=-1){var C=w.length-N,k=w.length-E.length-1;while(E.length<C){var L=w.charAt(k);L==","&&(L=o),E=L+E,k--}}}}return!E&&w.indexOf("0",w.length-1)!==-1&&(E="0"),c=E+c,e<0&&(c=i+c),f||c.lastIndexOf(s)==c.length-1&&(c=c.substring(0,c.length-1)),c=r+c+n,c},formatString:function(e,t){if(t==null||t==""||e==null||e=="")return e;switch(t){case"<":return e.toLowerCase();case">":return e.toUpperCase();case"Expanded Spaces":return e.replace(" ","&nbsp;","g");case"Preserve Line Feeds":return e.replace(/\r|\n/g,"<br />");case"Yes/No":return e.replace(/True/gi,"Yes").replace(/False/gi,"No")}return e},roundToSignificantDigit:function(e,t){var n=!1,r;if(e==0)return 0;e<0&&(n=!0,e=-e);var i=Math.pow(10,t-Math.floor(Math.log(e)/Math.log(10))-1);return r=Math.round(e*i)/(i*1e6)*1e6,n&&(r=-r),r}},LogiXML.Formatter.Helpers={getMetricPrefix:function(e,t){var n=6,r=null,i=null,s=1e3,o=null;if(e==0)r=0,i=1;else{if(Math.trunc)r=Math.trunc(Math.log(Math.abs(e))/Math.log(s));else{var u=Math.log(Math.abs(e))/Math.log(s);u>=0?r=Math.floor(u):r=Math.ceil(u)}i=Math.pow(s,r)}return r<=n&&r>=-n?o=t[r+n]:o="?",[o,i]},numberToFixed:function(e,t){var n=Math.pow(10,t||0),r=String(Math.round(e*n)/n);if(t>0){var i=r.indexOf(".");i==-1?(r+=".",i=0):i=r.length-(i+1);while(i<t)r+="0",i++}return r},numberToStringWithNoExponents:function(e){var t=String(e).split(/[eE]/);if(t.length==1)return t[0];var n="",r=this<0?"-":"",i=t[0].replace(".",""),s=Number(t[1])+1;if(s<0){n=r+"0.";while(s++)n+="0";return n+i.replace(/^\-/,"")}s-=i.length;while(s--)n+="0";return i+n}},TimeSpan=LogiXML.Formatter.TimeSpan=function(e){const t=864e9,n=36e9,r=1e4,i=6e8,s=1e7;var o,u=e,a=e*(s/r);a=Math.round(a),o=a*r,getDays=function(){return Math.trunc(o/t)},getHours=function(){return Math.trunc(o%t/n)},getMilliseconds=function(){return Math.trunc(o%s/r)},getMinutes=function(){return Math.trunc(o%n/i)},getSeconds=function(){return Math.trunc(o%i/s)},_=function(e,t){t=t||2;var n=Math.abs(e);return("00"+n).slice(-t)},this.To_g_FormattedString=function(){return isNaN(o)?u:""+(o<0?"-":"")+(getDays()!==0?_(getDays())+":":"")+_(getHours())+":"+_(getMinutes())+":"+_(getSeconds())+(getMilliseconds()!==0?LogiXML.Localization.NumFormatInfo.numberDecimalSeparator+_(getMilliseconds(),3):"")},this.To_Timespan_FormattedString=function(){return isNaN(o)?u:""+(o<0?"-":"")+getDays()+":"+_(getHours())+":"+_(getMinutes())+":"+_(getSeconds())}},TimeSpan.FromSeconds=function(e){return new TimeSpan(e)};

/* 
* rdYui/image-utils.js 
*/
// JSLint options:
/*global LogiXML: true, YUI: false, document: false, window: false, console: false, Image: false */YUI.add("image-utils",function(e){var t="chartfx-wrapper",n=e.LogiXML.Attribute,r=e.namespace("LogiXML.Image"),i=e.Lang.isValue,s=e.Lang.isNumber,o=LogiXML.String.isNotBlank,u="wrapUsageCount",a="vertical",f="data-islegend",l="data-islabel",c="data-seriesID",h=function(e){return i(e)&&!!e.getDOMNode};r.wrapImage=function(e){var n=e.get("parentNode"),r;if(n.get("tagName")!=="DIV"||!n.hasClass(t))e.wrap("<div></div>"),n=e.get("parentNode"),n.addClass(t);return r=n.getData(u),s(r)?r+=1:r=1,n.setData(u,r),n},r.unwrapImage=function(e){var n=e.get("parentNode"),r=!1,i;h(n)&&n.hasClass(t)&&(i=n.getData(u),s(i)?(i-=1,i===0&&(r=!0)):r=!0),r&&(e.unwrap(),n.destroy())},r.getImageFromMap=function(t){return t&&t instanceof e.Node?e.one('img[usemap="#'+t.getAttribute("name")+'"]'):null},r.getChartMapName=function(t){var n,r;if(h(t))n=t;else{if(!LogiXML.isDomNode(t))return undefined;n=e.one(t)}return n.get("tagName")!=="IMG"?undefined:(r=n.getAttribute("usemap"),r?(r=r.split("#")[1],r):undefined)},r.getMapfromImage=function(t){var n=r.getChartMapName(t);return n?e.one("map[name="+n+"]"):null},r.isImageLoaded=function(t){var n,r;if(h(t))n=t;else{if(!LogiXML.isDomNode(t))return undefined;n=e.one(t)}return n.get("tagName")!=="IMG"?undefined:e.UA.ie?n.get("readyState")==="complete":(r=n.get("naturalWidth"),typeof r!="undefined"&&r!==0)},r.getDimensions=function(t){var n=e.one(t),r,i,s;return h(n)&&n.get("tagName")==="IMG"?(r=n.get("width"),i=n.get("height"),r===0&&i===0&&(s=new Image,s.src=n.get("src"),r=s.width,i=s.height),{width:r,height:i}):undefined},r.Map={},r.Map.LEGEND_FLAG=f,r.Map.LABEL_FLAG=l,r.Map.SERIES_ID_ATTRIBUTE=c,r.Map.parsePieChartRenderSettings=function(t){var r,i,s,u,a,f={};if(t instanceof e.Node)r=t;else{if(!LogiXML.isDomNode(t))return undefined;r=e.one(t)}return f.chart3D=n.booleanSetter(t.getAttribute("data-chart3d")),i=parseInt(t.getAttribute("data-3dAngle"),10),f._3dAngle=i,f.chart3D&&!isNaN(i)&&i>0?(f.ellipsePie=!0,f):(f.ellipsePie=!1,s=t.getAttribute("data-piecenter"),e.Lang.isString(s)?(s=s.split(","),s.length!==2?undefined:(f.pieCenter={},f.pieCenter.x=parseInt(s[0],10),f.pieCenter.y=parseInt(s[1],10),u=parseInt(t.getAttribute("data-pieradius"),10),isNaN(u)?undefined:(f.pieRadius=u,a=t.getAttribute("data-pieinnerradius"),o(a)&&(a=parseInt(a,10),isNaN(u)||(f.pieInnerRadius=a)),f))):undefined)},r.Map.checkForPieChartLabels=function(e){var t=e.all("area");t.each(function(e){var t=e.getAttribute("shape");i(t)&&t.toLowerCase()==="rect"&&!e.hasAttribute(f)&&e.setAttribute(l,!0)},this)},r.Map.parseAreaCoordinates=function(t){var n,r,i,s,o,u=[],a;if(h(t))n=t;else{if(!LogiXML.isDomNode(t))return undefined;n=e.one(t)}if(n.get("tagName")!=="AREA")return undefined;r=n.getAttribute("coords"),i=n.getAttribute("shape");if(LogiXML.String.isBlank(r)||LogiXML.String.isBlank(i))return undefined;s=r.split(","),o=s.length,i=i.toLowerCase();if(i==="rect")return{leftX:parseInt(s[0],10),topY:parseInt(s[1],10),rightX:parseInt(s[2],10),bottomY:parseInt(s[3],10)};if(i==="poly"){for(a=0;a<o;a+=2)u[a/2]={x:parseInt(s[a],10),y:parseInt(s[a+1],10)};return u}return i==="circle"?s[2].indexOf("%")>0?undefined:{x:parseInt(s[0],10),y:parseInt(s[1],10),radius:parseInt(s[2],10)}:undefined},r.Map.determineParallelogramMiddlePoint=function(e){if(e.length!==4)return undefined;var t={},n=e[0],r=n.x,i=n.x,s=n.y,o=n.y,u=e.length,a,f,l;for(l=1;l<u;l+=1)a=e[l].x,f=e[l].y,a<=r?r=a:a>i&&(i=a),f<=s?s=f:f>o&&(o=f);return t.x=(i-r)/2+r,t.y=(o-s)/2+s,t},r.Map.calculateMiddleofLineChartArea=function(e,t){var n=r.Map.parseAreaCoordinates(e),i=e.getAttribute("shape").toLowerCase(),s={};return i==="rect"?(s.x=n.leftX+(n.rightX-n.leftX)/2,s.y=n.topY+(n.bottomY-n.topY)/2,s):(t===a?n.length===6?(s.y=(n[4].y-n[1].y)/2+n[1].y,s.x=n[1].x):n.length===4&&(s=r.Map.determineParallelogramMiddlePoint(n)):n.length===6?(s.x=(n[4].x-n[1].x)/2+n[1].x,s.y=n[1].y):n.length===4&&(s=r.Map.determineParallelogramMiddlePoint(n)),s)},r.Map.calculateAreaChartHighlightPoint=function(e,t){var n=r.Map.parseAreaCoordinates(e),i=e.getAttribute("shape").toLowerCase(),s={};return i==="rect"?(s.x=n.leftX+(n.rightX-n.leftX)/2,s.y=n.topY+(n.bottomY-n.topY)/2,s):(t===a?n.length===6?s=n[5]:(s.x=(n[3].x-n[0].x)/2+n[0].x,s.y=(n[3].y-n[0].y)/2+n[0].y):n.length===6?s=n[2]:(s.x=(n[1].x-n[2].x)/2+n[2].x,s.y=(n[1].y-n[2].y)/2+n[2].y),s)}},"1.0.0",{requires:["dom","node","attribute-helpers"]});

/* 
* rdYui/inputchart.js 
*/
// JSLint options:
/*jslint evil: true*//*global LogiXML, YUI, document, window*/YUI.add("inputchart",function(e){var t=e.Lang,n=e.LogiXML.Form,r=e.LogiXML.Image,i=n.InputChartXY.SUPPORTED_CHART_TYPES,s="LogiInputChart",o=e.LogiXML.Image.getChartMapName,u=function(n,r){return t.isString(n)&&e.Array.lastIndexOf(r,n)!==-1};n.initializeInputCharts=function(){var t=e.all("."+s);t.size()!==0&&t.each(function(t){t.removeClass(s);var i=r.getChartMapName(t),o=r.getMapfromImage(t);o?n.initializeInputChart(t):e.once("contentready",e.bind(n.initializeInputChart,this,t),"map[name="+i+"]")},this)},n.initializeInputChart=function(t){var o=r.getMapfromImage(t),a=e.one("#"+t.getAttribute("data-inputParams")),f=o.getAttribute("data-chartType"),l;t&&f&&(f=f.toLowerCase(),u(f,i)&&(l=new n.InputChartXY({chart:t,configNode:a})),t.removeClass(s))},n.reinitializeInputChartAfterResize=function(t,r){var i=o(t),s=e.one("map[name="+i+"]");s&&s.hasAttribute("data-inputChartProcessed")&&s.remove(!0),r.destroy(),e.once("contentready",e.bind(n.initializeInputChart,this,t),"map[name="+i+"]")},LogiXML.Ajax.AjaxTarget&&LogiXML.Ajax.AjaxTarget().on("reinitialize",n.initializeInputCharts)},"1.0.0",{requires:["array-extras","event","inputchart-xy","image-utils"]});

/* 
* rdYui/inputchart-base.js 
*/
// JSLint options:
/*jslint evil: true*//*global LogiXML, YUI, document, window */YUI.add("inputchart-base",function(Y){var Lang=Y.Lang,ImageUtils=Y.LogiXML.Image,ORIENTATION_VERTICAL="vertical",ORIENTATION_HORIZONTAL="horizontal",BOUNDING_BOX="boundingBox",ABSOLUTE="absolute",RELATIVE="relative",PX="px",NUMERIC="numeric",TIME="time",CONSTRAIN_TEMPLATE="<div></div>",DESTROY_CLASS_KEY="inputchart",EV_INPUTCHART_READY="inputChart:ready",EV_INPUTCHART_RESET="inputChart:reset",EV_INPUTCHART_RUN_ACTION="inputChart:runAction",axisTypeValidator=function(e){if(!Lang.isString(e))return!1;var t=e.toLowerCase();return t===TIME||t===NUMERIC},toLowerCase=function(e){return e.toLowerCase()},booleanValidator=function(e){return Lang.isString(e)||Lang.isBoolean(e)},booleanSetter=function(e){return Lang.isBoolean(e)?e:(e=e.toLowerCase(),e==="true"?!0:!1)};Y.LogiXML.Node.destroyClassKeys.push(DESTROY_CLASS_KEY),Y.namespace("LogiXML.Form").InputChart=Y.Base.create("inputChart",Y.Base,[],{initializer:function(e){var t=this.get("configNode"),n=this.get("chart"),r;if(t===null||t===undefined){Y.error('inputChart: attribute "configNode" is required');return}if(n===null||n===undefined){Y.error('inputChart: attribute "chart" is required');return}this.addTarget(n),n.setData(DESTROY_CLASS_KEY,this),this._handles={},this._submitAction=null,this._clearAction=null,this._mapNode=ImageUtils.getMapfromImage(n),this._parseHTMLConfig(),this._wrapper=this._createWrapper(),this._createConstrainRegion(),this._overlay=this._createOverlay(e),r=this._overlay.get(BOUNDING_BOX),this._wrapper.append(r),this._customEvents={},this._publishCustomEvents(),this._bindEvents(),n.setStyle("cursor","auto"),r.setStyle("cursor","move")},destructor:function(){var e=this.get("constrain"),t=this.get("chart");this._clearHandles(),this._removeCustomEvents(),typeof this._overlay.destroy=="function"&&this._overlay.destroy(),e.getDOMNode()?e.remove(!0):e=null,ImageUtils.unwrapImage(t)},_createWrapper:function(){var e=this.get("chart"),t=ImageUtils.getDimensions(e),n;return n=ImageUtils.wrapImage(e),n.setStyles({position:RELATIVE,width:t.width+PX,height:t.height+PX}),e.setStyles({position:ABSOLUTE,left:0,top:0}),n},_createConstrainRegion:function(){var e=this.get("plotAttributes"),t=Y.Node.create(CONSTRAIN_TEMPLATE);t.setStyles({position:ABSOLUTE,left:e.x+PX,bottom:e.y+PX,top:"",right:"",width:e.width,height:e.height}),this.get("chart").insert(t,"before"),this.set("constrain",t)},_createOverlay:function(){var e=new Y.LogiXML.DrawableOverlay(this._getOverlayConfig());return e.render(),e},_getOverlayConfig:function(){return{constrain:this.get("constrain"),trigger:this.get("chart"),minHeight:this.get("minOverlayHeight"),minWidth:this.get("minOverlayWidth"),imageMap:this._mapNode,backgroundColor:this.get("overlayBackgroundColor"),borderColor:this.get("overlayBorderColor"),opacity:this.get("overlayOpacity")}},_publishCustomEvents:function(){var e=this._customEvents,t=this.get("disableSelectionClear");e.runAction=this.publish(EV_INPUTCHART_RUN_ACTION,{queuable:!1,emitFacade:!0,bubbles:!0}),e.ready=this.publish(EV_INPUTCHART_READY,{queueable:!1,emitFacede:!0,bubbles:!0}),t||(e.reset=this.publish(EV_INPUTCHART_RESET,{defaultFn:this._defonReset,queuable:!1,emitFacade:!0,bubbles:!0}))},_bindEvents:function(){var e=this._overlay,t=this.get("chart"),n=this._handles,r=this.get("disableSelectionClear");this.onceAfter("init",this._afterInit,this),n.drawEnd=e.on("draw:end",this._onDraworMoveEnd,this),n.moveEnd=e.on("move:end",this._onDraworMoveEnd,this),n.drawReset=e.on("draw:reset",function(e){if(r){e.preventDefault();return}this.fire("inputChart:reset")},this),n.mouseClick=t.on("click",this._onMouseClick,this),n.minOverlayHeightChange=this.after("minOverlayHeightChange",Y.rbind(this._afterOverlayAttributeChange,this,"minHeight")),n.minOverlayWidthChange=this.after("minOverlayWidthChange",Y.rbind(this._afterOverlayAttributeChange,this,"minWidth")),n.overlayBGChange=this.after("overlayBackgroundColorChange",Y.rbind(this._afterOverlayAttributeChange,this,"backgroundColor")),n.overlayBorderChange=this.after("overlayBorderColorChange",Y.rbind(this._afterOverlayAttributeChange,this,"borderColor")),n.overlayOpacityChange=this.after("overlayOpacityChange",Y.rbind(this._afterOverlayAttributeChange,this,"opacity")),n.chartResizeStart=t.on("resize:start",this._onChartResizeStart,this),n.chartResizeEnd=t.on("resize:end",this._onChartResizeEnd,this)},_clearHandles:function(){Y.each(this._handles,function(e){e&&(e.detach(),e=null)})},_removeCustomEvents:function(){Y.each(this._customEvents,function(e){e&&(e.detachAll(),e=null)})},_parseHTMLConfig:function(){var e=this.get("configNode"),t=this._mapNode,n=this._parseServerValue,r=NUMERIC,i=NUMERIC,s,o;this._set("chartOrientation",e.getAttribute("data-chartOrientation")),this._set("chartType",t.getAttribute("data-chartType")),this._set("chart3D",t.getAttribute("data-chart3D")),this.set("overlayBackgroundColor",e.getAttribute("data-overlayBgColor")),this.set("overlayBorderColor",e.getAttribute("data-overlayBorderColor")),this.set("overlayOpacity",e.getAttribute("data-overlayOpacity")),this.set("disableSelectionClear",e.getAttribute("data-disableselectionclear")),this._submitAction=e.getAttribute("data-submitAction"),this._clearAction=e.getAttribute("data-clearAction"),o=t.getAttribute("data-margins").split(","),o?(o[0]=parseInt(o[0],10),o[1]=parseInt(o[1],10)):o=[0,0],this._set("dataMargins",o),s=t.getAttribute("data-plotAttributes").split(","),s.length===10&&(r=s[8].toLowerCase(),i=s[9].toLowerCase()),this.set("xAxisValueType",r),this.set("yAxisValueType",i),r=this.get("xAxisValueType"),i=this.get("yAxisValueType"),this._set("plotAttributes",{x:parseInt(s[0],10),y:parseInt(s[1],10),width:parseInt(s[2],10),height:parseInt(s[3],10),minXAxisValue:n(s[4],r),maxXAxisValue:n(s[5],r),minYAxisValue:n(s[6],i),maxYAxisValue:n(s[7],i),xAxisValueType:r,yAxisValueType:i}),t&&t.setAttribute("data-inputChartProcessed",!0)},_parseServerValue:function(e,t){var n;return t===NUMERIC?n=parseFloat(e,10):t===TIME?(e.lastIndexOf("Z")!==e.length-1&&(e+="Z"),n=Date.parse(e)):n=undefined,isNaN(n)&&(n=undefined),n},_afterInit:function(){this.fire(EV_INPUTCHART_READY)},_onMouseClick:function(e){var t=this._overlay.get(BOUNDING_BOX),n={left:e.pageX,top:e.pageY,right:e.pageX,bottom:e.pageY},r=Y.DOM.inRegion(null,t.getDOMNode(),!0,n);r||this._overlay.reset()},_onDraworMoveEnd:function(e){e.type==="draw:end"&&this.set("overlayPresent",!0),this.fire(EV_INPUTCHART_RUN_ACTION)},_onChartResizeStart:function(){this._overlay.hide()},_onChartResizeEnd:function(){Y.LogiXML.Form.reinitializeInputChartAfterResize(this.get("chart"),this)},_defonReset:function(){var clearAction=this._clearAction,overlayPresent=this.get("overlayPresent");this.set("overlayPresent",!1),overlayPresent&&LogiXML.String.isNotBlank(clearAction)&&eval(this._clearAction)},_afterOverlayAttributeChange:function(e,t){this._overlay.set(t,e.newVal)}},{NAME:"inputChart",CSS_PREFIX:"inputChart",ATTRS:{chart:{setter:Y.one,validator:function(e){var t=Y.one(e);return t instanceof Y.Node&&t.get("tagName")==="IMG"}},chartOrientation:{value:ORIENTATION_VERTICAL,setter:function(e){return e.toLowerCase()},validator:function(e){return Lang.isString(e)?(e=e.toLowerCase(),e===ORIENTATION_VERTICAL||e===ORIENTATION_HORIZONTAL):!1},readOnly:!0},chartType:{readOnly:!0},chart3D:{value:!1,setter:booleanSetter,validator:booleanValidator,readOnly:!0},configNode:{setter:Y.one},constrain:{readOnly:!0},disableSelectionClear:{value:!1,setter:booleanSetter,validator:booleanValidator},minOverlayHeight:{value:10,validator:function(e){return Lang.isNumber(e)&&e>0}},minOverlayWidth:{value:10,validator:function(e){return Lang.isNumber(e)&&e>0}},overlayBackgroundColor:{validator:Lang.isString},overlayBorderColor:{validator:Lang.isString},overlayOpacity:{value:.5,validator:LogiXML.opacityValidator},overlayPresent:{value:!1},plotAttributes:{readOnly:!0},xAxisValueType:{value:NUMERIC,setter:toLowerCase,validator:axisTypeValidator},yAxisValueType:{value:NUMERIC,setter:toLowerCase,validator:axisTypeValidator}}})},"1.0.0",{requires:["node","base","dom-screen","drawable-overlay","image-utils","node-custom-destroy"]});

/* 
* rdYui/inputchart-xy.js 
*/
// JSLint options:
/*jslint evil: true*//*global LogiXML, YUI, document, window*/YUI.add("inputchart-xy",function(Y){var Lang=Y.Lang,DOM=Y.DOM,LogiMath=LogiXML.Math,CHART_LINE="line",CHART_SPLINE="spline",CHART_SCATTER="scatter",BOUNDING_BOX="boundingBox",TIME="time",NUMERIC="numeric",OFFSET_WIDTH="offsetWidth",OFFSET_HEIGHT="offsetHeight",ResizableOverlay=Y.Base.create("resizableOverlay",Y.LogiXML.DrawableOverlay,[Y.LogiXML.DrawableOverlayResize,Y.LogiXML.DrawableOverlaySizeConstrain],null,{CSS_PREFIX:"drawableoverlay"}),setInvisibleNodeDimensions=function(e,t,n){e.set(OFFSET_WIDTH,t);var r=e.get(OFFSET_WIDTH),i,s,o,u={display:""};r===0?(i=Y.Node.create('<div style="display: none;"></div>'),s=e.get("parentNode"),o=Y.one("body"),u.position=e.getComputedStyle("position"),u.left=e.getComputedStyle("left"),u.top=e.getComputedStyle("top"),s.replaceChild(i,e),e.setStyles({display:"",position:"fixed",left:"9999px",top:"0px"}),o.append(e),e.set(OFFSET_WIDTH,t),e.set(OFFSET_HEIGHT,n),o.removeChild(e),e.setStyles(u),s.replaceChild(e,i),i.destroy()):e.set(OFFSET_HEIGHT,n)},InputChartXY=function(){InputChartXY.superclass.constructor.apply(this,arguments)};Y.namespace("LogiXML.Form").InputChartXY=InputChartXY,Y.extend(InputChartXY,Y.LogiXML.Form.InputChart,{initializer:function(e){this._plotToDataRatio={},this._parseHTMLConfig_XY(),this._calculatePlotRatio();var t=this.get("constrain");!Lang.isValue(this.get("minX"))&&!Lang.isValue(this.get("maxX"))&&this.set("minOverlayWidth",t.get("offsetWidth")),!Lang.isValue(this.get("minY"))&&!Lang.isValue(this.get("maxY"))&&this.set("minOverlayHeight",t.get("offsetHeight")),this.on("inputChart:reset",this._clearInputValues,this),this.on("inputChart:runAction",this._onRunAction,this),this._drawOverlayFromDOM()},_createOverlay:function(){var e=this.get("configNode"),t=this._getOverlayConfig(),n;return t=Y.merge({resizeConfig:this._determineResizeSettings(e)},t),n=new ResizableOverlay(t),n.render(),n},_determineResizeSettings:function(e){var t=Y.one("#"+e.getAttribute("data-minXaxisID")),n=Y.one("#"+e.getAttribute("data-maxXaxisID")),r=Y.one("#"+e.getAttribute("data-minYaxisID")),i=Y.one("#"+e.getAttribute("data-maxYaxisID")),s=null;return!Lang.isValue(t)&&!Lang.isValue(n)&&(s={handles:["t","b"]}),!Lang.isValue(r)&&!Lang.isValue(i)&&(s={handles:["l","r"]}),s},_parseHTMLConfig_XY:function(){var e=this.get("configNode"),t=this.get("plotAttributes"),n=LogiMath.getSignificantDigits,r,i,s,o;this.set("minX","#"+e.getAttribute("data-minXaxisID")),this.set("maxX","#"+e.getAttribute("data-maxXaxisID")),this.set("minY","#"+e.getAttribute("data-minYaxisID")),this.set("maxY","#"+e.getAttribute("data-maxYaxisID")),this.set("fullSelectionOnRender",e.getAttribute("data-fullSelectionOnRender")),this.get("xAxisValueType")===NUMERIC&&(r=n(t.minXAxisValue),i=n(t.maxXAxisValue),this.set("xAxisSignificantDigits",r>i?r:i)),this.get("yAxisValueType")===NUMERIC&&(s=n(t.minYAxisValue),o=n(t.maxYAxisValue),this.set("yAxisSignificantDigits",s>o?s:o))},_calculatePlotRatio:function(){var e=this.get("plotAttributes"),t=this.get("dataMargins"),n=Math.abs(e.maxXAxisValue-e.minXAxisValue),r=Math.abs(e.maxYAxisValue-e.minYAxisValue);this._plotToDataRatio.x=n/(e.width-t[0]),this._plotToDataRatio.y=r/(e.height-t[1])},_drawOverlayFromDOM:function(){var e=this.get("minX"),t=this.get("maxX"),n=this.get("minY"),r=this.get("maxY"),i=this._overlay.get(BOUNDING_BOX),s=this.get("plotAttributes"),o=this._plotToDataRatio,u=this.get("minOverlayHeight"),a=this.get("minOverlayWidth"),f=this.get("xAxisValueType"),l=this.get("yAxisValueType"),c=this.get("fullSelectionOnRender"),h,p,d,v;e=e?this._parseInputValue(e,f):null,t=t?this._parseInputValue(t,f):null,n=n?this._parseInputValue(n,l):null,r=r?this._parseInputValue(r,l):null,c&&(n=s.minYAxisValue,r=s.maxYAxisValue,e=s.minXAxisValue,t=s.maxXAxisValue);if(!(e||t||n||r))return;if(Lang.isNumber(n)&&Lang.isNumber(r))n=n>=s.minYAxisValue?n:s.minYAxisValue,r=r<=s.maxYAxisValue?r:s.maxYAxisValue,n=(n-s.minYAxisValue)/o.y,r=(r-s.minYAxisValue)/o.y;else{if(n!==null||r!==null)return;n=0,r=s.height}if(Lang.isNumber(e)&&Lang.isNumber(t))e=e>=s.minXAxisValue?e:s.minXAxisValue,t=t<=s.maxXAxisValue?t:s.maxXAxisValue,e=(e-s.minXAxisValue)/o.x,t=(t-s.minXAxisValue)/o.x;else{if(e!==null||t!==null)return;e=0,t=s.width}h=Math.round(t-e),p=Math.round(r-n),d=Math.round(s.x+e),v=Math.round(s.y+n);if(h<a||p<u)return;setInvisibleNodeDimensions(i,h,p),i.setStyles({left:d+"px",bottom:v+"px",top:"",right:""}),this.set("overlayPresent",!0),this._overlay.show()},_parseInputValue:function(e,t){if(e instanceof Y.Node){var n=e.get("value"),r=this._parseServerValue(n,t);return Y.Lang.isValue(r)||(r=null),r}return null},_onRunAction:function(){var submitAction=this._submitAction,plotToDataRatio=this._plotToDataRatio,plotAttributes=this.get("plotAttributes"),dataMargins=this.get("dataMargins"),minXValue=0,minYValue=0,maxXValue=0,maxYValue=0,overlayNode=this._overlay.get(BOUNDING_BOX),constrainRegion=this._getConstrainRegion(),overlayRegion=DOM.region(overlayNode.getDOMNode()),intersection=Y.DOM.intersect(null,overlayRegion,constrainRegion),roundToSignificantDigit=LogiMath.roundToSignificantDigit,xAxisSigDigits,yAxisSigDigits;intersection.inRegion===!0&&(minXValue=plotToDataRatio.x*(intersection.left-constrainRegion.left-dataMargins[0])+plotAttributes.minXAxisValue,minYValue=plotToDataRatio.y*(constrainRegion.bottom-intersection.bottom-dataMargins[1])+plotAttributes.minYAxisValue,maxXValue=plotToDataRatio.x*(intersection.right-constrainRegion.left-dataMargins[0])+plotAttributes.minXAxisValue,maxYValue=plotToDataRatio.y*(constrainRegion.bottom-intersection.top-dataMargins[1])+plotAttributes.minYAxisValue),this.get("xAxisValueType")===TIME?(minXValue=(new Date(minXValue)).toISOString(),minXValue=minXValue.substring(0,minXValue.length-1),maxXValue=(new Date(maxXValue)).toISOString(),maxXValue=maxXValue.substring(0,maxXValue.length-1)):(xAxisSigDigits=this.get("xAxisSignificantDigits"),minXValue=roundToSignificantDigit(minXValue,xAxisSigDigits),maxXValue=roundToSignificantDigit(maxXValue,xAxisSigDigits)),this.get("yAxisValueType")===TIME?(minYValue=(new Date(minYValue)).toISOString(),maxYValue=(new Date(maxYValue)).toISOString()):(yAxisSigDigits=this.get("yAxisSignificantDigits"),minYValue=roundToSignificantDigit(minYValue,yAxisSigDigits),maxYValue=roundToSignificantDigit(maxYValue,yAxisSigDigits)),this._setInputValues([minXValue,minYValue,maxXValue,maxYValue]),LogiXML.String.isNotBlank(submitAction)&&eval(submitAction)},_setInputValues:function(e){var t=this.get("minX"),n=this.get("maxX"),r=this.get("minY"),i=this.get("maxY");t&&t.set("value",e[0]),r&&r.set("value",e[1]),n&&n.set("value",e[2]),i&&i.set("value",e[3])},_clearInputValues:function(){this._setInputValues([0,0,0,0])},_getConstrainRegion:function(){return DOM.region(this.get("constrain").getDOMNode())}},{NAME:"inputChartXY",SUPPORTED_CHART_TYPES:[CHART_SCATTER,CHART_LINE,CHART_SPLINE],ATTRS:{minX:{value:null,setter:Y.one},maxX:{value:null,setter:Y.one},minY:{value:null,setter:Y.one},maxY:{value:null,setter:Y.one},minimumSignificantDigit:{value:4,validator:function(e){return Lang.isNumber(e)&&e>0}},fullSelectionOnRender:{value:!1,setter:function(e){return Lang.isBoolean(e)?e:(e=e.toLowerCase(),e==="true"?!0:!1)},validator:function(e){return Lang.isString(e)||Lang.isBoolean(e)}},xAxisSignificantDigits:{valueFn:function(){return this.get("minimumSignificantDigit")},validator:function(e){return Lang.isNumber(e)&&e>=this.get("minimumSignificantDigit")}},yAxisSignificantDigits:{valueFn:function(){return this.get("minimumSignificantDigit")},validator:function(e){return Lang.isNumber(e)&&e>=this.get("minimumSignificantDigit")}}}})},"1.0.0",{requires:["inputchart-base","drawable-overlay-resize","drawable-overlay-size-constrain"]});

/* 
* rdYui/io-upload-iframe.js 
*/
YUI.add("io-upload-iframe",function(e){function s(t,n,r){var i=e.Node.create('<iframe src="#" id="io_iframe'+t.id+'" name="io_iframe'+t.id+'" />');i._node.style.position="absolute",i._node.style.top="-1000px",i._node.style.left="-1000px",e.one("body").appendChild(i),e.on("load",function(){r._uploadComplete(t,n)},"#io_iframe"+t.id)}function o(t){e.Event.purgeElement("#io_iframe"+t,!1),e.one("body").removeChild(e.one("#io_iframe"+t))}var t=e.config.win,n=e.config.doc,r=n.documentMode&&n.documentMode>=8,i=decodeURIComponent;e.mix(e.IO.prototype,{_addData:function(t,r){e.Lang.isObject(r)&&(r=e.QueryString.stringify(r));var s=[],o=r.split("="),u,a;for(u=0,a=o.length-1;u<a;u++)s[u]=n.createElement("input"),s[u].type="hidden",s[u].name=i(o[u].substring(o[u].lastIndexOf("&")+1)),s[u].value=u+1===a?i(o[u+1]):i(o[u+1].substring(0,o[u+1].lastIndexOf("&"))),t.appendChild(s[u]);return s},_removeData:function(e,t){var n,r;for(n=0,r=t.length;n<r;n++)e.removeChild(t[n])},_setAttrs:function(t,n,i){t.setAttribute("action",i),t.setAttribute("method","POST"),t.setAttribute("target","io_iframe"+n),t.setAttribute(e.UA.ie&&!r?"encoding":"enctype","multipart/form-data")},_resetAttrs:function(t,n){e.Object.each(n,function(e,n){e?t.setAttribute(n,e):t.removeAttribute(n)})},_startUploadTimeout:function(e,n){var r=this;r._timeout[e.id]=t.setTimeout(function(){e.status=0,e.statusText="timeout",r.complete(e,n),r.end(e,n)},n.timeout)},_clearUploadTimeout:function(e){var n=this;t.clearTimeout(n._timeout[e]),delete n._timeout[e]},_uploadComplete:function(n,r){var i=this,s=e.one("#io_iframe"+n.id).get("contentWindow.document"),u=s.one("body"),a;r.timeout&&i._clearUploadTimeout(n.id);try{n.c.responseText=(new XMLSerializer).serializeToString(s._node),n.c.responseXML=s._node,e.log("The response for transaction "+n.id+" is an XML document.","info","io")}catch(f){n.e="upload failure"}i.complete(n,r),i.end(n,r),t.setTimeout(function(){o(n.id)},0)},_upload:function(t,r,i){var s=this,u=typeof i.form.id=="string"?n.getElementById(i.form.id):i.form.id,a={action:u.getAttribute("action"),target:u.getAttribute("target")},f;return s._setAttrs(u,t.id,r),i.data&&(f=s._addData(u,i.data)),i.timeout&&s._startUploadTimeout(t,i),u.submit(),s.start(t,i),i.data&&s._removeData(u,f),s._resetAttrs(u,a),{id:t.id,abort:function(){t.status=0,t.statusText="abort";if(!e.one("#io_iframe"+t.id))return!1;o(t.id),s.complete(t,i),s.end(t,i)},isInProgress:function(){return e.one("#io_iframe"+t.id)?!0:!1},io:s}},upload:function(e,t,n){return s(e,n,this),this._upload(e,t,n)}})},"@VERSION@",{requires:["io-base","node-base"]});

/* 
* rdYui/node-custom-destroy.js 
*/
// JSLint options:
/*global LogiXML, YUI, document, window */YUI.add("node-custom-destroy",function(e){var t=[],n=e.Node.prototype.destroy;e.namespace("LogiXML.Node").destroyClassKeys=t;var r=function(){};r.prototype={destroy:function(){this.getData&&e.each(t,function(e){var t=this.getDOMNode()?this.getData(e):!1;t&&typeof t.destroy=="function"&&t.destroy()},this),n.apply(this,arguments)}},e.mix(e.Node,r,!0,null,1)},"1.0.0",{requires:["node"]});

/* 
* rdYui/rdDualSlider.js 
*/
//Inherit and extend slider to add dual slider
YUI.add("dualslider",function(e){function s(){s.superclass.constructor.apply(this,arguments)}var t="value",n="value2",r="thumbSeparation",i="thumbsFlipped";e.DualSlider=e.extend(s,e.rdSlider,{renderThumb2:function(){return this.renderThumb()},renderUI:function(){var e=this.get("contentBox");this.rail=this.renderRail(),this._uiSetRailLength(this.get("length")),this.thumb=this.renderThumb(),this.rail.appendChild(this.thumb),this.thumb2=this.renderThumb2(),this.rail.appendChild(this.thumb2),e.appendChild(this.rail),e.addClass(this.getClassName(this.axis))},_bindThumbDD:function(){var t={constrain:this.rail};t["stick"+this.axis.toUpperCase()]=!0,this._dd=new e.DD.Drag({node:this.thumb,bubble:!1,on:{"drag:start":e.bind(this._onDragStart,this)},after:{"drag:drag":e.bind(this._afterDrag,this),"drag:end":e.bind(this._afterDragEnd,this)}}),this._dd2=new e.DD.Drag({node:this.thumb2,bubble:!1,on:{"drag:start":e.bind(this._onDragStart,this)},after:{"drag:drag":e.bind(this._afterDrag,this),"drag:end":e.bind(this._afterDragEnd,this)}}),this._dd.plug(e.Plugin.DDConstrained,t),this._dd2.plug(e.Plugin.DDConstrained,t)},_bindValueLogic:function(){this.after({minChange:this._afterMinChange,maxChange:this._afterMaxChange,valueChange:this._afterValueChange,value2Change:this._afterValue2Change})},_afterValue2Change:function(e){if(!e.positioned){var t=this._valueToOffset(e.newVal);e.newVal<this.getValue()&&this.set(i,!0),this._uiMoveThumb2(t)}},_defThumbMoveFn:function(e){var s,o,u,a,f,l=this.get(i),c=null,h,p=!1,d=!1;switch(this.axis){case"x":u=this.rail.getX(),a=this.thumb.getX(),f=this.thumb2.getX();break;case"y":u=this.rail.getY(),a=this.thumb.getY(),f=this.thumb2.getY()}if(this.get(r)>=0){h=this.get(r);var v=this.get("max")-this.get("min"),m=parseInt(this.get("length")),g=parseInt(this.thumb.getStyle(this._key.dim)),y=Math.abs(h/v);y>this._factor||this.get("tickCount")?h=(m-g)*y:h*=(m-g)/v}else h=0;u+e.offset>=a-h&&u+e.offset<=a+h&&(p=!0),u+e.offset>=f-h&&u+e.offset<=f+h&&(d=!0),!l&&a>=f-h?c=-h:l&&a<=f+h&&(c=h);if(c==null&&p)s=this.getValue(),o=this._offsetToValue(e.offset),s!==o&&this.set(t,o,{positioned:!0});else if(c==null&&d)s=this.getValue2(),o=this._offsetToValue(e.offset),s!==o&&this.set(n,o,{positioned:!0});else if(e.ddEvent)switch(e.ddEvent.target){case this._dd:if(c!==null){switch(this.axis){case"x":this.thumb.setX(f+c);break;case"y":this.thumb.setY(f+c)}e.halt()}break;case this._dd2:if(c!==null){c=Math.abs(c);switch(this.axis){case"x":this.thumb2.setX(a+c);break;case"y":this.thumb2.setY(a+c)}e.halt()}}},getValue2:function(){return this.get(n)},setValue2:function(e){return this.set(n,e)},_setThumbSeparation:function(e){return e<=0?0:e},syncUI:function(){this._dd.con.resetCache(),this._syncThumbPosition(),this._syncThumbPosition2()},_syncThumbPosition2:function(){this._calculateFactor();var e=this._valueToOffset(this.get(n));this._uiMoveThumb2(e)},_uiMoveThumb2:function(e){this.thumb2&&(this.thumb2.setStyle(this._key.minEdge,e+"px"),this.fire("thumbMove",{offset:e}))},_defRailMouseDownFn:function(e){e=e.ev;var t=this._resolveThumb(e),n=this._key.xyIndex,r=parseFloat(this.get("length"),10),i,s,o;if(t){i=t.get("dragNode"),s=parseFloat(i.getStyle(this._key.dim),10),o=this._getThumbDestination(e,i),o=o[n]-this.rail.getXY()[n],o=Math.min(Math.max(o,0),r-s);var u;this._dd==t?(this._uiMoveThumb(o),u=this.thumb.one("img")||this.thumb):(this._uiMoveThumb2(o),u=this.thumb2.one("img")||this.thumb2),e.target=u,t._handleMouseDownEvent(e)}},_resolveThumb:function(e){var t,n,r;switch(this.axis){case"x":t=e.clientX,n=this.thumb.getX(),r=this.thumb2.getX();break;case"y":t=e.clientY,n=this.thumb.getY(),r=this.thumb2.getY()}var s=Math.abs(t-n),o=Math.abs(t-r);return s<o?this._dd:o<s?this._dd2:this.get(i)?t<r?this._dd2:this._dd:t<n?this._dd:this._dd2}},{NAME:"DualSlider",ATTRS:{value2:{value:0,setter:"_setNewValue"},thumbSeparation:{value:0,setter:"_setThumbSeparation"},thumbsFlipped:{value:0}}})},"0.0.0",{requires:["widget","substitute","dd-constrain"]});

/* 
* rdYui/rdPopupMenu.js 
*/
YUI.add("popupmenu",function(e){var t=e.YUI2,n;e.namespace("LogiXML").PopupMenu=e.Base.create("popupmenu",e.Base,[],{initializer:function(){this.initializePopupMenus(),LogiXML.Ajax.AjaxTarget().on("reinitialize",e.bind(this.initializePopupMenus,this))},initializePopupMenus:function(){var t=e.all(".rdPopupMenuActivate");t.each(function(t){t.removeClass("rdPopupMenuActivate");var n="click";e.Lang.isValue(t.getData("dhtmlevent"))&&(n=t.getData("dhtmlevent")),t.setData("ppObject",this),t.on(n,e.bind(this.rdShowPopupMenu,this,t.get("id"),t.getData("popuplocation")));var r=t.get("id"),i;r.indexOf("_CtCol")!=-1?i=r.replace("_CtCol","_rdPopup_CtCol"):r.indexOf("_Row")!=-1?i=r.replace("_Row","_rdPopup_Row"):i=r+"_rdPopup";var s=e.one("#"+i);s&&(s.setStyle("left","-9999.33"),s.setStyle("top","-10000"))},this)},rdShowPopupMenu:function(n,r){e.Lang.isValue(this._menu)&&(this._menu.hide(this._menu),t.widget.MenuManager.removeMenu(this._menu));var i;n.indexOf("_CtCol")!=-1?i=n.replace("_CtCol","_rdPopup_CtCol"):n.indexOf("_Row")!=-1?i=n.replace("_Row","_rdPopup_Row"):i=n+"_rdPopup";var s=e.one("#"+i);s||(s=e.one(document.getElementById(i)));if(!s){s=document.getElementById(n),s&&(s=s.getElementsByClassName("rdPopupMenu"),s.length?s=s[0]:s=null);if(!s)throw"Popup with id "+i+" was not found";i=s.getAttribute("id"),s=e.one(s)}var o=s.all("UL");if(o){var u=o.get("childNodes");if(u&&u[0]){u=u[0];for(var a=0;a<u._nodes.length;a++){var f=u._nodes[a];f&&f.nodeName&&f.nodeName.toLowerCase().indexOf("rdcondelement")>=0&&(o.insertBefore(f.firstChild,f),f.parentNode.removeChild(f))}}}if(n.indexOf("ppPanelMenu")>-1){var l=document.getElementById("rdDivDashboardPanelTable"),c=document.getElementById(i);c.parentNode.id!="rdDivDashboardPanelTable"&&(c.parentNode.removeChild(c),l.appendChild(c));if(typeof rdMobileReport!="undefined"){var h="rdDashboardPanel-"+n.replace("ppPanelMenu_",""),p=document.getElementById(h),d=p.previousSibling,v=p.nextSibling.nextSibling.nextSibling;if(d.id.match("rdDashboardDropZone-0-0")){var m=c.getElementsByTagName("li");for(a=0;a<m.length;a++){var g=m[a];g.innerHTML.match("Move Up")&&(g.style.display="none")}}else{var m=c.getElementsByTagName("li");for(a=0;a<m.length;a++){var g=m[a];g.innerHTML.match("Move Up")&&(g.style.display="")}}if(!v){var m=c.getElementsByTagName("li");for(a=0;a<m.length;a++){var g=m[a];g.innerHTML.match("Move Down")&&(g.style.display="none")}}else{var m=c.getElementsByTagName("li");for(a=0;a<m.length;a++){var g=m[a];g.outerHTML.match("Move Down")&&(g.style.display="")}}}}var y="bl";r&&r.toLowerCase()=="right"&&(y="tr");var b=document.getElementById(i);for(var a=b.firstChild.firstChild.childNodes.length-1;a>-1;a--){var f=b.firstChild.firstChild.childNodes[a],w;f.textContent!=undefined?w=f.textContent:w=f.innerText,w==""&&f.parentNode.removeChild(f)}if(b.innerHTML.match("rdModalShade")&&b.innerHTML.match("rdPopupPanel"))try{var E=b.firstChild,S;if(E)while(E){if(!!E.tagName.toLowerCase().match("ul")){S=E.getElementsByTagName("li");break}E=E.firstChild}for(var a=0;a<S.length;a++)this.MovePopupPanelAsSiblingToPopupMenu(S[a],b)}catch(x){}this._menu=t.widget.MenuManager.getMenu(i),this._menu==undefined?(this._menu=new t.widget.Menu(i,{context:[n,"tl",y]}),this._menu.render(),this._menu.show(this._menu)):this._menu.show(this._menu),document.getElementById(this._menu.id).style.zIndex="9999"},MovePopupPanelAsSiblingToPopupMenu:function(e,t){if(e.innerHTML.match("rdModalShade")&&e.innerHTML.match("rdPopupPanel")){var n=e.getElementsByTagName("div");for(var r=0;r<n.length;r++)n[r]&&n[r].id&&(n[r].id.toLowerCase().match("rdmodalshade")||n[r].id.toLowerCase().match("ppaddbookmarks")||n[r].id.toLowerCase().match("ppeditbookmarks"))&&(t.parentNode.appendChild(n[r]),r-=1)}}},{NAME:"popupmenu",ATTRS:{}})},"1.0.0",{requires:["base","yui2-menu"]});

/* 
* rdYui/rdQuicktip.js 
*/
// JSLint options:
/*global LogiXML, YUI, document, window*/YUI.add("quicktip",function(e){var t=e.Lang,n=LogiXML.String,r="&quot;",i="header",s="body",o="quicktip-pointer",u='<div class="'+i+'"></div>',a='<div class="'+s+'"></div>',f='<div class="'+o+'"><div class="quicktip-pointer-inner"></div></div>',l="boundingBox",c="contentBox",h="data-tiptitle",p="data-tipdescription",d="data-tipjson",v="data-tipjsonvar",m="tt-json";e.namespace("LogiXML").rdQuicktip=e.Base.create("rdQuicktip",e.Widget,[e.WidgetPosition,e.WidgetPositionConstrain],{initializer:function(e){this._trigger={node:null,titleText:null,renderPointer:null,fixedElementSelector:null},this._eventHandles={delegate:null,trigger:{mouseMove:null,mouseOut:null}},this._timers={show:null,hide:null},this._emptyTooltip=!0},destructor:function(){this._clearTriggerNode(),this._clearTimers(),this._clearHandles()},renderUI:function(){var e=this.get(c),t=this.get("additionalClassName");t&&this.get(l).addClass(t),e.append(u),e.append(a),e.append(f)},syncUI:function(){},bindUI:function(){this.after("delegateChange",this._afterSetDelegate),this._bindDelegate()},_afterSetDelegate:function(e){this._bindDelegate(e.newVal)},positionTooltip:function(e){var t=e.currentTarget,n={x:t.get("winWidth"),y:t.get("winHeight")},r={x:t.get("docScrollX"),y:t.get("docScrollY")},i=this.get(l),s=i.one("."+o),u={x:i.get("offsetWidth"),y:i.get("offsetHeight")},a=this.get("Offset_X"),f=this.get("Offset_Y"),c=this._getFixedtoElementPosition()||{x:e.pageX,y:e.pageY},h={};h.x=c.x+a,h.y=c.y+f,h.x+u.x-r.x>n.x?(h.x=c.x-a-u.x,s.addClass("right"),s.removeClass("left")):(s.addClass("left"),s.removeClass("right")),h.y+u.y-r.y>n.y?(h.y=c.y-f-u.y,s.addClass("bottom"),s.removeClass("top")):(s.addClass("top"),s.removeClass("bottom")),this.move(h.x,h.y)},setTooltipContent:function(e){var t=this.get(c),r=t.one("."+i),u=t.one("."+s),a=t.one("."+o),f=e.getAttribute(h),l=e.getAttribute(p),d,v,m="",g=!n.isNotBlank(f),y=!n.isNotBlank(l),b;y||(m=m+"<p>"+l+"</p>"),d=this.getAvailableJSONData(e),d!==null?(d.list?v=this.buildList(d):d.table?v=this.buildTable(d):b=!0,v?m+=v:b=!0):b=!0;if(g&&y&&b){this._emptyTooltip=!0;return}this._emptyTooltip=!1,r.empty(),g?r.hide():(r.set("innerHTML",f),r.show()),u.empty(),u.append(m),this._getPointerVisibility()?a.show():a.hide()},getAvailableJSONData:function(i){var s,o,u,a;return s=i.getAttribute(d),s&&n.isNotBlank(s)?(s=s.replace(r,'"'),a=e.JSON.parse(s),i.setData(m,a),i.removeAttribute(d),a):(u=i.getData(m),u!==undefined&&u!==null?u:(o=i.getAttribute(v),o&&n.isNotBlank(o)?(s=LogiXML.guids[o],t.isString(s)?a=JSON.parse(s):a=s,i.setData(m,a),i.removeAttribute(v),a):null))},buildList:function(e){var t='<ul class="rdquicktip-list">',r,i,s,o=!0;for(s=0,i=e.list.length;s<i;s++)r=e.list[s],t=t+"<li>"+r+"</li>",o&&(o=n.isBlank(r));return o?null:t+"</ul>"},buildTable:function(e){var t='<table class="rdquicktip-table"><tbody>',r,i,s,o,u,a=!0;for(i=0,r=e.table.length;i<r;i++){t+="<tr>",u=e.table[i];if(a)for(o=0,s=u.length;o<s;o++){a=n.isBlank(u[o].text);if(!a)break}for(o=0,s=u.length;o<s;o++)u[o].color?t=t+'<td style="color: '+u[o].color+';">'+u[o].text+"</td>":t=t+"<td>"+u[o].text+"</td>";t+="</tr>"}return a?null:t+"</tbody></table>"},_showTooltip:function(){var t=this.get(l),n=this.get("autoHideDelay"),r=this.get("showTransition");this.show(),t.transition(r),this._clearTimers(),n>0&&(this._timers.hide=e.later(n,this,this._hideTooltip))},_hideTooltip:function(){var e=this.get(l),t=this,n=this.get("hideTransition");e.transition(n,function(){t.hide()})},_determinePointerVisibility:function(e){var t=e.getAttribute("data-tiprenderpointer");t===""?this._trigger.renderPointer=null:this._trigger.renderPointer=t==="false"?!1:!0},_determineFixedtoElement:function(e){var t=e.getAttribute("data-tipfixedelement");t===""?this._trigger.fixedElementSelector=null:this._trigger.fixedElementSelector=t},_getPointerVisibility:function(){var t=e.one(this._trigger.renderPointer);return t?t:this.get("renderPointer")},_getFixedtoElementPosition:function(){var t=e.one(this._trigger.fixedElementSelector),n=null;return t&&(n={x:t.getX(),y:t.getY()}),n},_isPositionFixed:function(){return this.get("fixed")||e.one(this._trigger.fixedElementSelector)?!0:!1},_bindDelegate:function(){var t=this._eventHandles;t.delegate&&(t.delegate.detach(),t.delegate=null),t.delegate=e.delegate("mouseenter",e.bind(this._onMouseEnter,this),this.get("delegate"),this.get("triggerSelector"))},_onMouseLeave:function(t){this._clearTimers(),this._clearTriggerNode(),this._timers.hide=e.later(this.get("hideDelay"),this,this._hideTooltip)},_onMouseEnter:function(t){var n=t.currentTarget,r=this._trigger.node;if(n&&(!r||!n.compareTo(r))){this.setTooltipContent(n);if(this._emptyTooltip)return;this._setTriggerNode(t),this._determinePointerVisibility(n),this._determineFixedtoElement(n),this.positionTooltip(t),this._timers.show=e.later(this.get("showDelay"),this,this._showTooltip)}},_onMouseMove:function(e){this._isPositionFixed()||this.positionTooltip(e)},_setTriggerNode:function(t){var n=this._eventHandles.trigger,r=t.currentTarget;r.get("title")&&(this._trigger._titleText=r.get("title"),r.removeAttribute("title","")),n.mouseMove=e.on("mousemove",e.bind(this._onMouseMove,this),r),n.mouseOut=e.on("mouseleave",e.bind(this._onMouseLeave,this),r),this._trigger.node=r},_clearTriggerNode:function(){var e=this._eventHandles.trigger,t=this._trigger;t._titleText&&t.node.setAttribute("title",t._titleText),t.node=null,t.renderPointer=null,t.fixedElementSelector=null,e.mouseMove&&(e.mouseMove.detach(),e.mouseMove=null),e.mouseOut&&(e.mouseOut.detach(),e.mouseOut=null)},_clearTimers:function(){var e=this._timers;e.hide&&(e.hide.cancel(),e.hide=null),e.show&&(e.show.cancel(),e.show=null)},_clearHandles:function(){var e=this._eventHandles;e.delegate&&e.delegate.detach(),e.trigger.mouseOut&&e.trigger.mouseOut.detach(),e.trigger.mouseMove&&e.trigger.mouseMove.detach()}},{NAME:"rdquicktip",CSS_PREFIX:"rdquicktip",ATTRS:{Offset_X:{value:-18},Offset_Y:{value:30},constrain:{value:!0},fixed:{value:!1},fixedElementSelector:{value:null,setter:function(t){return e.one(t)||null}},delegate:{value:null,setter:function(t){return e.one(t)||e.one("body")}},triggerSelector:{value:null,setter:function(e){return e&&t.isString(e)?e:"."+this.getClassName("trigger")}},showDelay:{value:100},hideDelay:{value:250},autoHideDelay:{value:0},renderPointer:{value:!0},visible:{value:!1},showTransition:{value:{duration:.25,opacity:{value:1,easing:"ease-in"}},validator:function(e){return e&&!t.isArray(e)&&t.isObject(e)}},hideTransition:{value:{duration:.25,opacity:{value:0,easing:"ease-in"}},validator:function(e){return e&&!t.isArray(e)&&t.isObject(e)}},additionalClassName:{value:null,setter:function(e){return e&&t.isString(e)?e:null}}}})},"1.0.0",{requires:["event","widget","widget-position","widget-position-constrain","json-parse","transition"]});

/* 
* rdYui/rdSlider.js 
*/
//Inherit and extend slider to add dual slider
YUI.add("rdslider",function(e){function n(){n.superclass.constructor.apply(this,arguments)}var t="tickCount";e.rdSlider=e.extend(n,e.Slider,{_calculateFactor:function(){var e=this.get("length"),n=this.thumb.getStyle(this._key.dim),r=this.get("min"),i=this.get("max");e=parseFloat(e)||150,n=parseFloat(n)||15,this.get(t)?this._factor=this.get(t)/(e-n):this._factor=(i-r)/(e-n)},_offsetToValue:function(e){var n=Math.round(e*this._factor);return this.get(t)&&(n*=(this.get("max")-this.get("min"))/this.get(t)),n+=this.get("min"),n=Math.round(this._nearestValue(n)),n},_valueToOffset:function(e){var n;return n=Math.round((e-this.get("min"))/this._factor),this.get(t)&&(n/=(this.get("max")-this.get("min"))/this.get(t)),n}},{NAME:"rdSlider",ATTRS:{tickCount:{value:0}}})},"0.0.0",{requires:["widget","substitute","dd-constrain"]});

/* 
* rdYui/rdTabs.js 
*/
YUI.add("tabs",function(Y){var YAHOO=Y.YUI2,CLASS_KEY="tabs";Y.LogiXML.Node.destroyClassKeys.push(CLASS_KEY),Y.namespace("LogiXML").Tabs=Y.Base.create("Tabs",Y.Base,[],{configNode:null,initializer:function(e){this.configNode=e,this.set("_id",e.id),this.set("_orientation",e.orientation),this.set("reportID",e.reportid),this.set("isMobile",e.isMobile),this.initializeTabs(),LogiXML.SubReport.initSubReports(),this.TabsTarget().fire("selectedTabChanged"),LogiXML.StartupScripts&&LogiXML.StartupScripts.tabsInit&&LogiXML.Ajax.AjaxTarget().detach("reinitialize",LogiXML.StartupScripts.tabsInit);var t=Y.LogiXML.Tabs.prototype.initializeTabs.bind(this);LogiXML.Ajax.AjaxTarget().on("reinitialize",t),LogiXML.StartupScripts&&(LogiXML.StartupScripts.tabsInit=t)},destructor:function(){_tabs.unsubscribeAll("activeTabChange")},initializeTabs:function(){var e=this.get("_id"),t="rdTabs-"+e,n=Y.one("#"+t);if(!Y.Lang.isNull(n)&&Y.Lang.isValue(n._data))return;_tabs=null,_tabs=new YAHOO.widget.TabView(t,{orientation:this.get("_orientation")});if(Y.Lang.isNull(n))return;n.setData(CLASS_KEY,this),_tabs.addListener("activeTabChange",this.rdSaveActiveTabIndex),_tabs.addListener("activeTabChange",this.rdTabsShowTabContents),_tabs.addListener("activeTabChange",this.rdTabsSetMinWidth);var r=_tabs.get("activeIndex");r||(r=0,_tabs.set("activeTab",_tabs.getTab(r),!1)),document.getElementById("rdActiveTabIndex_"+e).value=r,document.getElementById("rdActiveTabId_"+e).value=_tabs.getTab(r).get("id");var i=navigator.userAgent.match(/iPad/i)!=null,s=navigator.userAgent.match(/iPod/i)!=null,o=navigator.userAgent.match(/iPhone/i)!=null;(i||o||s)&&Y.Node.all("#rdTabs ul li").each(function(e){e.on("touchend",function(e){if(!LogiXML.Tabs[0].get("wasDragged")){var t=_tabs.get("tabs"),n=e.currentTarget.get("id"),r=0,i=t.length,s;for(;r<i;r++){s=t[r];if(n==s.get("id")){_tabs.set("activeTab",s,!1);break}}}LogiXML.Tabs[0].set("wasDragged",!1)})}),this.rdTabsSetMinWidth(),!Y.Lang.isNull(Y.one("#rdDraggableTabs"))&&this.get("_id")=="rdDashboardTabs"&&this.rdDraggableTabs()},rdDraggableTabs:function(){YUI().use("dd-constrain","dd-proxy","dd-drop",function(e){e.DD.DDM.on("drop:over",function(e){var t=e.drag.get("node"),n=e.drop.get("node");o=n,i==="right"?n.get("nextSibling")!=null?(n=n.get("nextSibling"),e.drop.get("node").get("parentNode").insertBefore(t,n)):n.get("parentNode").appendChild(t):e.drop.get("node").get("parentNode").insertBefore(t,n),e.drop.sizeShim()}),e.DD.DDM.on("drag:drag",function(e){var s=e.target.lastXY[1];s<n?t=!0:t=!1,n=s;var o=e.target.lastXY[0];o<r?i="left":o>r?i="right":o===r&&(i="left"),r=o,LogiXML.Dashboard.pageDashboard.rdPositiontabSettingsCog()}),e.DD.DDM.on("drag:start",function(e){LogiXML.Tabs[0].set("wasDragged",!0);var t=e.target;t.get("node").setStyle("opacity",".25"),t.get("dragNode").set("innerHTML",t.get("node").get("innerHTML")),t.get("dragNode").setStyles({opacity:".5",borderColor:t.get("node").getStyle("borderColor"),backgroundColor:t.get("node").getStyle("backgroundColor")})}),e.DD.DDM.on("drag:end",function(t){var n=t.target;n.get("node").setStyles({visibility:"",opacity:"1"});var r=e.Node.all("#rdTabs-rdDashboardTabs>#rdTabs ul li");r._nodes[r._nodes.length-1].getAttribute("id");var s="&rdReport="+document.getElementById("rdDashboardDefinition").value;s+="&TabID="+t.target.get("node").getAttribute("id");if(e.Lang.isNull(o))return;s+="&TargetTabID="+o.getAttribute("id"),s+="&DragDirection="+i,rdAjaxRequest("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=MoveDashboardTab"+s),LogiXML.Dashboard.pageDashboard.rdPositiontabSettingsCog()}),e.DD.DDM.on("drag:drophit",function(e){var t=e.drop.get("node"),n=e.drag.get("node");t.get("tagName").toLowerCase()!=="li"&&(t.contains(n)||t.appendChild(n))});var t=!1,n=0,r=0,i="right",s=!1,o=null,u=e.Node.all("#rdTabs-rdDashboardTabs>#rdTabs ul li");u.each(function(t,n){var r=(new e.DD.Drag({node:t,target:{padding:"0 0 0 20"}})).plug(e.Plugin.DDProxy,{moveOnEnd:!1}).plug(e.Plugin.DDConstrained,{constrain2node:"#rdTabs-rdDashboardTabs>#rdTabs"}).removeInvalid("a")});var a=e.Node.all("#rdTabs-rdDashboardTabs>#rdTabs ul li");a.each(function(t,n){var r=new e.DD.Drop({node:t})})})},rdSaveActiveTabIndex:function(e){var t=this.getTabIndex(e.newValue),n=this.get("id"),r=n.substring(n.indexOf("-")+1);document.getElementById("rdActiveTabIndex_"+r).value=t,document.getElementById("rdActiveTabId_"+r).value=e.newValue.get("id")},rdTabsShowTabContents:function(e){var tabInstance=Y.one("#"+this.get("id")).getData("tabs");if(tabInstance.get("isMobile")&&e.newValue.get("id")=="rdTabAddNewTab")return this.set("activeIndex",0),ShowElement(this.get("id"),"pnlMobileDashboardTabs","Show"),!1;var id=this.get("id"),elementID=id.substring(id.indexOf("-")+1);Y.Lang.isValue(Y.rdSlider)&&rdShowHiddenInputSliders(document.getElementById(elementID));var activeTab=this.get("activeTab"),sActiveTabId=activeTab.get("id"),breflowCharts=!0,waitCfg=["","",""],eleActiveTab=document.getElementById("rdTabPanel_"+sActiveTabId);if(eleActiveTab.innerHTML.indexOf("SubmitForm(")==0){var sRefreshPageFunction=eleActiveTab.innerHTML;sRefreshPageFunction=sRefreshPageFunction.replace("&amp;rdRequestForwarding","&rdRequestForwarding"),breflowCharts=!1,eleActiveTab.innerHTML="",rdShowWaitPanel(waitCfg),eval(sRefreshPageFunction);return}var eleTabs=eleActiveTab.parentNode;eleTabs.parentNode!=null&&eleTabs.parentNode.getAttribute("sTabbingStyle")=="Ajax"&&eleActiveTab.innerHTML.length==0&&rdAjaxRequestWithFormVars("rdAjaxCommand=RefreshElement&rdRefreshTabPanel=True&rdCurrTabId="+sActiveTabId+"&rdRefreshElementID=rdTabPanel_"+sActiveTabId+","+sActiveTabId+"&rdReport="+tabInstance.get("reportID"),!1,"",!1,null,null,waitCfg),eleTabs.parentNode.id=="rdTabs-rdDashboardTabs"&&(breflowCharts=!1);for(var i=0;i<eleTabs.childNodes.length;i++)eleTabs.childNodes[i].id==eleActiveTab.id?eleTabs.childNodes[i].style.display="":eleTabs.childNodes[i].style.display="none";LogiXML.SubReport.initSubReports(),tabInstance.TabsTarget().fire("selectedTabChanged");var eleTabBody=Y.one("#"+eleActiveTab.id);if(breflowCharts==1){var listCharts=eleTabBody.all(".rdChartCanvas");for(var i=0;i<listCharts.size();i++){var eleChart=listCharts.item(i),chartcanvasObject=eleChart.getData("rdChartCanvas");chartcanvasObject&&chartcanvasObject.chart.reflow()}}var listGoogMaps=eleTabBody.all(".rdGoogleMap");for(var i=0;i<listGoogMaps.size();i++){var eleGMap=listGoogMaps.item(i).getAttribute("id");rdGmapLoad(eleGMap)}},TabsTarget:function(){return Y.LogiXML.Tabs._tabTarget===undefined&&(Y.LogiXML.Tabs._tabTarget=new Y.EventTarget),Y.LogiXML.Tabs._tabTarget},rdTabsSetMinWidth:function(){var e=_tabs.get("activeTab"),t=e.get("id"),n=0,r=Y.one("#"+t),i=parseInt(r.getStyle("marginRight"));n+=r.get("offsetWidth")+i,r.siblings().each(function(){n+=this.get("offsetWidth")+i});var s=Y.one("#rdTabMinWidth_"+t);Y.Lang.isValue(s)&&s.setStyles({width:n+"px",display:"block"})}},{NAME:"tabs",ATTRS:{_id:{},_tabs:{},_orientation:{},reportID:{},isMobile:{},wasDragged:{}}})},"1.0.0",{requires:["base","node-custom-destroy","yui2-tabview"]});

/* 
* rdYui/responsive-column-resizer.js 
*/
YUI.add("responsiveColumnResizer",function(e){var t=e.Lang,n="rdResponsiveColumnResizer";LogiXML.Ajax.AjaxTarget&&LogiXML.Ajax.AjaxTarget().on("reinitialize",function(){e.LogiXML.ResponsiveColumnResizer.createElements(!0)}),e.LogiXML.Node.destroyClassKeys.push(n),e.namespace("LogiXML").ResponsiveColumnResizer=e.Base.create("ResponsiveColumnResizer",e.Base,[],{_handlers:{},configNode:null,id:null,resizerClass:null,resizerHandlerClass:null,endResizeAction:null,columns:[],spanSize:0,initializer:function(t){var r=this;this._parseHTMLConfig(),this.configNode.setData(n,this),this._handlers.windowResize=e.on("windowresize",function(){r.calculate()}),this.subscribeToDroppableEvents(),this.calculate()},subscribeToDroppableEvents:function(){},calculate:function(){var e=this.configNode.get("children"),t=e.size(),n=0,r=[],i={};this.clearResizers(),this.columns=[],this.spanSize=0,e.each(function(e){i={},i.column=e,i.offsetWidth=e.get("offsetWidth"),i.offsetHeight=e.get("offsetHeight"),i.actualSpan=this.getColspanByWidth(e),this.spanSize=this.spanSize==0?Math.round(i.offsetWidth/i.actualSpan):Math.round((this.spanSize+i.offsetWidth/i.actualSpan)/2),i.xy=e.getXY(),this.columns.push(i)},this),this.createResizers()},createResizers:function(){var t=0,n=this.columns.length,r,i,s,o,u;for(;t<n-1;t++){r=this.columns[t],u=r.actualSpan,o=this.columns[t+1];if(o.actualSpan>1)u+=o.actualSpan-1;else if(r.actualSpan==1)continue;r.resizeOuterWrapper=e.Node.create("<div class='column-resizer-outer-wrapper'></div>"),r.column.prepend(r.resizeOuterWrapper),r.resizeInnerWrapper=e.Node.create("<div class='column-resizer-inner-wrapper'></div>"),r.resizeOuterWrapper.prepend(r.resizeInnerWrapper),r.resize=new e.Resize({node:r.resizeInnerWrapper,wrap:!1,handles:"r"}),r.resizeConstrained=r.resize.plug(e.Plugin.ResizeConstrained,{tickX:this.spanSize,minWidth:this.spanSize,maxWidth:u*this.spanSize}),r._handlers={},s=r.column.getAttribute("id"),r._handlers.resizeEnd=r.resize.on("resize:end",function(e){this.columnResized(e)},this)}},columnResized:function(e,t){var n=this.getColspanByPixelSize(this.spanSize,e.info.offsetWidth),r=e.target.get("node").get("parentNode").get("parentNode"),i=this,s=e.target.originalInfo,o=e.target.info;e.preventDefault();if(s&&s.offsetWidth&&o&&o.offsetWidth&&s.offsetWidth==o.offsetWidth)return;this.resizeColumn(n,r),setTimeout(function(){i.calculate()},100)},resizeColumn:function(t,n){var r=n.next(),i,s,o,u,a,f,l,c,h;i=this.getColspanByWidth(n),s=this.getColspanByWidth(r),f=i-t,o=s+f,u=this.getWidthByColspan(t),a=this.getWidthByColspan(o),n.setStyle("width",u),r.setStyle("width",a),this.resizeColumnContent(n,t),this.resizeColumnContent(r,o),c=e.one(".rdReportAuthor"),c&&(h=c.getData("rdReportAuthor"),h.sendColumnResizeUpdate(this.id.replace("editorHeaderRow_",""),n.get("id").replace("header_",""),r.get("id").replace("header_",""),t,o))},resizeColumnContent:function(t,n){var r,i,s,o=14;r=t.get("id").replace("header_","");var u="#"+LogiXML.escapeSelector(r);e.LogiXML.ChartCanvas.resizeToWidth(t.get("offsetWidth")-o,u+" > .rd-editor-visualization"),i=e.one(u).all(".column-with-droppable"),e.each(i,function(t){e.LogiXML.ChartCanvas.resizeToWidth(t.get("offsetWidth")-o,"#"+LogiXML.escapeSelector(t.getAttribute("id"))+" > .rd-editor-visualization")})},getColspanByPixelSize:function(e,t){var n=0,r=100,i=t,s=t;if(t%e!=0)for(;n<r;n++){i-=1,s+=1;if(i%e==0)return i/e;if(s%e==0)return s/e}return t/e},clearResizers:function(){var e=0,t=this.columns.length,n;for(;e<t;e++)n=this.columns[e],n.resizeProxy&&(n.resizeProxy.destroy(),n.resizeProxy=null),n.resizeConstrained&&(n.resizeConstrained.destroy(),n.resizeConstrained=null),n.resize&&(n.resize.destroy(),n.resize=null),n.resizeOuterWrapper&&(n.resizeOuterWrapper.remove(),n.resizeOuterWrapper=null)},getColspanByWidth:function(e){var t=e.getStyle("width"),n;t=t==null?"0":t.replace("%","");switch(t){case"8.33":return 1;case"16.66":return 2;case"25":return 3;case"33.33":return 4;case"41.66":return 5;case"50":return 6;case"58.33":return 7;case"66.66":return 8;case"75":return 9;case"83.33":return 10;case"91.66":return 11;case"100":return 12}return null},getWidthByColspan:function(e){switch(e){case 1:return"8.33%";case 2:return"16.66%";case 3:return"25%";case 4:return"33.33%";case 5:return"41.66%";case 6:return"50%";case 7:return"58.33%";case 8:return"66.66%";case 9:return"75%";case 10:return"83.33%";case 11:return"91.66%";case 12:return"100%"}return null},extractColSpan:function(e,t){t=t==null?"col-sm-":rdResponsiveColumnResizer;var n="col-sm-",r=1,i=12;for(;r<=i;r++)if(e.hasClass(n+r))return r;return-1},destructor:function(){var e=this.configNode;this._clearHandlers(),e.setData(n,null)},_clearHandlers:function(){var t=this;e.each(this._handlers,function(e){e&&(e.detach(),e=null)})},_parseHTMLConfig:function(){this.configNode=this.get("configNode"),this.id=this.configNode.getAttribute("id"),this.resizerClass=this.configNode.getAttribute("data-resizer-class"),this.resizerHandlerClass=this.configNode.getAttribute("data-resizer-handler-class"),this.endResizeAction=this.configNode.getAttribute("data-resizer-endresize")}},{NAME:"ResponsiveColumnResizer",ATTRS:{configNode:{value:null,setter:e.one}},createElements:function(){var t;e.all("."+n).each(function(r){t=r.getData(n),t||(t=new e.LogiXML.ResponsiveColumnResizer({configNode:r}))})}})},"1.0.0",{requires:["base","node","event","node-custom-destroy","json-parse","resize","resize-plugin","resize-constrain","stylesheet","event-custom","chartCanvas"]});

/* 
* rdYui/wait-panel.js 
*/
// JSLint options:
/*global LogiXML, YUI, document, window*///18934
YUI.add("waitpanel",function(e){var t="",n="",r="";e.namespace("LogiXML").WaitPanel=e.Base.create("WaitPanel",e.Base,[],{initializer:function(i){this._intervalKey=0,i&&(i.defaultCaption&&(t=i.defaultCaption),i.defaultClass&&(n=i.defaultClass),i.defaultCaptionClass&&(r=i.defaultCaptionClass)),this.initPageWaitFrames(),LogiXML.Ajax.AjaxTarget().on("reinitialize",this.initPageWaitFrames,this),e.Lang.isValue(e.LogiXML.Tabs)&&e.LogiXML.Tabs.prototype.TabsTarget().on("selectedTabChanged",this.initPageWaitFrames,this),document.body.insertBefore(e.Node.create("<div style=\"display: none; background-image: url('rdTemplate/rdWaitAll.gif')\" />").getDOMNode(),document.body.children[0])},compareCss:function(e,t){var n=e.className.split(" "),r=t.className.split(" "),i,s;for(i=n.length-1;i>=0;i--){var o=n[i];if(o.indexOf("yui")==0)n.splice(i,1);else{var u=!1;for(s=r.length-1;s>=0;s--){var a=r[s];a.indexOf("yui")==0?r.splice(s,1):a==o&&(u=!0,r.splice(s,1))}if(!u)return!0}}for(i=r.length-1;i>=0;i--){var a=r[i];if(a.indexOf("yui")!=0)return!0}return!1},compareWaitContent:function(e,t){if(!e)return t?!0:!1;if(!t)return!0;if(this.compareCss(e,t))return!0;if(e.innerText!=t.innerText)return!0;if(e.style.backgroundColor!=t.style.backgroundColor)return!0;if(e.style.border!=t.style.border)return!0;var n=e.getElementsByClassName("rdWaitImage"),r=t.getElementsByClassName("rdWaitImage");if(!n||!n.length){if(r&&r.length)return!0}else{if(!r||!r.length)return!0;if(n[0].style.backgroundImage!=r[0].style.backgroundImage)return!0}var i=e.getElementsByTagName("span"),s=t.getElementsByTagName("span");if(!i||!i.length){if(s&&s.length)return!0}else{if(!s||!s.length)return!0;if(this.compareCss(i[0],s[0]))return!0}return!1},createWaitContent:function(t,i,s,o,u){var a="rdTemplate/";o?a+="rdWait.gif":a+="rdWaitAll.gif";var f=t;try{t=t.replace(/\\x/g,"%"),t=e.HistoryHash.decode(t)}catch(l){t=f}var c="",h="";return e.Lang.isValue(u)&&(c="_"+u),h='style="',!i&&n&&(i=n),i||(h+="background-color: #fff; border: 1px solid #000;"),h+='display: table;"',!s&&r&&(s=r),e.Node.create('<div id="rdWait'+c+'" '+h+' class="'+i+'" ><table><tr><td><div id="rdWaitImage" style="width: 32px; height: 32px; background-image: url('+a+'); background-position: 0px 0px;" ></div></td><td><span class="'+s+'" >'+t+"</td></table></span></div>")},showWaitPanel:function(i,s){if(this.isWaitCanceled())return;if(LogiXML.isDownloadComplete(!1)){LogiXML.unwatchDownload();return}LogiXML.watchDownload(s);var o,u,a;i.waitMessage?o=i.waitMessage:i[0]&&(o=i[0]),o||(o=t),i.waitClass?u=i.waitClass:i[1]?u=i[1]:u="",!u&&n&&(u=n),i.waitCaptionClass?a=i.waitCaptionClass:i[2]?a=i[2]:a="",!a&&r&&(a=r);var f=this.createWaitContent(o,u,a).getDOMNode(),l=document.getElementById("rdWait");e.Lang.isValue(l)?this.compareWaitContent(f,l)&&(this.hideWaitPanel(),document.body.insertBefore(f,document.body.children[0])):document.body.insertBefore(f,document.body.children[0]),e.Lang.isValue(this._pnlWait)||(this._pnlWait=new e.Panel({srcNode:"#rdWait",zIndex:9300,centered:!0,modal:!0,render:!0,buttons:null})),this._pnlWait.show();var c=e.one(".yui3-widget-mask");c.setStyle("width","100%"),c.setStyle("height","100%"),c.setStyle("position","fixed"),c.transition({duration:.25,opacity:{value:.5,easing:"ease-in"}});if(i.elementId){var h=document.getElementById(i.elementId);if(h){LogiXML.eleOverlay(h,c._node);var p=document.getElementById("rdWait");p&&c._node.appendChild(p.parentNode.removeChild(p))}}LogiXML.WaitPanel._loadingCounter=0;var d=function(){var e=LogiXML.WaitPanel._loadingCounter%60,t=-32*e,n=document.getElementById("rdWaitImage");if(!n){window.clearInterval(this.instance._intervalKey),this.instance._intervalKey=null;return}LogiXML.WaitPanel._loadingCounter++,n.style.backgroundPosition=t+"px 0px",LogiXML.isDownloadComplete(!!this.fileGuid)&&(LogiXML.unwatchDownload(this.fileGuid),LogiXML.WaitPanel.pageWaitPanel.hideWaitPanel())}.bind({instance:this,fileGuid:s});this._intervalKey||(this._intervalKey=window.setInterval(d,30))},hideWaitPanel:function(){if(e.Lang.isValue(this._pnlWait)){this._pnlWait.hide();var t=e.one(".yui3-widget-mask");t&&t._node&&LogiXML.eleOverlayUndo(t._node);var n=document.getElementById("rdWait");n&&(n.parentElement.removeChild(n),this._pnlWait.destroy(),this._pnlWait=null),window.clearInterval(this._intervalKey),this._intervalKey=null}},readyWait:function(){this.get("cancelStack").push(!1)},cancelWait:function(){var e=this.get("cancelStack");e[e.length-1]=!0},isWaitCanceled:function(){return this.get("cancelStack").pop()},showFrameWait:function(i){var s=!1,o=i.getData("waitkey");if(i.getAttribute("src")==""&&e.Lang.isValue(o)){var u,a,f;u=i.getData("waitmessage"),u||(u=t),e.Lang.isValue(i.getData("waitclass"))?a=i.getData("waitclass"):a="",!a&&n&&(a=n),e.Lang.isValue(i.getData("waitcaptionclass"))?f=i.getData("waitcaptionclass"):f="",!f&&r&&(f=r),o=i.get("id")+"_"+o;if(!e.Lang.isValue(document.getElementById("rdWait_"+o))){var l=i.getDOMNode();l.setAttribute("rdWaitingForSubmit","True");var c=l.parentNode,h=this.createWaitContent(u,a,f,!0,o).getDOMNode();c.insertBefore(h,l)}i.setStyle("display","none"),i.on("load",this.hideFrameWait),rdPostToIFrame(i,i.getData("hiddensource")),s=!0}return s},hideFrameWait:function(t){var n=t.target;if(n.getAttribute("rdWaitingForSubmit")=="True")return;var r=n.previous();e.Lang.isValue(r)&&r.get("id").indexOf("rdWait")==0&&(n.previous().remove(),n.setStyle("display","")),n._node.tagName==="IFRAME"&&iframeResize(document.getElementById(n._node.id))},initPageWaitFrames:function(){e.each(e.all("iframe"),function(t){if(!t.getAttribute("rdSkipReinit")){LogiXML.isNodeVisible(t)&&e.Lang.isValue(t.getData("waitkey"))&&rdIFrameChanged(t,t.getData("hiddensource"))&&this.showFrameWait(t);var n=t.previous();n!=null&&n._node!=null&&(n._node.nodeName=="DIV"||n._node.nodeName=="div")&&n._node.id.indexOf("rdWait_")>-1&&(n=n.previous(),n!=null&&n._node!=null&&(n._node.nodeName=="DIV"||n._node.nodeName=="div")&&n._node.id.indexOf("rdWait_")>-1&&n._node.parentNode.removeChild(n._node))}},this)}},{NAME:"waitpanel",ATTRS:{cancelStack:{value:new Array}}})},"1.0.0",{requires:["base","panel","transition","cookie","history"]});

/* 
* rdYui/rdDashboardResizer.js 
*/
YUI.add("relativeResizer",function(e){var t=e.Lang,n="rdRelativeResizer";LogiXML.Ajax.AjaxTarget&&LogiXML.Ajax.AjaxTarget().on("reinitialize",function(){e.LogiXML.RelativeResizer.createElements(!0)}),e.LogiXML.Node.destroyClassKeys.push(n),e.namespace("LogiXML").RelativeResizer=e.Base.create("RelativeResizer",e.Base,[],{handlers:null,configNode:null,row:null,columns:null,resizers:null,id:null,initializer:function(e){var t=this;this.handlers={},this._parseHTMLConfig(),this.configNode.setData(n,this),this.createHandles()},createHandles:function(){var t=this,n=this.resizers,r=this.columns;this.resizers.each(function(n,i){var s=(new e.DD.Drag({node:n,axis:"x"})).plug(e.Plugin.DDConstrained,{stickX:!0,constrain:n.ancestor()});e.DD.DDM.set("dragCursor","auto");var o,u=!0;s.on("drag:start",function(e){var t=n.previous(),r=n.next();t.all(".rdChartCanvas").each(function(e){var t=e._node;t.style.removeProperty?t.style.removeProperty("width"):t.style.removeAttribute("width")}),r.all(".rdChartCanvas").each(function(e){var t=e._node;t.style.removeProperty?t.style.removeProperty("width"):t.style.removeAttribute("width")})},t),s.on("drag:drag",function(e){e.preventDefault();var t=n.previous(),r=n.next(),i=this.configNode.get("offsetWidth"),s=n.getXY()[0],o=e.pageX-s;newWidthPc=-(o/i*100);var a=parseFloat(t.getStyle("width"))-newWidthPc,f=parseFloat(r.getStyle("width"))+newWidthPc;a=Number(a.toFixed(2)),f=Number(f.toFixed(2));var l=i*a/100,c=i*f/100;u||(u=this.isSplitterDraggable(n,e));if(l>=150&&c>=150&&u){t.all(".rdChartCanvas").each(function(e){var t=e.one(".highcharts-container");t&&t.setStyle("width",i*a/100-30+"px")}),r.all(".rdChartCanvas").each(function(e){var t=e.one(".highcharts-container");t&&t.setStyle("width",i*f/100-30+"px")});var h=t.all("div.rdDashboardPanel");h.each(function(e){var t=e.one("div.panelBody"),n=t.all("div.rdLogiVisualization");n.size()>0&&t.setStyle("width",i*a/100-20+"px")});var p=r.all("div.rdDashboardPanel");p.each(function(e){var t=e.one("div.panelBody"),n=t.all("div.rdLogiVisualization");n.size()>0&&t.setStyle("width",i*f/100-20+"px")}),t.setStyle("width",a+"%"),r.setStyle("width",f+"%")}else u=!1},t),s.on("drag:end",function(t){var i=n.previous(),s=n.next();i.all(".rdChartCanvas").each(e.LogiXML.ChartCanvas.reflowChart),s.all(".rdChartCanvas").each(e.LogiXML.ChartCanvas.reflowChart),e.LogiXML.ChartDrillToBreadcrumb&&e.LogiXML.ChartDrillToBreadcrumb.reflowItem&&(i.all(".rdChartDrillToBreadcrumb").each(e.LogiXML.ChartDrillToBreadcrumb.reflowItem),s.all(".rdChartDrillToBreadcrumb").each(e.LogiXML.ChartDrillToBreadcrumb.reflowItem));var o=i.all("div.rdDashboardPanel");o.each(function(e){var t=e.one("div.panelBody"),n=t.all("div.rdLogiVisualization");if(n.size()>0){var r=e.one(".rdLogiVisualization logi-visualization,.rdLogiVisualization logi-crosstab-table");r&&LogiXML.Dashboard.FreeForm.resizeVisualizationToFitPanel(e,r)}});var u=s.all("div.rdDashboardPanel");u.each(function(e){var t=e.one("div.panelBody"),n=t.all("div.rdLogiVisualization");if(n.size()>0){var r=e.one(".rdLogiVisualization logi-visualization,.rdLogiVisualization logi-crosstab-table");r&&LogiXML.Dashboard.FreeForm.resizeVisualizationToFitPanel(e,r)}});var a=r._nodes.map(function(e){return parseFloat(e.style.width)}),f=a.join(","),l="&rdReport="+document.getElementById("rdDashboardDefinition").value;l+="&ActiveTabId="+document.getElementById("ActiveTabIdentifier").value,l+="&rdColumnSizes="+f,rdAjaxRequestWithFormVars("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=UpdateColumnSize"+l)},t)})},isSplitterDraggable:function(e,t){var n=e._node.getBoundingClientRect(),r=10;return t.pageX>n.left-r&&t.pageX<n.right+r},_parseHTMLConfig:function(){this.configNode=this.get("configNode"),this.id=this.configNode.getAttribute("id"),this.row=this.configNode.one(".rdRelativeResizerRow"),this.row||(this.row=this.configNode.one("tr")),this.resizers=this.row.all("> td.rdResizerColumn"),this.columns=this.row.all("> td:not(.rdResizerColumn)")},destructor:function(){var e=this.configNode;this._clearHandlers(),e.setData(n,null)},_clearHandlers:function(){var t=this;e.each(this.handlers,function(e){e&&(e.detach&&e.detach(),e.destroy&&e.destroy(),e=null)})}},{NAME:"RelativeResizer",ATTRS:{configNode:{value:null,setter:e.one}},createElements:function(){var t;e.all("."+n).each(function(r){t=r.getData(n),t||(t=new e.LogiXML.RelativeResizer({configNode:r}))})}})},"1.0.0",{requires:["base","node","event","node-custom-destroy","json-parse","stylesheet","event-custom","dd-drag","dd-ddm","dd-proxy","dd-constrain","dd-scroll"]});

/* 
* rdCellColorSlider/rdCellColorSlider.js 
*/
YUI.add("cell-color-slider",function(e){e.namespace("LogiInfo").CellColorSlider=e.Base.create("CellColorSlider",e.Base,[],{initializer:function(t){this.set("_id",t.id),this.set("spectrum1ID",t.spectrum1ID),this.set("spectrum2ID",t.spectrum2ID),this.set("rankColumnID",t.rankColumnID),this.set("colorLow",t.colorLow),this.set("colorMedium",t.colorMedium),this.set("colorHigh",t.colorHigh),this.set("colorAttribute",t.colorAttribute),this.set("isForegroundBlackAndWhite",t.isForegroundBlackAndWhite),this.initializeColorSlider(),LogiXML.Ajax.AjaxTarget().on("reinitialize",e.bind(e.LogiInfo.CellColorSlider.prototype.initializeColorSlider,this))},initializeColorSlider:function(){if(this.get("_id").length!=0){var t=document.getElementById(this.get("_id")),n=document.getElementById(this.get("spectrum1ID")),r=document.getElementById(this.get("spectrum2ID"));if(!n)return;this.set("spectrumWidth",n.width*2),t.style.position="absolute";var i=this._getObjectX(n),s=this._getObjectY(n);t.style.cursor="e-resize";var o=e.one(t);o.offsetTop=200;if(!o.hasClass("yui3-dd-draggable")){var u=o.plug(e.Plugin.Drag).dd.plug(e.Plugin.DDConstrained,{constrain2node:"#"+t.parentNode.id,stickX:!0});u.on("drag:start",function(e){this.set("isDraggingCellColorSlider",!0)},this),u.on("drag:drag",this._onDrag,this),u.on("drag:end",function(e){this.set("isDraggingCellColorSlider",!1)},this)}}this._onDrag(),setTimeout(function(){rdRepositionSliders()},15)},_onDrag:function(t){var n=.5;if(e.Lang.isValue(t)){var r=t.target.get("node"),i=r.ancestor("span"),s=i.get("region");n=(t.pageX-s.left)/(s.right-s.left)}if(n>=0){if(this.get("spectrum1ID").length!=0){var o=document.getElementById(this.get("spectrum1ID")),u=document.getElementById(this.get("spectrum2ID"));this.set("spectrumWidth",o.width+u.width),o.width=this.get("spectrumWidth")*n,u.width=this.get("spectrumWidth")-o.width}var a=document.getElementsByTagName("rdCellSliderValue");for(var f=0;f<a.length;f++){var l=a[f],c=l.parentNode.getAttribute("id");if(c.indexOf(this.get("rankColumnID")+"_Row")!=-1){var h=parseFloat(l.getAttribute("VALUE"));if(!isNaN(h)){var p=l.parentNode.parentNode.parentNode,d=this._getCellColor(n,parseFloat(h),this.get("colorLow"),this.get("colorMedium"),this.get("colorHigh"));if(this.get("colorAttribute")=="foreground")p.getElementsByTagName("FONT")[0]?p.getElementsByTagName("FONT")[0].color=d:p.style.color=d;else{p.style.backgroundColor=d;if(this.get("isForegroundBlackAndWhite")){var v=parseInt(d.substring(1,3),16)*.244627436+parseInt(d.substring(3,5),16)*.672045616+parseInt(d.substring(5,7),16)*.083326949;v<127.5?p.style.color="#FFFFFF":p.style.color="#000000"}}}}}}},_getCellColor:function(e,t,n,r,i){t!=1&&t!=0&&(t<=e?t=.5*t/e:t=1-.5/(1-e)*(1-t));var s=parseInt(n.substring(1,3),16),o=parseInt(n.substring(3,5),16),u=parseInt(n.substring(5,7),16),a=parseInt(r.substring(1,3),16),f=parseInt(r.substring(3,5),16),l=parseInt(r.substring(5,7),16),c=parseInt(i.substring(1,3),16),h=parseInt(i.substring(3,5),16),p=parseInt(i.substring(5,7),16),d=Math.sin((t+.5)*Math.PI),v=Math.sin(t*Math.PI),m=Math.sin((t-.5)*Math.PI);d<0&&(d=0),v<0&&(v=0),m<0&&(m=0);var g=s*d+a*v+c*m,y=o*d+f*v+h*m,b=u*d+l*v+p*m;return"#"+this._int2Hex(parseInt(g))+this._int2Hex(parseInt(y))+this._int2Hex(parseInt(b))},_int2Hex:function(e){return e=e>255?255:e<0?0:e,n_=Math.floor(e/16),n__=e%16,n_.toString(16)+n__.toString(16)},_getObjectX:function(e){return e.offsetParent?this._getObjectX(e.offsetParent)+e.offsetLeft:e.offsetLeft},_getObjectY:function(e){return e.offsetParent?this._getObjectY(e.offsetParent)+e.offsetTop:e.offsetTop}},{NAME:"cell-color-slider",ATTRS:{_id:{},spectrum1ID:{},spectrum2ID:{},rankColumnID:{},colorLow:{},colorMedium:{},colorHigh:{},colorAttribute:{},isForegroundBlackAndWhite:{},isDraggingCellColorSlider:{value:!1}}})},"1.0.0",{requires:["base","dd-constrain","dd-drop-plugin","dd-plugin"]}),window.rdRepositionSliders=function(){var e=document.getElementsByTagName("IMG");for(var t=0;t<e.length;t++){var n=e[t].getAttribute("src");if(n&&n.indexOf("rdCellColorSlider.png")!=-1){var r=e[t],i=r.getAttribute("id"),s=i.replace("rdCellColorSlider","rdColorSpectrum1"),o=document.getElementById(s),u=LogiXML.getObjectX(o),a=LogiXML.getObjectY(o);r.style.left=u+o.width+"px",r.style.top=a-2+"px"}}};

/* 
* rdCookie.js 
*/
function rdSaveInputCookie(e,t,n){var r,i,s,o;if(t)try{var r=new Date;r.setDate(r.getDate()+parseInt(t))}catch(u){r=AddAMonthToCurrentDate()}else r=AddAMonthToCurrentDate();i=r.toGMTString();var a="",f=document.getElementById(e);if(!f)return!1;a=rdGetInputValues(f,!1),f.id.indexOf("rdRadioButtonGroup")==0&&(a=rdGetFormFieldValue(f),e=e.substring(18)),n==""&&(n="/"),SetCookie(e,a,i,n)}function SetCookie(e,t,n,r){document.cookie=e+"="+encodeURI(t)+(n?"; expires="+n:"")+(r?"; path="+r:"")+";"}function setCookie2(e,t,n,r,i,s){r==""&&(r="/"),document.cookie=e+"="+escape(t)+(n?"; expires="+n.toGMTString():"")+(r?"; path="+r:"")+(i?"; domain="+i:"")+(s?"; secure":"")}function getCookie2(e){var t=document.cookie,n=e+"=",r=t.indexOf("; "+n);if(r==-1){r=t.indexOf(n);if(r!=0)return null}else r+=2;var i=document.cookie.indexOf(";",r);return i==-1&&(i=t.length),unescape(t.substring(r+n.length,i))}function deleteCookie2(e,t,n){getCookie(e)&&(document.cookie=e+"="+(t?"; path="+t:"")+(n?"; domain="+n:"")+"; expires=Thu, 01-Jan-70 00:00:01 GMT")}function AddAMonthToCurrentDate(){var e=new Date;return month=e.getMonth(),year=e.getFullYear(),month==11?(month=0,year++):month++,e.setMonth(month),e.setFullYear(year),e}function rdSaveInputToLocalStorage(e){var t="",n=document.getElementById(e);if(!n)return!1;t=rdGetInputValues(n,!1),rdSetLocalStorage("rdDefaultValue_"+e,t)}function rdGetInputFromLocalStorage(e){if(rdHasLocalStorage()){var t="rdDefaultValue_"+e;if(localStorage[t]){var n=localStorage[t],r=document.getElementById(e);if(r)if(r.type=="checkbox"){if(r.value==n||r.parentNode.innerText==n)r.checked=!0}else if(r.id.indexOf("rdRadioButtonGroup")==0){var i=r.id.replace(/rdRadioButtonGroup/g,""),s=r.getElementsByTagName("INPUT");for(var o=0;o<s.length;o++)if(s[o].name==i&&s[o].value==n){s[o].checked=!0;break}}else if(r.tagName=="SELECT")if(r.multiple){var u=r.getAttribute("rdInputValueDelimiter"),a=n.split(u),f=r.getElementsByTagName("OPTION");for(var o=0;o<f.length;o++)a.indexOf(f[o].value)!=-1&&(f[o].selected=!0);n.length>1&&(n=n.substring(0,n.length-1))}else{var f=r.getElementsByTagName("OPTION");for(var o=0;o<f.length;o++)if(f[o].value==n){f[o].selected=!0;break}}else if(r.tagName=="DIV"&&LogiXML.String.isNotBlank(r.getAttribute("data-checkboxlist")))LogiXML.rd.setInputElementListValue(e,n);else if(r.getAttribute("rdinputslider")=="True"){r.value=n;var l=r.getAttribute("rdSliderID");if(l){var c=Y.one("#"+l);if(Y.Lang.isValue(c)){var h=c.getData("sliderInstance");h.setValue2(n*h.get("decimalfactor"))}}else{var c=Y.one("#"+e);if(Y.Lang.isValue(c)){var h=c.getData("sliderInstance");h.setValue(n*h.get("decimalfactor"))}}}else r.value.length==0&&(r.value=n)}}}function rdHasLocalStorage(){try{return!!localStorage.getItem}catch(e){return!1}}function rdGetLocalStorage(e){var t=LogiXML.rd.getLocalStorage(e);return t!=null?t:""}this.LogiXML===undefined?(this.LogiXML={},this.LogiXML.rd={}):this.LogiXML.rd===undefined&&(this.LogiXML.rd={}),LogiXML.rd.getLocalStorage=function(e,t){if(rdHasLocalStorage()){var n=localStorage.getItem(e);return t?Y.JSON.parse(n):n}return null},LogiXML.rd.setLocalStorage=function(e,t,n){if(rdHasLocalStorage()){var r=n?Y.JSON.stringify(t):t;r===""?localStorage.removeItem(e):localStorage.setItem(e,r)}},window.rdSetLocalStorage=LogiXML.rd.setLocalStorage;

/* 
* rdAjax/rdAjax2.js 
*/
function rdAjaxRequest(e,t,n,r,s,o,u){if(e.search("rdRequestForwarding=Form")!=-1){rdAjaxRequestWithFormVars(e,t,n,!1,r,s,o);return}e.search("rdCSRFKey")==-1&&document.getElementById("rdCSRFKey1")&&document.getElementById("rdCSRFKey1").value&&(e=e+"&rdCSRFKey="+document.getElementById("rdCSRFKey1").value);if(e.indexOf("rdDataTablePaging")!=-1){var a=e.split("&"),f="",l="divPagingWait_";for(i=0;i<a.length;i++){a[i].indexOf("rdNewPageNr=True2")>-1&&(l="divPagingWait2_");if(a[i].indexOf("rdRefreshElementID")>-1){f=a[i].replace("rdRefreshElementID=",""),l+=f;break}}Y.Lang.isNull(Y.one("#"+l))||Y.one("#"+l).show()}if(t&&t.length!=0&&t=="true"){var c=rdValidateForm();if(c){alert(c);return}}if(n&&n.length!=0&&!confirm(n))return;try{if(commandURL.indexOf("RefreshElement")>-1&&commandURL.indexOf("rdReportAuthorAction")<0)for(var h=0;h<Highcharts.charts.length;h++){var p=Highcharts.charts[h];if(p!=null){var d=p.renderTo,v=Y.one(d),m=commandURL.indexOf("rdRefreshElementID"),g;if(m!=-1){m+=19,g=commandURL.indexOf("&",m);var y=commandURL.substring(m,g),b=v.ancestors("#"+y);b!=null&&b.getDOMNodes().length&&p.showLoading('<img src="rdTemplate/rdWait.gif" alt="loading..."></img>')}}}}catch(w){}var E="rdTemplate/rdAjax/rdAjax.aspx";window.location.href.indexOf("rdWidget")>-1&&(window.location.href.indexOf("/rdTemplate")>-1?E=window.location.href.substring(0,window.location.href.indexOf("/rdTemplate")+1)+E:E="../../"+E),r&&(r===!0||r=="true")&&(o&&o.async?E="rdProcessAsync.aspx":E="rdProcess.aspx");if(sCurrentRequestParams.length>0){if(sCurrentRequestParams==e){var S=LogiXML.getUrlParameter(e,"rdCancelPreviousPagingRequests");if(S)return;var x=LogiXML.getUrlParameter(e,"rdRET");if(x=="True")return}setTimeout(function(){rdAjaxRequest(e,t,null,r,s,o,u)},Math.floor(Math.random()*1e3));return}if(LogiXML&&LogiXML.Dashboard&&LogiXML.Dashboard.pageDashboard){var T=rdDashboardInterceptRefresh(e,s);if(T){if(!T.commandParams)return;e=T.commandParams,s=T.fnCallback}}sCurrentRequestParams=e,rdShowAjaxFeedback(!0,e);var N;o!=null&&(Y.Cookie&&Y.Cookie.exists("rdFileDownloadComplete")&&Y.Cookie.remove("rdFileDownloadComplete",{path:"/"}),Y.Lang.isValue(LogiXML.WaitPanel.pageWaitPanel)&&(LogiXML.WaitPanel.pageWaitPanel.readyWait(),N=new Timeout(function(){LogiXML.WaitPanel.pageWaitPanel.showWaitPanel(o)},500)));var C;Y.Lang.isFunction(s)?C=Y.rbind(handleSuccess,window,s):C=handleSuccess,e.indexOf("rdTemplate/rdMetadata/rdUiService.aspx?")==0&&(E=e.substring(0,e.indexOf("?")),e=e.substring(e.indexOf("?")+1));try{var k=e.indexOf("rdSkipPageLoadScripts=True")>=0,L={method:"POST",data:e,on:{success:C,failure:handleFailure},arguments:{timeoutID:N,skipPageLoadScripts:k}};u&&(L={method:"POST",data:e,form:{id:document.rdForm,upload:!0},on:{complete:C,failure:handleFailure},arguments:{timeoutID:N,skipPageLoadScripts:k}}),req=Y.io(E,L)}catch(w){e=e.replace("rdAjaxCommand","rdAjaxAbort"),Y.Lang.isValue(N)&&N.clear(),window.open(E+"?"+e,"_self")}}function rdResizeCurrentIFrame(e){try{if(frameElement&&frameElement.contentWindow&&parent&&parent.iframeResize)try{detectIE()?(window.iframeResizeId&&window.clearTimeout(window.iframeResizeId),window.iframeResizeId=window.setTimeout(resizeCurrentIframe.bind({optionalParam:e}),500)):e?parent.iframeResize(frameElement,e):parent.iframeResize(frameElement)}catch(t){}}catch(t){}bCurrentIFrameResized=!0}function resizeCurrentIframe(){this.optionalParam?parent.iframeResize(frameElement,this.optionalParam):parent.iframeResize(frameElement)}function detectIE(){var e=window.navigator.userAgent,t=e.indexOf("MSIE");return t>0?!0:navigator.userAgent.match(/Trident\/7\./)?!0:!1}function Timeout(e,t){var n=setTimeout(e,t);this.cleared=!1,this.clear=function(){this.cleared=!0,window.clearTimeout(n)}}function getParameterByName(e,t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+t+"=([^&#]*)"),r=n.exec(e);return r===null?"":decodeURIComponent(r[1].replace(/\+/g," "))}function rdAjaxRequestWithFormVars(e,t,n,r,i,s,o,u){e.indexOf("RequestRealTimeAnimatedChartData")>0&&(e=e+"&rdAnimatedChartRenderer="+FusionCharts.getCurrentRenderer());try{window.external.AutoCompleteSaveForm(document.rdForm)}catch(a){}if(u){var f=getParameterByName(e,"rdRefreshElementID");if(f){var l=new RegExp(/(\$Request\.)([^~]*)(~)/g),c=l.exec(f);while(c!=null){var h=c[2],p=getParameterByName(location.search,h);p&&(e+="&"+h+"="+p),c=l.exec(f)}}}r&&(e=decodeURIComponent(e));var d,v=document.rdForm,m=!1,g=e;if(!v)return;var y=[];for(var b=0;b<v.elements.length;b++){var w=v.elements[b];if(!w.type)continue;if(w.type=="checkbox"&&(w.id.indexOf("_check_all")!=-1||w.id.indexOf("_rdList")!=-1))continue;if(w.type=="file"&&w.getAttribute("data-ajax-upload")=="True"){if(w.value!=""){var E=w.value.split(".")[1];if(!w.value.match("(jpg|JPG|gif|GIF|png|PNG|bmp|BMP)$")){alert("Wrong filetype!");return}var S=rdGetInputValues(w);g.indexOf(S)==-1&&(g+=S),m=!0}}else{if(w.getAttribute("rdAjaxDontSubmit")=="True")continue;if(w.name.lastIndexOf("-PageNr")!=-1&&w.name.lastIndexOf("-PageNr")==w.name.length-7)continue;if(w.name=="rdDataTablePaging")continue;if(w.name=="rdUsername")continue;if(w.name=="rdPassword")continue;if(w.name=="rdFormLogon")continue;if(e.indexOf("&"+w.name+"=")!=-1)continue;var S=rdGetInputValues(w);S.indexOf("rdICL-")!="-1"&&(S=S.replace("rdICL-","")),w.type=="checkbox"&&S.indexOf("rdNotSent")!=-1&&(S=""),e.indexOf(S)==-1&&(e+=S)}}m&&(e=g),sPrevRadioId="",e=e.replace("rdRequestForwarding=Form",""),rdAjaxRequest(e,t,n,i,s,o,m)}function rdAjaxRefreshElements(e,t,n){if(!e||!e.length){n&&n();return}var r=e.shift(),i="rdAjaxCommand=RefreshElement&rdRefreshElementID="+encodeURIComponent(r)+"&rdReport="+encodeURIComponent(t);rdAjaxRequestWithFormVars(i,"false","",null,null,function(){rdAjaxRefreshElements(e,t,n)},null,!0)}function rdAjaxEncodeValue(e){return e=encodeURI(e),e=e.replace(/&/g,"%26"),e=e.replace(/\+/g,"%2B"),e}function rdUpdatePage(e,t,n){bCurrentIFrameResized=!1;var r=__rdUpdatePage.apply(this,arguments);return bCurrentIFrameResized||rdResizeCurrentIFrame(),r}function __rdUpdatePage(xmlResponse,sResponse,skipPageLoadScripts){if(sResponse.length!=0){if(sResponse.indexOf("rdDebugUrl=")!=-1){rdReportResponseError(sResponse);return}if(sResponse.indexOf("rdSecureKeyFailure='True'")>0||sResponse.indexOf("rdAuthSessionFailure='True'")>0||sResponse.indexOf("rdErrorAjaxRedirect='True'")>0){if(window.DOMParser){parser=new DOMParser,sResponse.indexOf("</html>")!=-1&&(sResponse=sResponse.substring(0,sResponse.indexOf("</html>")+7));var xmlDoc=parser.parseFromString(sResponse,"text/xml"),action=xmlDoc.getElementsByTagName("form")[0].getAttribute("Action");window.location=action}else{var xmlDoc=new ActiveXObject("Microsoft.XMLDOM");xmlDoc.async=!1,xmlDoc.loadXML(sResponse);var action=xmlDoc.getElementsByTagName("form")[0].getAttribute("Action");window.location=action}rdReportResponseError(sResponse);return}if(sResponse.indexOf("rdErrorAjaxMissingRedirect='True'")>-1){var sResp=sResponse.replace("rdErrorAjaxMissingRedirect='True'","");sResp=sResp.replace("True",""),window.document.write(sResp);return}sResponse.substring(0,15)=="JoinRelationID="?rdMetadataReturnedJoinRelationID=sResponse.substring(15):sResponse.substring(0,13)=="ConnectionID="?rdMetadataReturnedConnectionID=sResponse.substring(13):sResponse.substring(0,10)=="TableName="?rdMetadataReturnedTableName=sResponse.substring(10):sResponse.substring(0,11)=="MetadataID="&&(rdMetadataReturnedMetadataID=sResponse.substring(11));if(!xmlResponse){rdReportResponseError(sResponse),sCurrentRequestParams="";return}if(!xmlResponse.documentElement){rdReportResponseError(sResponse);return}if(!xmlResponse.documentElement.getAttribute("rdAjaxCommand")){rdReportResponseError(sResponse);return}xmlResponse.documentElement.getAttribute("rdAjaxCommand")!="RefreshElement"?(sResponse=sResponse.replace(/_rdamp_/g,"&"),sResponse=sResponse.replace(/_rdlt_/g,"<"),sResponse=sResponse.replace(/_rdgt_/g,">")):sResponse=rdEnsureSeparateClosingTags(sResponse),window.status="",skipPageLoadScripts||sResponse.indexOf("data-linked-object-type=")!=-1?skipPageLoadScripts=!0:skipPageLoadScripts=!1;var sElementIDs=[],refreshIFrames=!0;switch(xmlResponse.documentElement.getAttribute("rdAjaxCommand")){case"RefreshElement":var isDataTablePaging=xmlResponse.documentElement.getAttribute("id"),rdValidateFormText=sResponse.substring(sResponse.indexOf("function rdValidateForm()"),sResponse.indexOf("</SCRIPT>",sResponse.indexOf("function rdValidateForm()")));if(window.rdValidateForm){var strrdValidateForm=rdValidateForm.toString();strrdValidateForm=strrdValidateForm.substring(strrdValidateForm.indexOf("{")+1,strrdValidateForm.length-1),strrdValidateForm+=rdValidateFormText.substring(rdValidateFormText.indexOf("{")+1,rdValidateFormText.length-1),rdValidateForm=new Function(strrdValidateForm)}sElementIDs=xmlResponse.documentElement.getAttribute("rdRefreshElementID").split(",");if(isDataTablePaging&&isDataTablePaging.indexOf("rdDataTableDiv")>-1){var sTableDivID=xmlResponse.documentElement.getAttribute("id"),eleTableDiv=document.getElementById(sTableDivID);eleTableDiv&&replaceHTMLElement(eleTableDiv,sResponse,eleTableDiv.id)}else for(var i=0;i<sElementIDs.length;i++){if(sElementIDs[i]=="rdStopAjaxReplace")break;var eleOld=document.getElementById(sElementIDs[i]);if(eleOld){var sNewHtml=replaceHTMLElement(eleOld,sResponse,sElementIDs[i]),node=Y.one("#"+LogiXML.escapeSelector(sElementIDs[i]));node.hasClass("rdDashboardTabs")&&(skipPageLoadScripts=!1);var panelContainer=node.ancestor("div.rdDashboardPanel");if(panelContainer){Y.each(panelContainer.all("tr#MissingDataMessage"),function(e){e._node.style.display="none"});if(node.hasClass("panelBody")||node.getAttribute("src").indexOf("rdChart2.aspx")!=-1){var nodeFreeformLayout=Y.one("#rdFreeformLayout");Y.Lang.isNull(nodeFreeformLayout)||(node.setStyle("cursor","auto"),node.getAttribute("src").indexOf("rdChart2.aspx")!=-1&&node.setAttribute("className","dashboardChart"),LogiXML.Dashboard.FreeForm.initializePanel(panelContainer))}}eleOld.getAttribute("id").match("rdAnimatedChart")&&(xmlResponse.text?xmlResponse.text.toString().match("rdLoadAnimatedChart")&&rdRerenderAnimatedChart(xmlResponse.text.substring(xmlResponse.text.indexOf("rdLoadAnimatedChart"),xmlResponse.text.length),eleOld):xmlResponse.documentElement.textContent.toString().match("rdLoadAnimatedChart")&&rdRerenderAnimatedChart(xmlResponse.documentElement.textContent.substring(xmlResponse.documentElement.textContent.indexOf("rdLoadAnimatedChart"),xmlResponse.documentElement.textContent.length),eleOld)),eleOld.getAttribute("id").match("rdFusionMap")&&(xmlResponse.text?xmlResponse.text.toString().match("rdLoadFusionMap")&&rdRerenderAnimatedMap(xmlResponse.text.substring(xmlResponse.text.indexOf("rdLoadFusionMap"),xmlResponse.text.length),eleOld):xmlResponse.documentElement.textContent.toString().match("rdLoadFusionMap")&&rdRerenderAnimatedMap(xmlResponse.documentElement.textContent.substring(xmlResponse.documentElement.textContent.indexOf("rdLoadFusionMap"),xmlResponse.documentElement.textContent.length),eleOld));if(eleOld.getAttribute("rdPopupPanel")=="True"){var rdModalShade=rdGetModalShade(document.getElementById(sElementIDs[i]));rdModalShade!=null&&(rdModalShade.style.display="none")}if(sElementIDs[i].indexOf("rdTabPanel_")==0){var eleActiveTab=document.getElementById(sElementIDs[i]),eleTabs=eleActiveTab.parentNode;for(var i=0;i<eleTabs.childNodes.length;i++)eleTabs.childNodes[i].id==eleActiveTab.id?eleTabs.childNodes[i].style.display="":eleTabs.childNodes[i].style.display="none"}}}LogiXML.mergeStylesheets(xmlResponse);for(var i=0;i<sElementIDs.length;i++)LogiXML.Ajax.AjaxTarget().fire("refreshed_"+sElementIDs[i]);if(sResponse.indexOf("data-checkboxlist")>0){var list=xmlResponse.getElementsByTagName("div");for(var i=0;i<list.length;i++)if(list[i].getAttribute("data-checkboxlist")){var id=list[i].getAttribute("id");Y.Lang.isValue(Y.LogiXML)&&Y.one("#"+LogiXML.escapeSelector(id)).plug(Y.LogiXML.rdInputCheckList)}}break;case"CalendarRefreshElement":sElementIDs=xmlResponse.documentElement.getAttribute("rdCalendarRefreshElementID").split(",");for(var i=0;i<sElementIDs.length;i++){var sElementID=sElementIDs[i];eleOld=document.getElementById(sElementID);if(eleOld){var sNewHtml;eleOld.tagName.toUpperCase()!="INPUT"&&(sNewHtml=replaceHTMLElement(eleOld,sResponse,sElementID));if(sNewHtml){var eleNew=document.getElementById(sElementID);eleNew.getAttribute("rdElementIdentifier")=="Calendar"&&rdOnLoadJavascriptAddition(eleNew.getAttribute("id")),eleNew.getAttribute("id").match("TableForInputTime")&&(rdResizeAMPMTable(),rdNeedForSecondsDisplay(),rdLoadInputTimeDefaultValue())}}}break;case"UpdateMapImage":var sImageID=xmlResponse.documentElement.getAttribute("id"),eleImage=document.getElementById(sImageID);if(eleImage){var sImageSrc=xmlResponse.documentElement.getAttribute("rdSrc");eleImage.setAttribute("src",sImageSrc)}break;case"RequestRefreshElement":refreshIFrames=!1;var sElementID=xmlResponse.documentElement.getAttribute("ElementID"),sReport=xmlResponse.documentElement.getAttribute("rdReport"),sRefreshDashboard=Y.Lang.isNull(xmlResponse.documentElement.getAttribute("rdRefreshDashboard"))?"":xmlResponse.documentElement.getAttribute("rdRefreshDashboard"),waitCfg=["","",""],eleWaitCfg=document.getElementById("rdWaitCfgBookOrg");if(eleWaitCfg)try{var sScript=eleWaitCfg.parentElement.href;sScript=sScript.substr(sScript.indexOf("[")),waitCfg=eval(sScript.substr(0,sScript.indexOf("]")+1))}catch(e){}rdAjaxRequest("rdAjaxCommand=RefreshElement&rdRefreshElementID="+sElementID+"&rdReport="+sReport+"rdRequestForwarding=Form"+"&rdRefreshDashboard="+sRefreshDashboard,!1,null,!1,null,waitCfg);break;case"RequestRefreshPage":window.location.href=window.location.href;break;case"RunJavascript":var scriptString=xmlResponse.documentElement.getAttribute("Script");scriptString=scriptString.replace(/_rdamp/g,"&"),scriptString=scriptString.replace(/_rdlt_/g,"<"),scriptString=scriptString.replace(/_rdgt_/g,">"),eval(scriptString);break;case"ShowElement":ShowElement(null,xmlResponse.documentElement.getAttribute("ElementID"),xmlResponse.documentElement.getAttribute("Action"));break;case"ShowPopup":var sPopupId=xmlResponse.documentElement.getAttribute("PopupID"),sTitle=xmlResponse.documentElement.getAttribute("PopupTitle"),sContent=xmlResponse.documentElement.getAttribute("PopupContent");rdShowPopup(sPopupId,sTitle,sContent);break;case"ShowStatus":var sNotifyCommand=xmlResponse.documentElement.getAttribute("rdNotifyCommand"),sReloadPanelID=xmlResponse.documentElement.getAttribute("rdReloadPanelID");if(sReloadPanelID)sElementIDs.push(sReloadPanelID);else if(sNotifyCommand=="SaveDashboardParams"||sNotifyCommand=="RenameDashboardTab"||sNotifyCommand=="UpdateDashboardPanelOrder")refreshIFrames=!1;if(xmlResponse.documentElement.getAttribute("RdTsBookmarkID")){var bookmarkUrl="rdPage.aspx?rdLoadBookmark=True&rdReport="+xmlResponse.documentElement.getAttribute("RdReport")+"&rdBookmarkCollection="+xmlResponse.documentElement.getAttribute("RdBookmarkCollection")+"&rdBookmarkUserName="+xmlResponse.documentElement.getAttribute("RdBookmarkUserName")+"&rdBookmarkID="+xmlResponse.documentElement.getAttribute("RdTsBookmarkID")+"&rdSharedBookmarkID="+xmlResponse.documentElement.getAttribute("RdSharedBookmarkID"),isInThinkspaceEdit=window.location.href.toLowerCase().indexOf("rdeditthinkspace=true")>0||Y&&Y.one("#rdEditThinkspace")&&Y.one("#rdEditThinkspace").get("value").toString().toLowerCase()=="true";xmlResponse.documentElement.getAttribute("IsNewSave")=="True"&&!isInThinkspaceEdit?window.location.href=bookmarkUrl:xmlResponse.documentElement.getAttribute("IsOverwrite")=="False"&&window.history.pushState("","",bookmarkUrl)}window.status=xmlResponse.documentElement.getAttribute("Status"),xmlResponse.documentElement.getAttribute("Alert")&&alert(xmlResponse.documentElement.getAttribute("Alert")),typeof rdEmailReportPopupId!="undefined"&&rdEmailReportPopupId!=null&&(ShowElement(null,rdEmailReportPopupId,"Hide"),rdEmailReportPopupId=undefined);case"RequestRealTimeAnimatedChartData":}if(!skipPageLoadScripts){rdAjaxRunOnLoad(xmlResponse);var skippedIFrames=[];(sElementIDs.length>0||!refreshIFrames)&&Y.each(Y.all("iframe"),function(e){var t=!1,n=e.getDOMNode();if(refreshIFrames)for(var r=0;r<sElementIDs.length;r++)if(LogiXML.isAncestorID(n,sElementIDs[r])){t=!0;break}t||(n.setAttribute("rdSkipReinit","true"),skippedIFrames.push(n))}),LogiXML.Ajax.AjaxTarget().fire("reinitialize");for(var x=0;x<skippedIFrames.length;x++)skippedIFrames[x].removeAttribute("rdSkipReinit");typeof window.rdRepositionSliders!="undefined"&&rdRepositionSliders()}if(document.getElementById("rdKillPageCache")){var url=LogiXML.setUrlParameter(location.href,"rdKillPageCache",Math.floor(Math.random()*1e5));history.replaceState({},null,url)}}var bStopFeedback=!0;if(sCurrentRequestParams.indexOf("rdDontUndoFeedback=True")>=0)var bStopFeedback=!1;sCurrentRequestParams="",bSubmitFormAfterAjax=!1,sResponse.indexOf('rdAjaxCommand="RequestRefreshElement"')==-1&&Y.Lang.isValue(LogiXML.WaitPanel.pageWaitPanel)&&(LogiXML.WaitPanel.pageWaitPanel.cancelWait(),LogiXML.WaitPanel.pageWaitPanel.hideWaitPanel()),sResponse.length!=0&&xmlResponse.documentElement.getAttribute("rdAjaxCommand")&&xmlResponse.documentElement.getAttribute("rdAjaxCommand").indexOf("Request")!=-1&&(bStopFeedback=!1),bStopFeedback&&rdShowAjaxFeedback(!1),LogiXML.studioWizardFixup()}function replaceHTMLElement(e,t,n){var r,i,s=Y.one(e),o;s?e&&e.innerHTML&&e.innerHTML.indexOf("data-rdEnableEventsOnRefresh")>-1?o=rdGetInputValuesRecursive(s._node):o=[]:o=[];var u,a=t.indexOf(' id="'+n+'"');a===-1&&(a=t.indexOf(' ID="'+n+'"'));if(a===-1)return null;var f=t.substring(0,a).lastIndexOf("<");u=t.substring(f);var l,c,h,p=1,d=1,v=!0;while(d>0){l=u.indexOf("<",p),c=u.indexOf("</",p),v&&(h=u.indexOf("/>",p),h==-1&&(v=!1));if(h!=-1&&h<l)d-=1,p=h+2;else if(l==c)d-=1,p=c+2;else{if(!(l!=-1&&l<c))return alert("There was an error parsing the returned Ajax XML."),null;d+=1,p=l+1}}var m;h!=-1&&h<l?m=h+2:m=u.indexOf(">",c)+1,u=u.substring(0,m),u=u.replace(/_rdamp_/g,"&"),u=u.replace(/_rdlt_/g,"<"),u=u.replace(/_rdgt_/g,">"),r=Y.Node.create(u);if(r){var g=r.getAttribute("data-linked-object-callback");if(g){var y=r.getAttribute("data-linked-object-type"),b=s.getData(y);if(b&&b[g]){b[g](r,t),r.remove(!0);return}}i=Y.Node.create('<div style="display: none;"></div>'),s.insert(i,"before"),Y.each(s.get("children"),function(e){e.destroy(!0)}),s.remove(!0),i.replace(r);var w=!!window.MSInputMethodContext&&!!document.documentMode;if(w){var E=function(e){var t=e._node.attributes;for(var n=0;t!=null&&n<t.length;n++){var r=t[n];r.name.toLowerCase().indexOf("on")==0&&e._node.setAttribute(r.name,r.value)}};Y.each(r.all("*"),E),E(r)}i.remove(!0);for(var S=0;S<o.length;S++){var x=o[S],T=document.getElementById(x.id);if(rdEnableEventsOnRefresh(T)){var N=rdGetInputValues(T,!1);N!=x.value&&LogiXML.fireEvent(T,"onchange")}}}return u}function rdAjaxRunOnLoad(xml){var existingScripts=document.getElementsByTagName("SCRIPT"),scripts=xml.getElementsByTagName("SCRIPT");for(var i=0;i<scripts.length;i++){var scrpt=scripts[i],attrRun=scrpt.attributes.getNamedItem("rdAjaxRunOnLoad");if(attrRun)attrRun.value=="True"&&(scripts[i].text?(scripts[i].text=scripts[i].text.replace(/_rdamp_/g,"&"),scripts[i].text=scripts[i].text.replace(/_rdlt_/g,"<"),scripts[i].text=scripts[i].text.replace(/_rdgt_/g,">"),eval(scripts[i].text)):(scripts[i].textContent=scripts[i].textContent.replace(/_rdamp_/g,"&"),scripts[i].textContent=scripts[i].textContent.replace(/_rdlt_/g,"<"),scripts[i].textContent=scripts[i].textContent.replace(/_rdgt_/g,">"),eval(scripts[i].textContent)));else{var src=scrpt.getAttribute("src");if(src){var gotIt=!1;for(var j=0;j<existingScripts.length;j++){var src2=existingScripts[j].getAttribute("src");if(src==src2){gotIt=!0;break}}gotIt||LogiXML.addScript(src)}}}}function rdGetFormFieldValue(e){var t;if(e==null)return;if(e.id.indexOf("rdRadioButtonGroup")==0){sFieldId=e.id.replace(/rdRadioButtonGroup/g,"");var n=document.getElementsByTagName("INPUT");for(var r=0;r<n.length;r++)if(n[r].name==sFieldId&&n[r].checked){t=n[r].value;break}t==undefined&&(t="")}else e.value.length==0?t="":t=e.value;return t}function rdReportResponseError(e){sCurrentRequestParams="";try{var t=e.indexOf("rdDebugUrl=");if(t!=-1){var n=e.substring(t+12);n=n.substring(0,n.indexOf('"')),window.location=n}}catch(r){}}function rdShowAjaxFeedback(e,t){var n,r;if(sFeedbackShowElementID){for(i=0;i<sFeedbackShowElementID.length;i++)n=document.getElementById(sFeedbackShowElementID[i].trim()),n&&(ShowElement(null,sFeedbackShowElementID[i].trim(),"Hide"),n=null);sFeedbackShowElementID=undefined}if(sFeedbackHideElementID){for(i=0;i<sFeedbackHideElementID.length;i++)r=document.getElementById(sFeedbackHideElementID[i].trim()),r&&(ShowElement(null,sFeedbackHideElementID[i],"Show"),r=null);sFeedbackHideElementID=undefined}document.documentElement.style.cursor="auto";if(e){var s;s=t.split("&rdFeedbackShowElementID=");if(s.length>1){sFeedbackShowElementID=s[1].split("&")[0].split(",");for(i=0;i<sFeedbackShowElementID.length;i++)n=document.getElementById(sFeedbackShowElementID[i].trim()),n&&ShowElement(null,sFeedbackShowElementID[i].trim(),"Show")}s=t.split("&rdFeedbackHideElementID=");if(s.length>1){sFeedbackHideElementID=s[1].split("&")[0].split(",");for(i=0;i<sFeedbackHideElementID.length;i++)r=document.getElementById(sFeedbackHideElementID[i].trim()),r&&ShowElement(null,sFeedbackHideElementID[i].trim(),"Hide")}}}function rdGetCheckedValueFromRadioButtons(e){var t=e.id.replace(/rdRadioButtonGroup/g,""),n=e.getElementsByTagName("INPUT");for(var r=0;r<n.length;r++)if(n[r].checked&&n[r].name==t)return n[r].value;return""}function rdGetSelectedValuesFromCheckboxList(e,t){var n=Y.all('input[name="'+e+'"]'),r=new Array,i,s="";return n.each(function(e){e.get("checked")==1?(i=e.get("value"),i||(i=e._node.parentNode.innerText),Y.Array.indexOf(r,i)==-1&&r.push(i)):(i=e.getAttribute("rdUncheckedValue"),e.hasAttribute("rdUncheckedValue")&&Y.Array.indexOf(r,i)==-1&&r.push(i))}),t===!0?r:(r.length>0&&(typeof window.rdInputValueDelimiter=="undefined"&&(window.rdInputValueDelimiter=","),LogiXML.rdInputTextDelimiter?s=LogiXML.rdInputTextDelimiter.delimit(r,rdInputValueDelimiter,'"',"\\"):s=r.join(rdInputValueDelimiter)),s)}function rdEnableEventsOnRefresh(e){return e&&e.getAttribute&&e.getAttribute("data-rdEnableEventsOnRefresh")=="True"}function rdGetInputValuesRecursive(e,t){if(!e)return t;t=t||[];var n;e.id&&(n=rdGetInputValues(e,!1),t.push({id:e.id,value:n}));for(var r=0;r<e.childNodes.length;r++)rdGetInputValuesRecursive(e.childNodes[r],t);return t}function rdGetInputValues(e,t){var n="";t=typeof t!="undefined"?t:!0;if(e.getAttribute("data-checkboxlist"))return n=rdGetSelectedValuesFromCheckboxList(e.id),t?"&"+e.id+"="+rdAjaxEncodeValue(n):n;if(e.getAttribute("type")=="rdRadioButtonGroup")return n=rdGetCheckedValueFromRadioButtons(e),t?"&"+e.id+"="+rdAjaxEncodeValue(n):n;if(e.getAttribute("rdelement")=="Tabs"){var r=document.getElementById("rdActiveTabId_"+e.id);if(Y.Lang.isValue(r))return n=r.value,t?"&"+e.id+"="+rdAjaxEncodeValue(n):n}else{if(e.nodeName=="SPAN")return"&"+e.id+"="+rdAjaxEncodeValue(e.innerText);switch(e.type){case"hidden":case"email":case"number":case"tel":case"textarea":case"password":case"select-one":case"file":return n=rdGetFormFieldValue(e),t?"&"+e.name+"="+rdAjaxEncodeValue(n):n;case"text":if(e.autocomplete){var i=e.getAttribute("data-delimiter");i&&i.length>0&&(e.value=e.value.split(i+" ").join(i).trim(),e.value.lastIndexOf(i)==e.value.length-1&&(e.value=e.value.substring(e.value,e.value.length-i.length)))}return n=rdGetFormFieldValue(e),t?"&"+e.name+"="+rdAjaxEncodeValue(n):n;case"select-multiple":var s=new Array,o=!1;for(var u=0;u<e.options.length;u++)e.options[u].selected&&(s[s.length]=e.options[u].value,e.options[u].value==""&&(o=!0));typeof window.rdInputValueDelimiter=="undefined"&&(window.rdInputValueDelimiter=",");var n=s.join(rdInputValueDelimiter);if(n.length>0||o==1)return t?"&"+e.name+"="+rdAjaxEncodeValue(n):n;break;case"checkbox":if(Y.Lang.isValue(Y.one("#"+e.id))&&Y.Lang.isValue(Y.one("#"+e.id).ancestor("div"))&&Y.one("#"+e.id).ancestor("div").getAttribute("data-checkboxlist")){var a=Y.one("#"+e.id).ancestor("div");return n=rdGetSelectedValuesFromCheckboxList(a.getAttribute("id")),t?"&"+a.getAttribute("id")+"="+rdAjaxEncodeValue(n):n}return n=rdGetSelectedValuesFromCheckboxList(e.id),t?"&"+e.id+"="+rdAjaxEncodeValue(n):n;case"radio":var f="rdRadioButtonGroup"+e.name;if(sPrevRadioId!=f){sPrevRadioId=f;var n=rdGetFormFieldValue(document.getElementById(f));return t?"&"+e.name+"="+rdAjaxEncodeValue(n):n}}}return""}function isIE(){var e=navigator.userAgent.toLowerCase();return e.indexOf("msie")!=-1?parseInt(e.split("msie")[1]):!1}function rdEnsureSeparateClosingTags(e){if(!e||!e.length)return e;var t=e.indexOf("/>");if(t<0)return e;var n,r,i,s="",o=e;while(t>=0){i=o.substr(0,t),r=i.lastIndexOf("<"),n=i.substr(r+1).trim();if(!n.length)return e;r=n.match(/\s/),r&&(n=n.substr(0,r.index)),n.indexOf("rd")==0||selfClosingTags.indexOf(n.toLowerCase())>=0?s+=i+"/>":s+=i+"></"+n+">",o=o.substr(t+2),t=o.indexOf("/>")}return s+o}function rdRemoveQueryStringParameter(e,t){if(!e||!t)return e;var n=e.indexOf("&"+t+"=");if(n<0){n=e.indexOf("?"+t+"=");if(n<0)return e}var r=e.indexOf("&",n+1);return r>=0?e.substr(0,n)+e.substr(r):e.substr(0,n)}function rdNestedConfirm(e){var t=document.getElementById("lblBookmarkCaption");if(t){if(!confirm('Duplicate "'+t.innerHTML+'"?'))return!1}else if(e&&e.length!=0&&!confirm(e))return!1;return!0}var req,sCurrentRequestParams="",bSubmitFormAfterAjax=!1,sPrevRadioId,handleSuccess=function(e,t,n){if(t.responseText!==undefined){rdUpdatePage(t.responseXML,t.responseText,n.skipPageLoadScripts);var r=arguments[arguments.length-1];typeof r=="function"&&r(t)}Y.Lang.isValue(n.timeoutID)&&n.timeoutID.clear()},handleFailure=function(e,t,n){t.responseText!=undefined&&t.responseText.length>0&&document.write(t.responseText),Y.Lang.isValue(n.timeoutID)&&n.timeoutID.clear()},bCurrentIFrameResized=!1,sFeedbackShowElementID,sFeedbackHideElementID,getElementsByClassName=function(e,t,n){return document.getElementsByClassName?getElementsByClassName=function(e,t,n){n=n||document;var r=n.getElementsByClassName(e),i=t?new RegExp("\\b"+t+"\\b","i"):null,s=[],o;for(var u=0,a=r.length;u<a;u+=1)14,o=r[u],15,(!i||i.test(o.nodeName))&&s.push(o);return s}:document.evaluate?getElementsByClassName=function(e,t,n){t=t||"*",n=n||document;var r=e.split(" "),i="",s="http://www.w3.org/1999/xhtml",o=document.documentElement.namespaceURI===s?s:null,u=[],a,f;for(var l=0,c=r.length;l<c;l+=1)i+="[contains(concat(' ', @class, ' '), ' "+r[l]+" ')]";try{a=document.evaluate(".//"+t+i,n,o,0,null)}catch(h){a=document.evaluate(".//"+t+i,n,null,0,null)}while(f=a.iterateNext())u.push(f);return u}:getElementsByClassName=function(e,t,n){t=t||"*",n=n||document;var r=e.split(" "),i=[],s=t==="*"&&n.all?n.all:n.getElementsByTagName(t),o,u=[],a;for(var f=0,l=r.length;f<l;f+=1)i.push(new RegExp("(^|\\s)"+r[f]+"(\\s|$)"));for(var c=0,h=s.length;c<h;c+=1){o=s[c],a=!1;for(var p=0,d=i.length;p<d;p+=1){a=i[p].test(o.className);if(!a)break}a&&u.push(o)}return u},getElementsByClassName(e,t,n)},selfClosingTags=["br","img","input","hr","area","base","col","command","embed","keygen","link","param","source","track","wbr","meta"];

/* 
* rdActionSubmit2.js 
*/
function SubmitForm(sPage,sTarget,bValidate,sConfirm,bFromOnClick,waitCfg,form){if(typeof bSubmitFormAfterAjax!="undefined"&&bSubmitFormAfterAjax){setTimeout(function(){SubmitForm(sPage,sTarget,bValidate,sConfirm,bFromOnClick,waitCfg,form)},1e3);return}if(bValidate=="true"){var sErrorMsg=rdValidateForm();if(sErrorMsg){alert(sErrorMsg);return}}if(sConfirm&&sConfirm.length!=0&&!confirm(sConfirm))return;form||(form=document.rdForm),sOldTarget=form.target,sTarget?form.target=sTarget:form.target="_self",document.createHiddenInput||(document.createHiddenInput=function(e,t,n){var r=document.createElement("INPUT");return r.type="HIDDEN",r.id=e,r.name=n||e,r.value=t,r});var aCheckBoxIds=new Array(0),aCheckBoxListIds=new Array(0),iOrigCount=form.elements.length;for(var i=0;i<form.elements.length;i++){var ele=form.elements[i];if(!ele.type)continue;if(ele.type=="hidden"&&ele.getAttribute("rdHiddenCreatedForUncheckedValue")){if(i<iOrigCount&&aCheckBoxIds.indexOf(ele.name)==-1){ele.parentNode.removeChild(ele),aCheckBoxIds.push(ele.name),i-=1,iOrigCount-=1;continue}}else if(ele.type=="checkbox"&&ele.getAttribute("rdUncheckedValue")){if(ele.checked==0&&ele.getAttribute("rdUncheckedValue")!="rdNotSent"){var hiddenCBV=document.createHiddenInput(ele.name,ele.getAttribute("rdUncheckedValue"));hiddenCBV.setAttribute("rdHiddenCreatedForUncheckedValue","true"),form.appendChild(hiddenCBV)}}else ele.type=="text"&&rdFixupInputs(ele)}var eleRemoved=new Array(0);if(sPage.search("rdRequestForwarding=Form")==-1)for(var i=form.elements.length-1;i>=0;i--){var eleForward=form.elements.item(i);eleForward.id=="rdHiddenRequestForwarding"?eleRemoved.push(eleForward.parentNode.removeChild(eleForward)):eleForward.id=="rdRnd"&&eleForward.parentNode.removeChild(eleForward)}else{var eleTextAreas=form.getElementsByTagName("TEXTAREA"),eleKeeped=new Map,eleInputs=form.getElementsByTagName("INPUT");for(var i=eleInputs.length-1;i>-1;i--){var eleInput=eleInputs[i];eleInput.type=="hidden"&&(eleInput.id=="rdRnd"?eleInput.parentNode.removeChild(eleInput):(sPage.indexOf("?"+eleInput.name+"=")!=-1||sPage.indexOf("&"+eleInput.name+"=")!=-1)&&eleRemoved.push(eleInput.parentNode.removeChild(eleInput)));if(eleInput.id=="rdHiddenRequestForwarding")if(!eleKeeped.has(eleInput.name))eleKeeped.set(eleInput.name,eleInput);else try{eleRemoved.push(eleInput.parentNode.removeChild(eleInput))}catch(e){}}for(var k=eleTextAreas.length-1;k>-1;k--)eleKeeped.has(eleTextAreas[k].name)&&(eleRemoved.push(eleInput.parentNode.removeChild(eleKeeped.get(eleTextAreas[k].name))),eleKeeped.set(eleTextAreas[k].name,eleTextAreas[k]))}sPage.indexOf("rdSubmitScroll")!=-1&&(sPage=sPage.replace("rdSubmitScroll","rdScrollX="+rdGetScroll("x")+"&rdScrollY="+rdGetScroll("y"))),typeof rdSaveInputCookies!="undefined"&&rdSaveInputCookies(),typeof rdSaveInputsToLocalStorage!="undefined"&&rdSaveInputsToLocalStorage();var hdnFileGuid=null;if(sPage.indexOf("javascript:")==0)sPage=sPage.replace("javascript:",""),eval(sPage);else{LogiXML.getUrlParameter(location.href,"rdForWizard")=="True"&&(sPage=LogiXML.setUrlParameter(sPage,"rdForWizard","True")),form.action=sPage;var hiddenRnd=document.createHiddenInput("rdRnd",Math.floor(Math.random()*1e5));form.appendChild(hiddenRnd),Y&&Y.LogiInfo&&Y.LogiInfo.AnalysisGrid&&Y.LogiInfo.AnalysisGrid.rdSaveColumnWidths&&Y.LogiInfo.AnalysisGrid.rdSaveColumnWidths();var isSelf=LogiXML.isSelfTarget(form.target);if(waitCfg!=null&&isSelf){Y.Cookie&&Y.Cookie.exists("rdFileDownloadComplete")&&Y.Cookie.remove("rdFileDownloadComplete",{path:"/"}),LogiXML.WaitPanel.pageWaitPanel.readyWait();var fileGuid=null;if(!document.cookie){var rdExportFilename=LogiXML.getUrlParameter(form.action,"rdExportFilename");rdExportFilename&&(fileGuid=LogiXML.getGuid(),hdnFileGuid=document.createHiddenInput("rdExportFileGuid",fileGuid),form.appendChild(hdnFileGuid))}document.getElementById("rdWait")?LogiXML.WaitPanel.pageWaitPanel.showWaitPanel(waitCfg,fileGuid):setTimeout(function(){LogiXML.WaitPanel.pageWaitPanel.showWaitPanel(this.waitCfg,this.fileGuid)}.bind({waitCfg:waitCfg,fileGuid:fileGuid}),500)}form.submit()}form.target=sOldTarget;while(eleRemoved.length!=0)form.appendChild(eleRemoved.pop());hdnFileGuid&&form.removeChild(hdnFileGuid)}function rdFixupInputs(e){switch(e.type){case"text":if(e.autocomplete){var t=e.getAttribute("data-delimiter");t&&t.length>0&&(e.value=e.value.split(t+" ").join(t),e.value.lastIndexOf(t)==e.value.length-1&&(e.value=e.value.substring(e.value,e.value.length-t.length)))}}}function SubmitSort(e,t,n,r){if(n.length!=0){nRowCnt=parseInt(t,10),nSortRowLimit=parseInt(n,10);if(nRowCnt>nSortRowLimit){alert(r);return}}SubmitForm(e,"")}function NavigateLink2(e,t,n,r,i,s,o){if(LogiXML.isFalseBlur())return!1;if(n=="true"){var u=rdValidateForm();if(u){alert(u);return}}if(i&&i.length!=0&&!confirm(i))return;if(e.toLowerCase().match(/^[a-z]+%3a/))try{e=decodeURIComponent(e)}catch(a){}if(e.toLowerCase().indexOf("javascript:")==0){var f=e.substr(11),l=new Function(f);l();return}e.substring(e.length-1,e.length)=="?"&&(e=e.substring(0,e.length-1)),e=replacePoundPatten(e),typeof rdSaveInputCookies!="undefined"&&rdSaveInputCookies(),typeof rdSaveInputsToLocalStorage!="undefined"&&rdSaveInputsToLocalStorage();switch(t){case"_parent":window.parent.location.href=e;break;case"_top":window.top.location.href=e;break;case"_modal":window.showModalDialog(e,"",r);break;case"":setTimeout(function(){window.location.assign(this.sUrl)}.bind({sUrl:e}),1),rdShowWaitPanel(s);break;default:if(t=="Debugger Trace"&&navigator.userAgent.toLowerCase().indexOf("chrome")==-1){var c=window.open("about:blank","Debugger Trace");c.close()}window.open(e,t,r)}}function LG_EscapeParamApostrophe(e){if(e.indexOf("rdAcUpdateControls")>1||e.indexOf("LogiXML")>=0||e.indexOf("\\")>=0)t=e;else var t=e.replace(/','/g,"^").replace(/',/g,"!!").replace(/\('/g,"~S").replace(/'\)/g,"~E").replace(/\['/g,"~P").replace(/'\]/g,"~Q").replace(/'/g,"\\'").replace(/\^/g,"','").replace(/!!/g,"',").replace(/~S/g,"('").replace(/~E/g,"')").replace(/~P/g,"['").replace(/~Q/g,"']");return t}function rdShowWaitPanel(e){if(e!=null){Y.Cookie&&Y.Cookie.exists("rdFileDownloadComplete")&&Y.Cookie.remove("rdFileDownloadComplete",{path:"/"});var t=NaN;Array.isArray(e)?e.length>3&&(t=parseInt(e[3])):t=parseInt(e.timeout),isNaN(t)&&(t=350),t<0&&(t=0),LogiXML.WaitPanel.pageWaitPanel.readyWait(),setTimeout(function(){LogiXML.WaitPanel.pageWaitPanel.showWaitPanel(e)},t)}}function rdHideWaitPanel(){LogiXML.WaitPanel.pageWaitPanel.hideWaitPanel()}function SubmitFormCrawlerFriendly(e,t,n,r){e=unescape(e),SubmitForm(e,t,n,r)}function NavigateCrawlerFriendly(e,t,n,r,i){e=unescape(e),NavigateLink2(e,t,n,r,i)}function rdBodyPressEnter(e,t){var n=document.getElementById(e);if(n){t||(t=window.event);var r=t.target||t.srcElement,i,s=!0;r&&(i=r.id),i&&i==e&&(s=!1),s==1&&n.click()}}function replacePoundPatten(e){if(e.indexOf("rdAllowAnchor=True")<0){var t=/\#/ig;e=e.replace(t,"%23")}else e=e.replace("?rdAllowAnchor=True","").replace("rdAllowAnchor=True","");return e};

/* 
* rdActionProcess.js 
*/
function RunProcess(e,t,n,r,i){if(t=="true"){var s=rdValidateForm();if(s){alert(s);return}}if(n&&n.length!=0&&!confirm(n))return;typeof rdSaveInputCookies!="undefined"&&rdSaveInputCookies(),typeof rdSaveInputsToLocalStorage!="undefined"&&rdSaveInputsToLocalStorage(),r?(sOldTarget=document.rdForm.target,document.rdForm.target=r):document.rdForm.target="_self";var o=document.getElementById("rdProcessAction");o&&o.parentNode.removeChild(o);var u=document.getElementsByTagName("INPUT"),a=document.getElementsByTagName("TEXTAREA");for(var f=u.length-1;f>-1;f--){var l=u[f];if(l.id=="rdHiddenRequestForwarding"){for(var c=u.length-1;c>-1;c--)if(c!=f&&u[c].name==l.name&&l.parentNode){l.parentNode.removeChild(l);break}if(l.parentNode)for(var c=a.length-1;c>-1;c--)if(a[c].name==l.name&&l.parentNode){l.parentNode.removeChild(l);break}}rdPrepCheckbox(l,!1),l.type=="text"&&rdFixupInputs(l)}o=document.createElement("INPUT"),o.type="HIDDEN",o.id="rdProcessAction",o.name="rdProcessAction",o.value=encodeURIComponent(e),document.rdForm.appendChild(o);var h=document.getElementById("rdRnd");h||(h=document.createElement("INPUT"),h.type="HIDDEN",h.id="rdRnd",h.name="rdRnd",document.rdForm.appendChild(h)),h.value=Math.floor(Math.random()*1e5);var p=document.getElementById("rdScrollX");p||(p=document.createElement("INPUT"),p.type="HIDDEN",p.id="rdScrollX",p.name="rdScrollX",document.rdForm.appendChild(p)),p.value=rdGetScroll("x");var d=document.getElementById("rdScrollY");d||(d=document.createElement("INPUT"),d.type="HIDDEN",d.id="rdScrollY",d.name="rdScrollY",document.rdForm.appendChild(d)),d.value=rdGetScroll("y");var v=0,m=LogiXML.isSelfTarget(r);if(m&&i&&i.async){var g=[];g.push({name:"X-Requested-With",value:"XMLHttpRequest"}),i.syncServer?document.rdForm.action="rdProcess.aspx?":document.rdForm.action="rdProcessAsync.aspx?",i.target=document.rdForm.target;var y,b;i.onSuccess?y=function(e){i.onSuccess.apply(this,arguments),rdProcessResponse(e,i,v)}:y=function(e){rdProcessResponse(e,i,v)},i.onFail?b=function(e){i.onFail.apply(this,arguments),rdProcessResponse(e,i,v)}:b=function(e){rdProcessResponse(e,i,v)},LogiXML.submitAsync(document.rdForm,y,b,g),rdUnPrepCheckboxes()}else document.rdForm.action="rdProcess.aspx?",document.rdForm.submit();document.rdForm.action="",m&&i!=null&&i.waitMessage!==!1&&LogiXML.WaitPanel.pageWaitPanel&&(LogiXML.WaitPanel.pageWaitPanel.readyWait(),v=setTimeout(function(){LogiXML.WaitPanel.pageWaitPanel.showWaitPanel(i)},500)),r&&(document.rdForm.target=sOldTarget)}function rdProcessResponse(xhr,waitCfg,showPanelTimeout){if(!xhr||!xhr.target){showPanelTimeout&&clearTimeout(showPanelTimeout);return}if(xhr.target.responseXML&&xhr.target.responseXML.documentElement){var redirect=xhr.target.responseXML.documentElement.getAttribute("RedirectLocation");if(!redirect){showPanelTimeout&&clearTimeout(showPanelTimeout);return}var sTarget=waitCfg?waitCfg.target:null;showPanelTimeout&&!LogiXML.isSelfTarget(sTarget)&&(clearTimeout(showPanelTimeout),showPanelTimeout=null,LogiXML.WaitPanel.pageWaitPanel&&(LogiXML.WaitPanel.pageWaitPanel.cancelWait(),LogiXML.WaitPanel.pageWaitPanel.hideWaitPanel()));var newWaitCfg=xhr.target.responseXML.documentElement.getAttribute("WaitConfig");newWaitCfg&&(newWaitCfg=eval("("+newWaitCfg+")"),newWaitCfg&&(!waitCfg||!newWaitCfg.isGlobal)&&(showPanelTimeout&&(clearTimeout(showPanelTimeout),showPanelTimeout=null),waitCfg=newWaitCfg));var form=document.createElement("FORM");document.body.appendChild(form),form.method=xhr.target.responseXML.documentElement.getAttribute("RedirectMethod");var i=redirect.indexOf("?");if(i>0){var parms=LogiXML.getUrlParameters(redirect);redirect=redirect.substr(0,i);var parsedLaterFromUrl=["rdReport","rdScrollX","rdScrollY"];for(i=0;i<parms.length;i++){var parm=parms[i];if(parsedLaterFromUrl.indexOf(parm.name)>=0)redirect.indexOf("?")>=0?redirect+="&":redirect+="?",redirect+=parm.name+"="+encodeURIComponent(parm.value);else{var inp=document.createElement("INPUT");inp.type="hidden",inp.name=parm.name,inp.value=parm.value,form.appendChild(inp)}}}SubmitForm(redirect,sTarget,null,null,null,waitCfg,form),form.parentNode.removeChild(form);return}if(xhr.target.responseText&&xhr.target.responseText.indexOf("<!DOCTYPE html")==0){var htmlObj=rdParseHtml(xhr.target.responseText);if(!htmlObj)return showPanelTimeout&&clearTimeout(showPanelTimeout),console.error(xhr.target.responseText);if(htmlObj.debugUrl&&htmlObj.debugUrl!=document.body.getAttribute("rdDebugUrl")){window.location.href=htmlObj.debugUrl;return}var oldPage={head:document.head.innerHTML,body:document.body.innerHTML,bodyattrs:[]};for(i=0;i<document.body.attributes.length;i++)oldPage.bodyattrs.push({name:document.body.attributes[i].name,value:document.body.attributes[i].value});history.pushState(oldPage,null),window.addEventListener("popstate",function(e){if(!e||!e.state||!e.state.hasOwnProperty("head")||!e.state.hasOwnProperty("body")||!e.state.hasOwnProperty("bodyattrs"))return;rdLoadHtml(e.state)}),rdLoadHtml(htmlObj)}showPanelTimeout&&clearTimeout(showPanelTimeout)}function rdParseHtml(e){var t=e.toLowerCase(),n="",r="",i=[],s=t.indexOf("<head");if(s<0)return null;var o=t.indexOf(">",s)+1;if(o<0)return null;s=t.indexOf("</head>",o),n=e.substr(o,s-o),s=t.indexOf("<body",s);if(s<0)return null;var u=t.indexOf(">",s)+1;if(u<0)return null;var a=u-s-6,f=null;if(a>1){var l=document.createElement("DIV");l.innerHTML="<div "+e.substr(s+5,a)+"></div>",l=l.childNodes[0];for(var c=0;c<l.attributes.length;c++){var h={name:l.attributes[c].name,value:l.attributes[c].value};h.value&&h.name.toLowerCase()=="rddebugurl"&&(s=window.location.href.toLowerCase().indexOf("/rdpage.aspx"),s>=0&&(f=window.location.href.substr(0,s),h.value.indexOf("/")!=0&&(f+="/"),f+=h.value)),i.push(h)}}return s=t.indexOf("</body>",u),r=e.substr(u,s-u),{head:n,body:r,bodyattrs:i,debugUrl:f}}function rdLoadHtml(e){var t=e.head,n=e.body,r=e.bodyattrs;document.head.innerHTML=t;while(document.body.attributes.length)document.body.removeAttribute(document.body.attributes[0].name);for(i=0;i<r.length;i++)document.body.setAttribute(r[i].name,r[i].value);document.body.innerHTML=n,LogiXML&&LogiXML.fireEvent&&(LogiXML.fireEvent(window.document,"DOMContentLoaded"),LogiXML.fireEvent(window.document.body,"load"))}function rdUnPrepCheckboxes(){var e=document.getElementsByTagName("INPUT");for(var t=0;t<e.length;t++)rdPrepCheckbox(e[t],!0)}function rdPrepCheckbox(e,t){if(e.type.toLowerCase()!="checkbox")return;var n=e.getAttribute("rdUncheckedValue");if(n&&n!="rdNotSent"){var r=e.id+"_rdHandleUnchecked",i=document.getElementById(r);e.checked||t?i&&(e.name=i.name,i.parentNode.removeChild(i)):i||(i=document.createElement("INPUT"),i.type="HIDDEN",i.id=r,i.value=n,i.name=e.name,e.name="",document.rdForm.appendChild(i))}};

/* 
* rdActionShowElement.js 
*/
function ShowOrHideCustomButtons(e,t){if(e){var n=document.querySelectorAll("#"+LogiXML.escapeSelector(e)+" .highcharts-button");for(var r=0;r<n.length;r++)n[r].getAttribute("collapsed-button")!="True"&&ShowElement(e,n[r],t?"Show":"Hide","")}}function ShowElement(e,t,n,r,i){var s=Y.one("#rdSaveASNew");s&&s.set("value","");if(t==null)return;if(t.tagName)rdShowSingleElement(t,n,r);else{var o=t.split(",");for(k=0;k<o.length;k++){var u=Y.Lang.trim(o[k]),a=n;u.split(":").length==2&&(a=u.split(":")[1],u=u.split(":")[0]);if(e)if(e.lastIndexOf("_CtCol")!=-1){var f=e.substr(e.lastIndexOf("_CtCol"));u.indexOf(f)==-1&&(u+=f)}else if(e.lastIndexOf("_Row")!=-1){var f=e.substr(e.lastIndexOf("_Row"));u.indexOf(f)==-1&&(u+=f)}var l=document.getElementById(u);l==null&&u.indexOf("_Row")!=-1&&(l=document.getElementById(u.substr(0,u.lastIndexOf("_Row"))),l==null&&u.indexOf("_CtCol")!=-1&&(l=document.getElementById(u.substr(0,u.lastIndexOf("_CtCol")))));if(l)if(t.indexOf("ppAddToDashboardPrompt_")==0){if(n.toLowerCase()!="hide"){var c=document.getElementById(t.replace("ppAddToDashboardPrompt_",""));if(c){var h=c.parentNode,p=h.id;p=p.replace("colAnalChartAddDashboard_","lblHeadingAnalChart_"),p=p.replace("colAnalCrosstabAddDashboard_","lblHeadingAnalCrosstab_"),p=p.replace("colAddToDashboardDataTable","lblHeadingTable"),p=p.replace("divAddToDashboardPanel_","lblHeadingAnalChart_");if(p.indexOf("lblHeading")!=-1){var d=document.getElementById(p);if(d){var v=d.innerHTML,m=t.replace("ppAddToDashboardPrompt_","rdPanelTitle_"),y=document.getElementById(m);y.value=v}}}}}else if(!t.match("PPDatePickerForInputDate")&&!t.match("PPTimePickerForInputTime"))l.getAttribute("rdPopupPanel")=="True"&&(rdParentPopupPanel=l);else{if(rdParentPopupPanel){var b=l.parentNode;if(b)while(b){if(b==rdParentPopupPanel){b.firstChild.id.match("rdPopupPanelTable")&&b.parentNode&&b.parentNode.appendChild(l);break}b=b.parentNode}}if(n.toLowerCase()!="hide"){var w=l.parentNode;while(w!=null){if(w.style&&w.style.display=="none"){w.parentNode.appendChild(l);break}w=w.parentNode}}}else try{window.parent&&window.parent!==window&&window.parent.ShowElement(e,t,n,r,i)}catch(E){}if(l!=null){if(rdParentPopupPanel!=null&&rdParentPopupPanel.getAttribute("id")==l.getAttribute("id")&&a.toLowerCase()=="hide")for(g=0;g<rdParentPopupPanel.parentNode.children.length;g++){var S=rdParentPopupPanel.parentNode.children[g];(S.id.match("PPDatePickerForInputDate")||S.id.match("PPTimePickerForInputTime"))&&rdShowSingleElement(S,a,S.id,r,i)}rdShowSingleElement(l,a,u,r,i),Y.Lang.isValue(Y.LogiXML)&&Y.Lang.isValue(Y.LogiXML.rdInputCheckList)&&l.id.indexOf("checkboxToggle")>0&&k==1&&rdSaveCheckboxListState(l)}}}typeof window.rdRepositionSliders!="undefined"&&rdRepositionSliders()}function rdShowPopup(e,t,n){var r=document.getElementById(e);if(!r)return;if(t){var i=r.getElementsByClassName("rdPopupPanelTitleCaption");i&&i.length&&(i[0].innerText=t)}if(n){var s=r.getElementsByClassName("rdPopupContent");if(s&&s.length){var o=s[0].getElementsByTagName("SPAN");o&&o.length&&(o[0].innerText=n)}}ShowElement(null,e,"Show",null)}function rdShowSingleElement(e,t,n,r,i){Y.Lang.isValue(LogiXML)?e.getAttribute("rdPopupPanel")=="True"&&!Y.Lang.isValue(LogiXML.PopupPanel.rdShowPopupPanel)?setTimeout(function(){rdShowSingleElement(e,t,n,r,i)},100):_rdShowSingleElement(e,t,n,r,i):setTimeout(function(){rdShowSingleElement(e,t,n,r,i)},100)}function _rdShowSingleElement(e,t,n,r,i){e.nodeName=="COL"&&navigator.product=="Gecko"&&navigator.productSub&&navigator.productSub>"20041010"&&(navigator.userAgent.indexOf("rv:1.8")!=-1||navigator.userAgent.indexOf("rv:1.9")!=-1)?(e.style.display="",t=="Show"?e.style.visibility="":t=="Hide"?e.style.visibility="collapse":e.style.visibility=e.style.visibility==""?"collapse":""):t=="Show"?e.style.display="":t=="Hide"?e.style.display="none":e.style.display=e.style.display==""?"none":"";if(n&&e.getAttribute("id")!="popupFilter"&&e.getAttribute("rdNoElementShowHistory")!="True"){var s=window;while(s)try{var o=s.document.getElementById("rdShowElementHistory");if(o){var u=n+"=Hide,";o.value=o.value.replace(u,""),u=n+"=Show,",o.value=o.value.replace(u,""),o.value=o.value+n+"="+(e.style.display==""?"Show":"Hide")+","}try{s.frameElement?s=s.parent:s=null}catch(a){s=null}finally{}}catch(a){s=null}finally{}}if(e.style.display!="none"){(r=="FadeIn"||typeof rdUseFadeIn!="undefined")&&rdFadeElementIn(e,250),Y.each(Y.one(e).all("rdiframe"),function(e){if(LogiXML.isNodeVisible(e)){var t=e.getData("hiddensource");Y.Lang.isValue(t)&&rdConvertRdIFrame(e.getDOMNode())}}),Y.each(Y.one(e).all("iframe"),function(e){if(LogiXML.isNodeVisible(e)){var t=e.getData("hiddensource");if(Y.Lang.isValue(t)&&rdIFrameChanged(e,t)){try{e._node.contentDocument.body.innerHTML=""}catch(n){}var r=!1;Y.Lang.isValue(LogiXML.WaitPanel.pageWaitPanel)&&(r=LogiXML.WaitPanel.pageWaitPanel.showFrameWait(e)),r||rdPostToIFrame(e,t)}iframeResize&&iframeResize(e._node)}}),e.getAttribute("rdPopupPanel")=="True"&&(LogiXML.PopupPanel.rdShowPopupPanel(e),rdRepositionPopupPanel&&rdRepositionPopupPanel(e,e.offsetHeight,e.offsetWidth,1));if(n.indexOf("Bookmark")!=-1){var f=n.lastIndexOf("_Row");if(f!=-1){var l=n.substr(f),c=document.getElementById("txtEditBookmarkDescription"+l);if(c)try{c.focus(),c.focus()}catch(a){}}}Y.Lang.isValue(Y.rdSlider)&&rdShowHiddenInputSliders(e)}else e.getAttribute("rdPopupPanel")=="True"&&(rdHidePopupPanelAndModalShade(e),Y.one("body").detach("keydown",rdHandlePopupKeyDown));var h=!1;i&&i=="true"&&(h=!0),h==0&&(e.style.display=="none"?rdResizeCurrentIFrame("OptionalParam"):rdResizeCurrentIFrame()),e.getAttribute("rdPopupPanel")!="True"&&Y.each(Y.one(e).all(".rdChartCanvas"),function(e){Y.LogiXML.ChartCanvas.reflowChart(e)})}function rdConvertRdIFrame(e){if(e.tagName!="RDIFRAME")return;var t=document.createElement("IFRAME"),n;for(var r=0;r<e.attributes.length;r++)n=e.attributes[r],t.setAttribute(n.name,n.value);var i=t.getAttribute("name"),s=i+"_"+Math.trunc(Math.random()*1e5);t.setAttribute("name",s),e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e)}function rdPostToIFrame(e,t){var n=e.getAttribute("name"),r=document.getElementsByTagName("form"),i=null;for(var s=0;s<r.length;s++){i=r[s];if(i.target==n)break;i=null}i?i.innerHTML="":(i=document.createElement("form"),i.target=n,i.style.display="none",document.body.appendChild(i)),i.method="post";var s=t.indexOf("?");if(s>0){i.action=t.substr(0,s);var o=LogiXML.getUrlParameters(t);if(o&&o.length)for(s=0;s<o.length;s++){var u=o[s],a=document.createElement("input");a.type="hidden",a.name=u.name,"value"in u?a.value=u.value:a.value="",i.appendChild(a)}}else i.action=t;var f=e;setTimeout(function(){f.removeAttribute("rdWaitingForSubmit"),i.submit()},1)}function rdIFrameChanged(e,t){var n=e._node.contentDocument||e._node.contentWindow.document;if(n)if(!n.body||n.body.innerHTML=="")return!0;var r=e.getAttribute("name"),i=document.getElementsByTagName("form"),s=null;for(var o=0;o<i.length;o++){s=i[o];if(s.target==r)break;s=null}if(!s)return!0;if(s.method!="post")return!0;var o=t.indexOf("?"),u=s.getElementsByTagName("input");if(o>=0&&o<t.length-1){var a=t.substr(o+1).split("&");if(a.length!=u.length)return!0;for(var f=0;f<a.length;f++){var l=a[f],c=l.split("=");if(c[0]=="rdRnd")return!0;var h=!1;for(var p=0;p<u.length;p++){var d=u[p];if(d.name==c[0]){if(d.value!=decodeURIComponent(c[1]))return!0;h=!0;break}}if(!h)return!0}}else if(u.length)return!0;return!1}function rdShowElementsFromHistory(){var e=document.getElementById("rdShowElementHistory");if(e){var t=e.value,n=t.split(","),r,i,s;for(var o=0;o<n.length;o++){r=n[o].split("="),i=r[0];if(!i)continue;s=document.getElementById(i),s&&s.className.indexOf("rdDataCalendarPopUp")==-1&&ShowElement(null,i,r[1])}e.value=t}}function rdColumnDisplayVisibility(){if(navigator.product=="Gecko"&&navigator.productSub&&navigator.productSub>"20041010"&&(navigator.userAgent.indexOf("rv:1.8")!=-1||navigator.userAgent.indexOf("rv:1.9")!=-1)){var e=document.getElementsByTagName("COL");for(var t=0;t<e.length;t++)e[t].style.display=="none"&&(e[t].style.display=null,e[t].style.visibility="collapse")}}function rdFadeElementIn(e,t){var n=Y.one(e);n.setStyle("opacity","0"),n.show(),n.transition({duration:t/1e3,opacity:{value:1,easing:"ease-in"}})}function rdFadeElementOut(e,t){var n=Y.one(e);n.transition({duration:t/1e3,opacity:{value:0,easing:"ease-in"}},function(){this.hide()})}function rdFindPosX(e){var t=0;if(e)if(e.offsetParent)for(;;){t+=e.offsetLeft;if(!e.offsetParent)break;e=e.offsetParent}else e.x&&(t+=e.x);return t}function rdFindPosY(e){var t=0;if(e)if(e.offsetParent)for(;;){t+=e.offsetTop;if(!e.offsetParent)break;e=e.offsetParent}else e.y&&(t+=e.y);return t}function rdSaveCheckboxListState(e){var t=e.parentNode.parentNode.nextSibling,n=t.id.split("_rdList")[0],r=document.getElementById(n+"_rdExpandedCollapsedHistory"),i=","+t.id+":expanded";r.value=r.value.replace(i,""),i=","+t.id+":collapsed",r.value=r.value.replace(i,"");if(t.getAttribute("rdExpanded")=="true"){var n=t.id.split("_")[0];r.value=r.value+","+t.id+":collapsed",t.setAttribute("rdExpanded","false")}else{var n=t.id.split("_")[0];r.value=r.value+","+t.id+":expanded",t.setAttribute("rdExpanded","true")}Y.LogiXML.rdInputCheckList.prototype.expandCollapseChildren(t)}function rdAddCssClass(e,t){if(!e||!t)return!1;var n=e.className.split(" ");if(!n||!n.length)e.className=t;else{var r=!1,i=[],s;for(var o=0;o<n.length;o++)s=n[o],s&&(i.push(s),s===t&&(r=!0));r||(i.push(t),e.className=i.join(" "))}return!0}function rdRemoveCssClass(e,t){if(!e||!t)return!0;var n=e.className.split(" ");if(!n||!n.length)return!0;var r=[],i;for(var s=0;s<n.length;s++)i=n[s],i&&i!==t&&r.push(i);return e.className=r.join(" "),!0}var rdParentPopupPanel;

/* 
* rdChart.js 
*/
function rdChartLoad(e){var t=Y.one(e),n=t.get("src");if(n.indexOf("rd1x1Trans.gif")!=-1){t.hasClass("autoSize")?(n=n.replace("rdTemplate/rd1x1Trans.gif","rdTemplate/rdChart2.aspx"),n=n+"&rdResizeWidth="+t.get("clientWidth"),t.setStyle("width",t.get("clientWidth")+"px"),t.removeAttribute("width"),t.removeAttribute("height"),t.set("src",n)):Y.Lang.isValue(Y.Selector.ancestor(e,".rdDashboardPanel"))&&(n=n.replace("rdTemplate/rd1x1Trans.gif","rdTemplate/rdChart2.aspx"),t.removeAttribute("width"),t.removeAttribute("height"),t.set("src",n));return}if(n.indexOf("rdDrillDownID=")!=-1){var r=e.src;r=r.substring(r.indexOf("rdDrillDownID=")+14),r=r.substring(0,r.indexOf("&")),LogiXML.rd.downloadImageMap(r)}n.indexOf("rdResizer=")!=-1&&rdInitResizer(e),e.style.backgroundImage=""}function findAncestorByIdPrefix(e,t){while(t.parentNode){t=t.parentNode;if(t.id&&t.id.indexOf(e)==0)return t}return null}function rdChartError(e){if(e.parentNode&&e.parentNode.tagName!="A"){parentChart=e.parentNode;var t=document.createElement("A");t.href=e.src+"&rdChartDebug=True";var n=document.createElement("IMG");n.src="rdTemplate/rdChartError.gif",t.appendChild(n),parentChart.appendChild(t),parentChart.removeChild(e)}}LogiXML.rd.downloadImageMap=function(e,t){var n="rdTemplate/rdChart2.aspx",r={method:"GET",data:"rdDrillDownID="+e+"&"+Math.floor(Math.random()*1e5),on:{success:LogiXML.rd.attachImageMap,failure:function(e,n,r){t!==!0&&n.readyState===4&&n.responseXML==null&&Y.UA.safari>0&&LogiXML.rd.downloadImageMap(r.success,!0),t=null}},arguments:{success:e}};Y.io(n,r)},LogiXML.rd.attachImageMap=function(e,t,n){if(t.responseText){var r=Y,i=t.responseText,s=i.substring(i.indexOf("<map"),i.indexOf("</html>")),o=r.one(document.body),u=n.success,a=r.one("map[name="+u+"]"),f=r.one("img[usemap=#"+u+"]");if(f==null)return;a&&(f.removeAttribute("usemap"),a.remove()),a=r.Node.create(s),o.append(a),f.setAttribute("usemap","#"+u)}};

/* 
* rdResizer.js 
*/
//General resize yui namespace
function rdInitResizer(e){Y.Lang.isValue(LogiXML.Resize._rdInitResizer)?LogiXML.Resize._rdInitResizer(e):setTimeout(function(){rdInitResizer(e)},100)}function rdInitAnimatedChartResizer(e,t,n,r,i,s,o,u){Y.Lang.isValue(LogiXML.Resize._rdInitAnimatedChartResizer)?LogiXML.Resize._rdInitAnimatedChartResizer(e,t,n,r,i,s,o,u):setTimeout(function(){rdInitAnimatedChartResizer(e,t,n,r,i,s,o,u)},200)}function rdInitAppletResizer(e,t){Y.Lang.isValue(LogiXML.Resize._rdInitAppletResizer)?LogiXML.Resize._rdInitAppletResizer(e,t):setTimeout(function(){rdInitAppletResizer(e,t)},100)}function rdInitAnimatedMapResizer(e,t,n,r,i){Y.Lang.isValue(LogiXML.Resize._rdInitAnimatedMapResizer)?LogiXML.Resize._rdInitAnimatedMapResizer(e,t,n,r,i):setTimeout(function(){rdInitAnimatedMapResizer(e,t,n,r,i)},100)}function rdInitGoogleMapsResizer(e,t){Y.Lang.isValue(LogiXML.Resize._rdInitGoogleMapsResizer)?LogiXML.Resize._rdInitGoogleMapsResizer(e,t):setTimeout(function(){rdInitGoogleMapsResizer(e,t)},100)}function rdInitHighChartsResizer(e){Y.Lang.isValue(LogiXML.Resize._rdInitHighChartsResizer)?LogiXML.Resize._rdInitHighChartsResizer(e):setTimeout(function(){rdInitHighChartsResizer(e)},100)}function rdInitVisualizationResizer(e){Y.Lang.isValue(LogiXML.Resize._rdInitVisualizationResizer)?LogiXML.Resize._rdInitVisualizationResizer(e):setTimeout(function(){rdInitVisualizationResizer(e)},100)}function rdRerenderAnimatedChart(e,t){var n=Y.Lang.trim,r=e.substring(e.indexOf("new FusionCharts("),e.lastIndexOf("rdAnimatedChart.setDataURL")),i=new RegExp("'|\\\\|\"","g");r=r.replace(i,"");var s=r.split(","),o=n(s[0].substring(s[0].indexOf("rdTemplate"),s[0].length)),u=n(s[1]),a=n(s[2]),f=n(s[3]),l=e.substring(e.indexOf("setDataURL("),e.indexOf("rdAnimatedChart.render")).replace(i,""),c=n(l.substring(l.indexOf("(")+1,l.lastIndexOf(")")));if(t.id.indexOf("_")!=-1&&t.id.substring(t.id.lastIndexOf("_"),t.id.length).length>32){var h=t.id.substring(t.id.indexOf("rdAnimatedChart")+15,t.id.lastIndexOf("_")),p=t.id.substring(t.id.lastIndexOf("_"),t.id.length).substring(0,33),d=document.getElementById("rdResizerAttrs_"+u);d.setAttribute("id","rdResizerAttrs_"+u);var v=document.getElementById(u+"-"+"Hidden");v.setAttribute("id",u+"-Hidden")}t.style.width&&(a=t.style.width.split("px")[0]),t.style.height&&(f=t.style.height.split("px")[0]);var m=FusionCharts(u);Y.Lang.isValue(m)&&FusionCharts(u).dispose(),Y.on("domready",function(e){var t=new FusionCharts(o,u,a,f,"0","0");t.setDataURL(c),t.render("rdAnimatedChart"+u)})}function rdRerenderAnimatedMap(e,t){var n=Y.Lang.trim,r=e.substring(e.indexOf("new FusionMaps("),e.lastIndexOf("map.setDataURL")),i=new RegExp("'|\\\\|\"","g");r=r.replace(i,"");var s=r.split(","),o=n(s[0].substring(s[0].indexOf("rdTemplate"),s[0].length)),u=n(s[1]),a=n(s[2]),f=n(s[3]),l=e.substring(e.indexOf("setDataURL("),e.indexOf("map.render")).replace(i,""),c=n(l.substring(l.indexOf("(")+1,l.lastIndexOf(")")));t.setAttribute("id","rdFusionMap"+u),typeof FusionCharts!="undefined"&&FusionCharts.setCurrentRenderer("flash");var h=new FusionMaps(o,u,a,f,"0","0");h.setDataURL(c),h.render("rdFusionMap"+u)}YUI.add("rdResize",function(e){e.namespace("rdResize").AddYUIResizerHandles=function(t,n){t=t.replace(/\./g,"\\.");var r=!1;t.indexOf("rdDashboardPanel-")==0&&(r=!0);var i,s=e.one("#"+LogiXML.escapeSelector(t)),o={node:s},u=n.getAttribute("rdHeightOnly")=="True",a=n.getAttribute("rdWidthOnly")=="True";r?e.mix(o,{handles:"l,bl,b,br,r"}):u?e.mix(o,{wrap:!0,handles:"b"}):a?e.mix(o,{wrap:!0,handles:"r"}):e.mix(o,{wrap:!0,handles:"b,br,r"});var f,l,c=!1;if(s.get("tagName")==="IMG"&&s.get("width")===0&&s.get("height")===0){var f,l;f=s.get("parentNode"),s.setStyles({left:"-999px",top:"0px",position:"fixed"}),e.one("body").appendChild(s),c=!0}if(r)LogiXML.features.touch||e.mix(o,{autoHide:!0}),i=new e.Resize(o),i.plug(e.Plugin.ResizeConstrained,{minWidth:200,minHeight:100,tickX:10,tickY:10});else{i=new e.LogiXML.ChartFX.Resize(o);if(!LogiXML.features.touch){var h=i.get("wrapper"),p=h.one(".yui3-resize-handles-wrapper");p&&p.setStyle("visibility","hidden"),h.on("mouseenter",function(e){p&&p.setStyle("visibility","visible")}),h.on("mouseleave",function(t){e.Lang.isValue(t.currentTarget)&&!t.currentTarget.inRegion({top:t.pageY,right:t.pageX,bottom:t.pageY,left:t.pageX})&&p&&p.setStyle("visibility","hidden")})}}return c&&(l=s.get("parentNode"),l.setStyles({left:"",top:"",position:"relative"}),f.insert(l)),i.addTarget(s),(n.getAttribute("rdMinWidth")||n.getAttribute("rdMinHeight")||n.getAttribute("rdMaxWidth")||n.getAttribute("rdMaxHeight"))&&i.plug(e.Plugin.ResizeConstrained,{minWidth:parseInt(n.getAttribute("rdMinWidth")),minHeight:parseInt(n.getAttribute("rdMinHeight")),maxWidth:parseInt(n.getAttribute("rdMaxWidth")),maxHeight:parseInt(n.getAttribute("rdMaxHeight"))}),i}},"10.1.100",{requires:["base","resize","stylesheet","event-custom","chartfx-resize"]}),Y.use("rdResize",function(e){LogiXML.Resize._rdInitResizer=function(t){var n=e.one(t),r=t.id;r.lastIndexOf("_Row")!=-1&&(r=r.substr(0,r.lastIndexOf("_Row")));if(n.hasClass("yui3-resize"))return;var i=document.getElementById("rdResizerAttrs_"+r);if(!e.Lang.isValue(i))return;t.removeAttribute("Height"),t.removeAttribute("Width");var s=e.rdResize.AddYUIResizerHandles(t.id,i);s.on("resize:end",function(e){t=document.getElementById(t.id);var n=t.src;if(n.indexOf("rdChart2.aspx")!=-1){n.indexOf("&rdResizerNewWidth=")!=-1&&(n=n.substr(0,n.indexOf("&rdResizerNewWidth=")));var r=t.style&&t.style.width?t.style.width:t.width;r=r.replace("px","");var i=t.style&&t.style.height?t.style.height:t.height;i=i.replace("px",""),n+="&rdResizerNewWidth="+r+"&rdResizerNewHeight="+i,document.rdForm&&document.rdForm.rdAgId&&(n+="&rdAgId="+document.rdForm.rdAgId.value),t.src=n+"&rdRequestForwarding=Form"}s.set("resizing",!1),document.rdForm&&document.rdForm.rdOgId&&rdAjaxRequest("rdAjaxCommand=rdAjaxNotify&rdOgId="+document.rdForm.rdOgId.value+"&rdNotifyCommand=SaveOgChartSize&ChartWidth="+t.width+"&ChartHeight="+t.height)})},LogiXML.Resize._rdInitAnimatedChartResizer=function(t,n,r,i,s,o,u,a){var f=document.getElementById(n);e.Lang.isValue(u)||(u=parseInt(f.offsetWidth==0?f.getAttribute("Width"):f.offsetWidth),a=parseInt(f.offsetHeight==0?f.getAttribute("Height"):f.offsetHeight));var l=document.getElementById("rdAnimatedChart"+n);if(FusionCharts.getCurrentRenderer()=="javascript"){var c=u+5,h=a+5;l.style.width=parseInt(u,10)+5,l.style.height=parseInt(a,10)+5}else l.style.width=parseInt(u,10)+5,l.style.height=parseInt(a,10)+5,l.src="javascript:void(0)";var p=document.getElementById("rdResizerAttrs_"+n);if(!e.Lang.isValue(p))return;try{var d=document.getElementById(n+"-Hidden").value}catch(v){if(!d){var m=l.parentNode.id.substring(l.parentNode.id.lastIndexOf("_"),l.parentNode.id.length);d=document.getElementById(n+"-Hidden"+m).value}}l.className.indexOf("yui3-resize")>=0&&l.nextSibling.className.indexOf("yui3-resize-handles-wrapper")>=0&&l.nextSibling.parentNode.removeChild(l.nextSibling);var g=e.rdResize.AddYUIResizerHandles(l.id,p);g.get("wrapper").setStyles({width:u,height:a}),g.on("resize:end",function(e){var t=e.target.get("node").one("embed, object, span").getDOMNode();if(l.style.width!=u|l.style.height!=a){var r=parseInt(e.target.get("wrapper").getStyle("width")),s=parseInt(e.target.get("wrapper").getStyle("height"));this.reset();var o=FusionCharts(n);parseInt(o.width,10)==r&&parseInt(o.height,10)==s?(document.getElementById("rdAnimatedChart"+n).style.opacity="1.0",document.getElementById("rdAnimatedChart"+n).style.visibility="visible",document.getElementById(n).style.visibility="visible",document.getElementById(n).style.opacity="1.0"):(o.width=r,o.height=s,o.args.swfUrl.indexOf("StackedColumn")>=0?(o.setChartAttribute("animation","0"),o.render()):o.resizeTo(r,s),rdAjaxRequest("rdAjaxCommand=RefreshElement&rdRefreshElementID="+i+","+n+","+l.id+"&rdAnimatedChartCurrentWidth="+r+"&rdAnimatedChartCurrentHeight="+s+"&rdCurrentAnimatedChartId="+n+"&rdReport="+d+"&rdAnimatedChartResizerRefresh=True&rdRequestForwarding=Form"))}}),g.on("resize:start",function(e){var t=e.target.get("node").one("embed, object, span").getDOMNode();t.style.visibility="hidden",t.style.opacity="0"}),e.on("domready",function(e){o!="flash"&&FusionCharts.setCurrentRenderer("javascript"),(navigator.userAgent.indexOf("MSIE 8.0")>0||navigator.userAgent.indexOf("MSIE 7.0")>0)&&FusionCharts.setCurrentRenderer("flash");var i=new FusionCharts({swfUrl:"rdTemplate/rdAnimatedChart/"+t+".swf",renderAt:"rdAnimatedChart"+n,width:u,height:a,id:n});i.setDataURL(r),i.render()})},LogiXML.Resize._rdInitAnimated_ChartResizer=function(t,n,r,i,s,o,u,a){var f=document.getElementById(n);if(!f)return;var l=f.childNodes,c=l[0];e.Lang.isValue(u)||(u=parseInt(f.offsetWidth==0?f.getAttribute("Width"):f.offsetWidth),a=parseInt(f.offsetHeight==0?f.getAttribute("Height"):f.offsetHeight));var h=document.getElementById("rdAnimatedChart"+n),p=h.parentNode;if(!(f.tagName.match("OBJECT")||f.tagName.match("EMBED")||f.tagName.match("SPAN")||f.tagName.match("DIV")))return;if(o=="javascript"){var d=u+5,v=a+5;c.setAttribute("width",d),c.setAttribute("height",v),p.style.width=u+5,p.style.height=a+5}else h.style.width=u+5,h.style.height=a+5,h.src="javascript:void(0)";var m=document.getElementById("rdResizerAttrs_"+n);if(!e.Lang.isValue(m))return;try{var g=document.getElementById(n+"-Hidden").value}catch(y){if(!g){var b=h.parentNode.id.substring(h.parentNode.id.lastIndexOf("_"),h.parentNode.id.length);g=document.getElementById(n+"-Hidden"+b).value}}if(h.className.indexOf("yui3-resize")==0)return;var w=e.rdResize.AddYUIResizerHandles(h.id,m);w.get("wrapper").setStyles({width:u,height:a}),w.on("resize:end",function(e){var t=e.target.get("node").one("embed, object, span").getDOMNode();if(h.style.width!=u|h.style.height!=a){var r=parseInt(e.target.get("wrapper").getStyle("width")),s=parseInt(e.target.get("wrapper").getStyle("height"));this.reset();var o=FusionCharts(n);o.width=r,o.height=s,o.resizeTo(r,s),rdAjaxRequest("rdAjaxCommand=RefreshElement&rdRefreshElementID="+i+","+n+","+h.id+"&rdAnimatedChartCurrentWidth="+r+"&rdAnimatedChartCurrentHeight="+s+"&rdCurrentAnimatedChartId="+n+"&rdReport="+g+"&rdAnimatedChartResizerRefresh=True&rdRequestForwarding=Form")}}),w.on("resize:start",function(e){var t=e.target.get("node").one("embed, object, span").getDOMNode();t.style.visibility="hidden"})},LogiXML.Resize._rdInitAppletResizer=function(t,n){var r=document.getElementById(t);if(!r)return;var i=parseInt(r.offsetWidth==0?r.getAttribute("Width"):r.offsetWidth),s=parseInt(r.offsetHeight==0?r.getAttribute("Height"):r.offsetHeight),o=document.getElementById("Applet_"+t);if(!r.tagName.match("APPLET")&&!r.tagName.match("OBJECT"))return;if(!o){o=document.createElement("Div"),o.setAttribute("id","Applet_"+t);var u=r.parentNode;r.parentNode.removeChild(r),u.appendChild(o),o.appendChild(r)}o.src="javascript:void(0)";var a=document.getElementById("rdResizerAttrs_"+t);if(!e.Lang.isValue(a))return;try{var f=document.getElementById(t+"-Hidden").value}catch(l){if(!f){var c=o.parentNode.id.substring(o.parentNode.id.lastIndexOf("_"),o.parentNode.id.length);f=document.getElementById(t+"-Hidden"+c).value}}t.substring(t.lastIndexOf("_"),t.length).length>32&&(t=t.substring(0,t.lastIndexOf("_")));if(o.className.indexOf("yui3-resize")==0)return;var h=e.rdResize.AddYUIResizerHandles(o.id,a);h.get("wrapper").setStyles({padding:"10",width:r.width,height:r.height}),h.on("resize:end",function(e){r&&(o.style.backgroundColor="transparent",r.style.visibility="");if(o.offsetWidth!=r.offsetWidth|o.offsetHeight!=r.offsetHeight){var n=parseInt(e.target.get("wrapper").getStyle("width")),i=parseInt(e.target.get("wrapper").getStyle("height"));r.width=n,r.height=i,rdAjaxRequest("rdAjaxCommand=RefreshElement&rdRefreshElementID="+t+"&rdAppletCurrentWidth="+n+"&rdAppletCurrentHeight="+i+"&rdAppletId="+t+"&rdReport="+f+"&rdAppletResizerRefresh=True&rdRequestForwarding=Form")}}),h.on("resize:start",function(e){o.style.backgroundColor=n,r.style.visibility="hidden"})},LogiXML.Resize._rdInitAnimatedMapResizer=function(t,n,r,i,s){var o=document.getElementById(n);if(!o)return;var u=parseInt(o.offsetWidth==0?o.getAttribute("Width"):o.offsetWidth),a=parseInt(o.offsetHeight==0?o.getAttribute("Height"):o.offsetHeight),f=document.getElementById("rdFusionMap"+n);if(!(o.tagName.match("OBJECT")||o.tagName.match("EMBED")||o.tagName.match("SPAN")))return;if(!f){var f=document.createElement("Div");f.setAttribute("id","rdFusionMap"+i);var l=o.parentNode;o.parentNode.removeChild(o),l.appendChild(f),f.appendChild(o)}f.src="javascript:void(0)";var c=document.getElementById("rdResizerAttrs_"+i);if(!e.Lang.isValue(c))return;try{var h=document.getElementById(i+"-Hidden").value}catch(p){if(!h)var d=f.parentNode.id.substring(f.parentNode.id.lastIndexOf("_"),f.parentNode.id.length),h=document.getElementById(i+"-Hidden").value}if(f.className.indexOf("yui3-resize")==0)return;var v=e.rdResize.AddYUIResizerHandles(f.id,c);v.get("wrapper").setStyles({margin:"0 auto",padding:"10",width:o.width,height:o.height}),v.on("resize:end",function(e){var t=e.target.get("node").one("embed, object, span").getDOMNode();t&&(f.style.backgroundColor="transparent",t.style.visibility="");if(f.style.width!=u|f.style.height!=a){var r=parseInt(e.target.get("wrapper").getStyle("width"))-20,s=parseInt(e.target.get("wrapper").getStyle("height"));t.parentNode.removeChild(t),rdAjaxRequest("rdAjaxCommand=RefreshElement&rdRefreshElementID="+i+","+n+","+f.id+"&rdAnimatedMapCurrentWidth="+r+"&rdAnimatedMapCurrentHeight="+s+"&rdCurrentAnimatedMapId="+i+"&rdReport="+h+"&rdAnimatedMapResizerRefresh=True")}}),v.on("resize:start",function(e){var t=e.target.get("node").one("embed, object, span").getDOMNode();t.style.visibility="hidden"}),v.on("resize:resize",function(e){f.style.backgroundColor=s})},LogiXML.Resize.rdInitMapResizer=function(t,n){if(typeof n=="undefined"||!n)return;var r="rdMapContainer_"+t,i=document.getElementById(t);if(!i)return;var s=document.getElementById(r);if(!s)return;var o=document.getElementById("rdResizerAttrs_"+t);if(!e.Lang.isValue(o))return;if(s.className.indexOf("yui3-resize")==0)return;var u=i.getAttribute("data-pcslegends");u?u=u.split(","):u=[];var a=[];for(var f=0;f<u.length;f++){var l=document.getElementById("rdLegendSpectrum_rdColorSpectrumLegend_"+u[f]);l&&a.push(l)}var c=document.getElementById("rdLegendSpectrum_rdColorSpectrumLegend_spectrumPopulation"),h=document.getElementById(t+"-Hidden").value,p=e.rdResize.AddYUIResizerHandles(r,o);p.on("resize:end",function(){(s.offsetWidth!=i.offsetWidth||s.offsetHeight!=i.offsetHeight)&&rdAjaxRequest("rdAjaxCommand=RefreshElement&rdRefreshElementID="+encodeURIComponent(t+","+r)+"&rdGoogleMapCurrentWidth="+i.offsetWidth+"&rdGoogleMapCurrentHeight="+i.offsetHeight+"&rdGoogleMapId="+encodeURIComponent(t)+"&rdReport="+encodeURIComponent(h)+"&rdGoogleMapResizerRefresh=True"+"&rdRequestForwarding=Form")}),p.on("resize:start",function(){center=n.getCenter()}),p.on("resize:resize",function(){var e=parseInt(s.offsetWidth),t=parseInt(s.offsetHeight);i.style.width=e-5+"px",i.style.height=t-5+"px";for(var r=0;r<a.length;r++)a[r].style.width=e-7+"px";n.setCenter(center),n.resized()})},LogiXML.Resize._rdInitCustomResizer=function(t){var n=e.one(t),r=n.getAttribute("id");sIdForAttrs=r,sIdForAttrs.lastIndexOf("_Row")!=-1&&(sIdForAttrs=sIdForAttrs.substr(0,sIdForAttrs.lastIndexOf("_Row")));if(n.hasClass("yui3-resize"))return;var i=document.getElementById("rdResizerAttrs_"+sIdForAttrs);if(!e.Lang.isValue(i))return;return n.removeAttribute("Height"),n.removeAttribute("Width"),e.rdResize.AddYUIResizerHandles(r,i)},LogiXML.Resize._rdInitHighChartsResizer=function(t){var n=e.one(t),r=t.id,i=t.getAttribute("Width"),s=t.getAttribute("Height"),o=0;if(i==null||s==null){var u=n.getStyle("width"),a=n.getStyle("height");u!=null&&a!=null&&(i=parseInt(u.replace("px","")),s=parseInt(a.replace("px","")))}r.lastIndexOf("_Row")!=-1&&(r=r.substr(0,r.lastIndexOf("_Row")));if(n.hasClass("yui3-resize"))return;var f=document.getElementById("rdResizerAttrs_"+r);if(!e.Lang.isValue(f))return;var l=f.getAttribute("rdHeightOnly")=="True",c=f.getAttribute("rdWidthOnly")=="True";t.removeAttribute("Height"),t.removeAttribute("Width");var h=e.rdResize.AddYUIResizerHandles(t.id,f);l?s>0&&(h.get("wrapper").setStyles({height:a,width:null}),a.indexOf("%")>0&&(t.style.height="")):c?i>0&&(h.get("wrapper").setStyles({width:u,height:null}),u.indexOf("%")>0&&(t.style.width="")):i>0&&s>0&&(h.get("wrapper").setStyles({width:u,height:a}),u.indexOf("%")>0&&(t.style.width=""),a.indexOf("%")>0&&(t.style.height="")),h.on("resize:resize",function(e){});var p=function(e,t,r){l?e=null:c&&(t=null),n.getData("rdChartCanvas").resized({width:e,height:t,finished:r})};h.on("resize:resize",function(e){o&&clearTimeout(o),o=setTimeout(function(){var t=e.info.offsetHeight,n=e.info.offsetWidth;p(n,t,!1),isIE()===7&&p(n,t,!1)},50)}),h.on("resize:end",function(e){if(isIE()===7)return;o&&clearTimeout(o);var t=e.info.offsetHeight,r=e.info.offsetWidth;p(r,t,!0),h.set("resizing",!1);if(l){var i=n.ancestor(".chartfx-wrapper");i&&setTimeout(function(){i&&(i.setStyle("width",""),n.setStyle("width",""))},100)}})},LogiXML.Resize._rdInitVisualizationResizer=function(t){var n=e.one(t),r=t.id,i=n.getAttribute("data-rdReport"),s=t.getAttribute("Width"),o=t.getAttribute("Height"),u=0;if(s==null||o==null){var a=n.getStyle("width"),f=n.getStyle("height");a!=null&&f!=null&&(s=parseInt(a.replace("px","")),o=parseInt(f.replace("px","")))}if(n.hasClass("yui3-resize"))return;var l=document.getElementById("rdResizerAttrs_"+r);if(!e.Lang.isValue(l))return;var c=l.getAttribute("rdHeightOnly")=="True",h=l.getAttribute("rdWidthOnly")=="True";t.removeAttribute("Height"),t.removeAttribute("Width");var p=e.rdResize.AddYUIResizerHandles(t.id,l);c?o>0&&p.get("wrapper").setStyles({height:o,width:null}):h?s>0&&p.get("wrapper").setStyles({width:s,height:null}):s>0&&o>0&&p.get("wrapper").setStyles({width:s,height:o});var d=function(t,s,o){var u=n.one("logi-visualization,logi-crosstab-table");if(!u||!Logi||!Logi.Platform||!Logi.Platform.select)return;var a=Logi.Platform.select("#"+LogiXML.escapeSelector(u.getAttribute("id")));if(!a)return;var f={height:100,width:100,wUnit:"%",hUnit:"%"};a.getSize&&(f=a.getSize()),c?e.LogiXML.rdLogiVisualization.resize(u,f.width,s,f.wUnit,"px"):h?e.LogiXML.rdLogiVisualization.resize(u,t,f.height,"px",f.hUnit):e.LogiXML.rdLogiVisualization.resize(u,t,s,"px","px"),rdAjaxRequest("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=SetElementSize&rdWidth="+t+"&rdHeight="+s+"&rdElementId="+r+"&rdReport="+i+"&rdRequestForwarding=Form")};p.on("resize:resize",function(e){u&&clearTimeout(u),u=setTimeout(function(){var t=e.info.offsetHeight,n=e.info.offsetWidth;d(n,t,!1),isIE()===7&&d(n,t,!1)},50)}),p.on("resize:end",function(e){if(isIE()===7)return;u&&clearTimeout(u);var t=e.info.offsetHeight,n=e.info.offsetWidth;d(n,t,!0),p.set("resizing",!1)})}});var LTrim=Y.Lang.trimLeft,RTrim=Y.Lang.trimRight,trim=Y.Lang.trim;

/* 
* rdCalendar/CalendarPopup.js 
*/
// These functions use the same 'format' strings as the 
// java.text.SimpleDateFormat class, with minor exceptions.
// The format string consists of the following abbreviations:
// 
// Field        | Full Form          | Short Form
// -------------+--------------------+-----------------------
// Year         | yyyy (4 digits)    | yy (2 digits), y (2 or 4 digits)
// Month        | MMM (name or abbr.)| MM (2 digits), M (1 or 2 digits)
//              | NNN (abbr.)        |
// Day of Month | dd (2 digits)      | d (1 or 2 digits)
// Day of Week  | EE (name)          | E (abbr)
// Hour (1-12)  | hh (2 digits)      | h (1 or 2 digits)
// Hour (0-23)  | HH (2 digits)      | H (1 or 2 digits)
// Hour (0-11)  | KK (2 digits)      | K (1 or 2 digits)
// Hour (1-24)  | kk (2 digits)      | k (1 or 2 digits)
// Minute       | mm (2 digits)      | m (1 or 2 digits)
// Second       | ss (2 digits)      | s (1 or 2 digits)
// AM/PM        | a                  |
//
// NOTE THE DIFFERENCE BETWEEN MM and mm! Month=MM, not mm!
// Examples:
//  "MMM d, y" matches: January 01, 2000
//                      Dec 1, 1900
//                      Nov 20, 00
//  "M/d/yy"   matches: 01/20/00
//                      9/2/00
//  "MMM dd, yyyy hh:mm:ssa" matches: "January 01, 2000 12:30:45AM"
// ------------------------------------------------------------------
function LZ(e){return(e<0||e>9?"":"0")+e}function isDate(e,t){var n=getDateFromFormat(e,t);return n==0?!1:!0}function isDateInRange(e,t,n,r){if(isDate(e,r)){if(isDate(t,r)&&compareDates(t,r,e,r)==1)return!1;if(isDate(n,r)&&compareDates(e,r,n,r)==1)return!1}return!0}function compareDates(e,t,n,r){var i=getDateFromFormat(e,t),s=getDateFromFormat(n,r);return i==0||s==0?-1:i>s?1:0}function formatDate(e,t){t+="";var n="",r=0,i="",s="",o=e.getYear()+"",u=e.getMonth()+1,a=e.getDate(),f=e.getDay(),l=e.getHours(),c=e.getMinutes(),h=e.getSeconds(),p,d,v,m,g,y,b,w,E,S,x,l,T,N,C,k,L=new Object;o.length<4&&(o=""+(o-0+1900)),L.y=""+o,L.yyyy=o,L.yy=o.substring(2,4),L.M=u,L.MM=LZ(u),L.MMM=MONTH_NAMES[u-1],L.NNN=MONTH_NAMES[u+11],L.d=a,L.dd=LZ(a),L.E=DAY_NAMES[f+7],L.EE=DAY_NAMES[f],L.H=l,L.HH=LZ(l),l==0?L.h=12:l>12?L.h=l-12:L.h=l,L.hh=LZ(L.h),l>11?L.K=l-12:L.K=l,L.k=l+1,L.KK=LZ(L.K),L.kk=LZ(L.k),l>11?L.a="PM":L.a="AM",L.m=c,L.mm=LZ(c),L.s=h,L.ss=LZ(h);while(r<t.length){i=t.charAt(r),s="";while(t.charAt(r)==i&&r<t.length)s+=t.charAt(r++);L[s]!=null?n+=L[s]:n+=s}return n}function _isInteger(e){var t="1234567890";for(var n=0;n<e.length;n++)if(t.indexOf(e.charAt(n))==-1)return!1;return!0}function _getInt(e,t,n,r){for(var i=r;i>=n;i--){var s=e.substring(t,t+i);if(s.length<n)return null;if(_isInteger(s))return s}return null}function getDateFromFormat(e,t){e+="",t+="";var n=0,r=0,i="",s="",o="",u,a,f=new Date,l=f.getYear(),c=f.getMonth()+1,h=1,p=f.getHours(),d=f.getMinutes(),v=f.getSeconds(),m="";while(r<t.length){i=t.charAt(r),s="";while(t.charAt(r)==i&&r<t.length)s+=t.charAt(r++);if(s=="yyyy"||s=="yy"||s=="y"){s=="yyyy"&&(u=4,a=4),s=="yy"&&(u=2,a=2),s=="y"&&(u=2,a=4),l=_getInt(e,n,u,a);if(l==null)return 0;n+=l.length,l.length==2&&(l>70?l=1900+(l-0):l=2e3+(l-0))}else if(s=="MMM"||s=="NNN"){c=0;for(var g=0;g<MONTH_NAMES.length;g++){var y=MONTH_NAMES[g];if(e.substring(n,n+y.length).toLowerCase()==y.toLowerCase())if(s=="MMM"||s=="NNN"&&g>11){c=g+1,c>12&&(c-=12),n+=y.length;break}}if(c<1||c>12)return 0}else if(s=="EE"||s=="E")for(var g=0;g<DAY_NAMES.length;g++){var b=DAY_NAMES[g];if(e.substring(n,n+b.length).toLowerCase()==b.toLowerCase()){n+=b.length;break}}else if(s=="MM"||s=="M"){c=_getInt(e,n,s.length,2);if(c==null||c<1||c>12)return 0;n+=c.length}else if(s=="dd"||s=="d"){h=_getInt(e,n,s.length,2);if(h==null||h<1||h>31)return 0;n+=h.length}else if(s=="hh"||s=="h"){p=_getInt(e,n,s.length,2);if(p==null||p<1||p>12)return 0;n+=p.length}else if(s=="HH"||s=="H"){p=_getInt(e,n,s.length,2);if(p==null||p<0||p>23)return 0;n+=p.length}else if(s=="KK"||s=="K"){p=_getInt(e,n,s.length,2);if(p==null||p<0||p>11)return 0;n+=p.length}else if(s=="kk"||s=="k"){p=_getInt(e,n,s.length,2);if(p==null||p<1||p>24)return 0;n+=p.length,p--}else if(s=="mm"||s=="m"){d=_getInt(e,n,s.length,2);if(d==null||d<0||d>59)return 0;n+=d.length}else if(s=="ss"||s=="s"){v=_getInt(e,n,s.length,2);if(v==null||v<0||v>59)return 0;n+=v.length}else if(s=="a"){if(e.substring(n,n+2).toLowerCase()=="am")m="AM";else{if(e.substring(n,n+2).toLowerCase()!="pm")return 0;m="PM"}n+=2}else{if(e.substring(n,n+s.length)!=s)return 0;n+=s.length}}if(n!=e.length)return 0;if(c==2)if(l%4==0&&l%100!=0||l%400==0){if(h>29)return 0}else if(h>28)return 0;if(c==4||c==6||c==9||c==11)if(h>30)return 0;p<12&&m=="PM"?p=p-0+12:p>11&&m=="AM"&&(p-=12);var w=new Date(l,c-1,h,p,d,v);return w.getTime()}function parseDate(e){var t=arguments.length==2?arguments[1]:!1;generalFormats=new Array("y-M-d","MMM d, y","MMM d,y","y-MMM-d","d-MMM-y","MMM d"),monthFirst=new Array("M/d/y","M-d-y","M.d.y","MMM-d","M/d","M-d"),dateFirst=new Array("d/M/y","d-M-y","d.M.y","d-MMM","d/M","d-M");var n=new Array("generalFormats",t?"dateFirst":"monthFirst",t?"monthFirst":"dateFirst"),r=null;for(var i=0;i<n.length;i++){var s=window[n[i]];for(var o=0;o<s.length;o++){r=getDateFromFormat(e,s[o]);if(r!=0)return new Date(r)}}return null}var MONTH_NAMES=new Array("January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"),DAY_NAMES=new Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sun","Mon","Tue","Wed","Thu","Fri","Sat");

/* 
* rdInputValidation.js 
*/
function rdValidateDate(e,t,n,r,i,s){var o=document.getElementById(e);if(o){if(rdIsInputVisible(e)){rdRestoreNonErrorClass(o);if(o.value.length!=0){if(isDate(o.value,t)==0)return rdSetErrorClass(o,s),i;if(isDateInRange(o.value,n,r,t)==0)return rdSetErrorClass(o,s),i}}}else if(e.indexOf("_Row")==-1)for(var u=1;u<1e4;u++){o=document.getElementById(e+"_Row"+u);if(!o)break;var a=rdValidateDate(e+"_Row"+u,t,n,r,i,s);if(a)return i}}function rdValidateNumeric(e,t,n,r){var i=document.getElementById(e);if(i){if(rdIsInputVisible(e)){rdRestoreNonErrorClass(i);var s=rdGetInputValue(e);if(s.length!=0){t==","?(s=s.replace(/\./g,""),s=s.replace(/,/g,".")):s=s.replace(/,/g,"");if(parseFloat(s)!=s)return rdSetErrorClass(i,r),n}}}else if(e.indexOf("_Row")==-1)for(var o=1;o<1e4;o++){i=document.getElementById(e+"_Row"+o);if(!i)break;var u=rdValidateNumeric(e+"_Row"+o,t,n,r);if(u)return n}}function rdValidateRequired(e,t,n){var r=document.getElementById(e);r&&r.id=="rdHiddenRequestForwarding"&&(r=null);if(r){if(r.nodeName==="DIV"&&r.getAttribute("data-checkboxlist")){var i=Y.one(r),s=Y.one("#"+e+"_handler");if(s&&!rdIsInputVisible(s.getAttribute("id"))||!s&&!rdIsInputVisible(e))return;var o=i.all("[id^="+e+"_rdList]"),u=!1,a="",f=o.size(),l="";for(var c=0;c<f;c++){a=o.item(c).getAttribute("id"),l=o.item(c).getAttribute("type");switch(l){case"checkbox":o.item(c).get("checked")==1&&(u=!0);break;default:rdGetInputValue(a).length>0&&(u=!0)}if(u)break}if(f>0&&u===!1)return s?rdSetErrorClass(s.getDOMNode(),n):i&&rdSetErrorClass(i.getDOMNode(),n),t}else if(rdIsInputVisible(e)){rdRestoreNonErrorClass(r);var h=rdGetInputValue(e);if(h.length==0)return rdSetErrorClass(r,n),t}}else if(e.indexOf("_Row")==-1){var p;if(typeof rdValidationRowNrFilter!="undefined")var p=Y.all("[id^="+e+"_Row"+rdValidationRowNrFilter+"]");else var p=Y.all("[id^="+e+"_Row]");for(var c=0;c<p.size();c++){var e=p.item(c).getAttribute("id"),d=rdValidateRequired(e,t,n);if(d)return t}}}function rdValidateLength(e,t,n,r,i){var s=document.getElementById(e);if(s){if(rdIsInputVisible(e)){rdRestoreNonErrorClass(s);var o=rdGetInputValue(e);if(o.length<t||o.length>n)return rdSetErrorClass(s,i),r}}else if(e.indexOf("_Row")==-1)for(var u=1;u<1e4;u++){s=document.getElementById(e+"_Row"+u);if(!s)break;var a=rdValidateLength(e+"_Row"+u,t,n,r,i);if(a)return r}}function rdValidateJavascript(sFieldId,funcValidate,sErrorMsg,sErrorClass){var eleInput=document.getElementById(sFieldId);try{rdIsInputVisible(sFieldId)&&eleInput&&rdRestoreNonErrorClass(eleInput),eval(funcValidate)}catch(e){return sErrorMsg=sErrorMsg.replace("{error}",e),eleInput&&rdSetErrorClass(eleInput,sErrorClass),sErrorMsg}}function rdValidateTelePhoneNumber(e,t,n,r){var i=document.getElementById(e);if(i){if(rdIsInputVisible(e)){rdRestoreNonErrorClass(i);var s=rdGetInputValue(e);if(typeof t!="undefined"){var o=t.split(""),u="!@#$%^&*()+=-[]\\';,./{}|\":<>?~_";for(var a in o)u=u.replace(o[a],"");for(var a=0;a<s.length;a++)if(u.indexOf(s.charAt(a))!=-1)return rdSetErrorClass(i,r),n;var f=/\$|,|@|#|~|`|\%|\*|\^|\&|\(|\)|\+|\=|\[|\-|\_|\]|\[|\}|\{|\;|\:|\'|\"|\<|\>|\?|\||\\|\!|\$|\./g;s=s.replace(f,"")}if(parseFloat(s)!=s)return rdSetErrorClass(i,r),n}}else if(e.indexOf("_Row")==-1)for(var a=1;a<1e4;a++){i=document.getElementById(e+"_Row"+a);if(!i)break;var l=rdValidateTelePhoneNumber(e+"_Row"+a,MinLength,MaxLength,n,r);if(l)return n}}function rdValidateEmailAddress(e,t,n){var r=document.getElementById(e);if(r){if(rdIsInputVisible(e)){var i=r.getAttribute("multiple"),s=i?i=="true":!1;rdRestoreNonErrorClass(r);var o=r.value;o=o.replace(/^([\s,;,/,]+)|([\s,;,/,])+$/g,"");var u=[];s==1?u=o.replace(/[\s,]/g,";").split(";"):u[0]=o;var a=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,20})+$/,f=!0;if(s===!1&&u.length>1)f=!1;else for(var l=0;l<u.length;l++){var c=u[l];if(c.length===0)continue;if(!a.test(c)){f=!1;break}u[l]=c}if(f===!1)return rdSetErrorClass(r,n),t;o="";for(var l=0;l<u.length;l++)u[l].length>0&&(o=o+(l==0?"":"; ")+u[l]);r.value=o}}else if(e.indexOf("_Row")==-1)for(var l=1;l<1e4;l++){r=document.getElementById(e+"_Row"+l);if(!r)break;var h=rdValidateEmailAddress(e+"_Row"+l,t,n);if(h)return t}}function rdValidateTimeString(e,t,n,r,i){var s=document.getElementById(e);if(s){if(rdIsInputVisible(e)){rdRestoreNonErrorClass(s);if(!rdIsValidTime(s.value))return rdSetErrorClass(s,i),r;if(!rdIsTimeInRange(s.value,t,n))return rdSetErrorClass(s,i),r}}else if(e.indexOf("_Row")==-1)for(var o=1;o<1e4;o++){s=document.getElementById(e+"_Row"+o);if(!s)break;var u=rdValidateTimeString(e+"_Row"+o,r,i);if(u)return r}}function rdIsValidTime(e){if(e==""||e==null)return!0;var t=/^(\d{1,2}):(\d{2})(:(\d{2}))?(\s?(AM|am|PM|pm))?$/,n=e.match(t);if(n==null)return!1;var r=n[1],i=n[2],s=n[4],o=n[6];return s==""&&(s=null),o==""&&(o=null),r<0||r>23?!1:i<0||i>59?!1:s!=null&&(s<0||s>59)?!1:r>12&&o!=null?!1:!0}function rdIsTimeInRange(e,t,n){if(t==""||n=="")return!0;if(!rdIsValidTime(t))return!0;if(!rdIsValidTime(n))return!0;var r=/^(\d{1,2}):(\d{2})(:(\d{2}))?(\s?(AM|am|PM|pm))?$/,i=e.match(r),s=t.match(r),o=n.match(r);if(i==null)return!1;var u=parseFloat(i[1]),a=parseFloat(i[2]),f=parseFloat(i[4]==""?0:i[4]),l=i[6],c=!0;l==undefined&&(c=!1);if(s==null)return!0;var h=parseFloat(s[1]),p=parseFloat(s[2]),d=parseFloat(s[4]==""?0:s[4]),v=s[6];c==1&&v==undefined&&(m>12?(h-=12,v="pm"):v="am");if(o==null)return!0;var m=parseFloat(o[1]),g=parseFloat(o[2]),y=parseFloat(o[4]==""?0:o[4]),b=o[6];c==1&&b==undefined&&(m>12?(m-=12,b="pm"):b="am");if(c==1)if(l.toLowerCase()=="am"||l.toLowerCase()=="pm"){if(l.toLowerCase()=="am"&&v.toLowerCase()=="pm")return!1;if(l.toLowerCase()=="pm"&&b.toLowerCase()=="am")return!1;h==12&&(h=0),m==12&&(m=0),u==12&&(u=0);if(l.toLowerCase()=="am"){if(u<h)return!1;if(u==h){if(a<p)return!1;if(a==p&&f<d)return!1}if(b.toLowerCase()=="am"){if(u>m)return!1;if(u==m){if(a>g)return!1;if(a==g&&f>y)return!1}}}if(l.toLowerCase()=="pm"){if(u>m)return!1;if(u==m){if(a>g)return!1;if(a==g&&f>y)return!1}if(v.toLowerCase()=="pm"){if(u<h)return!1;if(u==h){if(a<p)return!1;if(a==p&&f<d)return!1}}}}if(c==0){if(u>m||u<h)return!1;if(u==m){if(a>g)return!1;if(a==g&&f>y)return!1}if(u==h){if(a<p)return!1;if(a==p&&f<d)return!1}}return!0}function rdGetInputValue(e){var t=document.getElementById(e);t||(t=document.getElementsByName(e)[0]);var n;if(t.id.indexOf("rdRadioButtonGroup")==0){e=e.replace(/rdRadioButtonGroup/g,"");var r=document.getElementsByTagName("INPUT");for(var i=0;i<r.length;i++)if(r[i].name==e&&r[i].checked){n=r[i].value;break}n==undefined&&(n="")}else t.value.length==0?n="":n=t.value;return n}function rdIsInputVisible(e){var t=document.getElementById(e);t||(t=document.getElementsByName(e)[0]);if(!t)return!1;var n=t.parentNode;while(n){if(n.style&&n.style.display=="none")return!1;n=n.parentNode}return!0}function rdChangeFlag(e){document.getElementById(e)&&(document.getElementById(e).value="True")}function rdSetErrorClass(e,t){if(t.length>0){e.setAttribute("data-rd-error-class",t),e.id.indexOf("rdRadioButtonGroup")==0&&(e=e.parentNode);var n=Y.one(e);n.hasClass(t)||n.addClass(t)}}function rdRestoreNonErrorClass(e){e.id.indexOf("rdRadioButtonGroup")==0&&(e=e.parentNode);var t=Y.one(e),n=t.getAttribute("data-rd-error-class");LogiXML.String.isNotBlank(n)&&t.removeClass(n)}function rdConfirmAndValidateActionJavascript(e,t,n,r,i){var s=function(e){if(!e)return;e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()};if(typeof n!="undefined"&&n){var o=rdValidateForm();if(o)return alert(o),i&&i.bind(this)(),s(e),!1}if(t!=null&&!confirm(t))return i&&i.bind(this)(),s(e),!1;r&&r.bind(this)();return}var rdValidationRowNrFilter=undefined;

/* 
* rdIFrameResize.js 
*/
function canAccessIFrame(e){var t=null;try{var n=e.contentDocument||e.contentWindow.document;t=n.body.innerHTML}catch(r){}return t!==null}function iframeResize(e,t){if(e){if(e.src!=""){if(e.contentWindow===null)return;var n=canAccessIFrame(e),r=Y.one(e);if(n)var i=Y.one(e.contentWindow.document),s=i.one("body"),o=i.one("html"),u,a,f,l;var c=e.contentWindow.Y&&e.contentWindow.Y.namespace("LogiXML.Dashboard.FreeForm");c&&Y.Lang.isFunction(c.rdResizeDashboardContainer)&&c.rdResizeDashboardContainer();var h=r.getStyle("display");r.setStyle("display",""),r.setStyle("overflow","hidden");if(n){if(s.get("scrollWidth")==0&&s.get("scrollHeight")==0){r.setStyle("display",h);return}o.setStyles({margin:0,width:"100%",height:"100%"}),s.setStyles({margin:0,width:"100%",height:"100%"})}var p=document.documentElement.scrollTop>document.body.scrollTop?document.documentElement.scrollTop:document.body.scrollTop,d=document.documentElement.scrollLeft>document.body.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft;f=r.getAttribute("rdIFrameFixedWidth"),l=r.getAttribute("rdIFrameFixedHeight"),f=Y.Lang.isString(f)?f.toLowerCase()==="true"?!0:!1:!1,l=Y.Lang.isString(l)?l.toLowerCase()==="true"?!0:!1:!1;if(f){e.style.width=e.width;switch(r.getAttribute("Scrolling")){case"yes":r.setStyles({overflowX:"visible"});break;case"no":r.setStyles({overflowX:"hidden"});break;default:r.setStyles({overflowX:"auto"})}}else e.style.width="",e.width="",u=n?o.get("scrollWidth"):400,u+=20,e.style.width=u+"px",e.width=u+"px";var v=0,m=r.ancestor(".popupPanelContainer");if(l){e.style.height=e.height;if(!f&&o.get("scrollHeight")>o.get("offsetHeight")){r.setStyles({overflowY:"scroll",overflowX:"hidden"});var g=o.get("scrollWidth")-o.get("clientWidth")+r.get("scrollWidth");e.style.width=g+"px",e.width=g+"px"}}else n?(e.style.height="1px",e.height="1px",v=m?m._node.getBoundingClientRect().height:0,a=o.get("scrollHeight"),a+=20,s.get("scrollHeight")>=o.get("scrollHeight")&&a==21&&(a=s.get("scrollHeight")),navigator.userAgent.indexOf("Trident")>0&&a==42&&(a=400),e.style.height="",e.height="",e.style.height=a+"px",e.height=a+"px"):(e.style.height="1px",e.height="1px",a=400,e.style.height=a+"px",e.height=a+"px");if(h=="inline"&&m&&m.getStyle("position")=="fixed"){var y=Math.min(a,window.innerHeight-v);e.style.height=y+"px",e.height=y+"px"}r.setStyle("display",h),window.scrollTo(d,p)}rdCheckForAPopupPanelParent(e)}try{Y.Lang.isValue(frameElement)&&Y.Lang.isFunction(window.parent.iframeResize)&&window.parent.iframeResize(frameElement)}catch(b){}var c=Y.namespace("LogiXML.Dashboard.FreeForm");c&&Y.Lang.isFunction(c.rdResizeDashboardContainer)&&c.rdResizeDashboardContainer()}function rdCheckForAPopupPanelParent(e){try{if(!e)return;var t=e.parentNode;while(t){if(Y.Lang.isValue(t.attributes)&&t.attributes.rdPopupPanel&&t.attributes.rdLocation&&t.attributes["rdLocation"].value=="Center"){rdPositionPopupPanel(t);return}t=t.parentNode}}catch(n){}};

/* 
* rdBookmark.js 
*/
function rdAddBookmark(e,t,n,r,i,s,o,u,a,f,l,c,h){rdValidationRowNrFilter=l;var p=rdValidateForm();if(p){rdValidationRowNrFilter=undefined,alert(p);return}var d=a;f.length!=0&&(d=rdParentPopupPanel.getElementsByTagName("Input")[0].value);var v;v="&rdActionId="+e,v+="&rdReport="+t,v+="&rdBookmarkReqIds="+encodeURIComponent(n),v+="&rdBookmarkSessionIds="+encodeURIComponent(r),v+="&rdBookmarkCollection="+encodeURIComponent(i),v+="&rdBookmarkName="+encodeURIComponent(s),v+="&rdBookmarkCustomColumn1="+encodeURIComponent(o),v+="&rdBookmarkCustomColumn2="+encodeURIComponent(u),v+="&rdBookmarkDescription="+encodeURIComponent(d),v+="&rdBookmarkID="+encodeURIComponent(Y.Lang.isValue(c)?c:"");if(h){var m=document.getElementsByName("rdBookmarkUserName")[0];m&&(v+="&rdBookmarkUserName="+m.value)}var g=document.rdForm;sPrevRadioId&&(sPrevRadioId="");for(var y=0;y<g.elements.length;y++){var b=g.elements[y];if(!b.type)continue;if(b.type=="radio"){if(v.indexOf("&"+b.name+"=")!=-1)continue;var w=rdGetInputValues(b);v.indexOf(w)==-1&&(v+=w)}else b.type=="select-one"&&b.options[b.selectedIndex]&&(v+="&"+b.id+"="+rdAjaxEncodeValue(b.options[b.selectedIndex].value))}if(n){var E=n.split(",");for(var y=0;y<E.length;y++){var S=E[y];if(S&&S!="rdReport"){var b=document.getElementById(S);if(b){var x=rdGetInputValues(b);v.indexOf(x)==-1&&(v+=rdGetInputValues(b))}else v.indexOf("&"+S+"=")==-1&&document.getElementById("rdBookmarkReqId_"+S)&&(v+="&"+S+"="+document.getElementById("rdBookmarkReqId_"+S).innerHTML)}}}bSubmitFormAfterAjax=!0,rdValidationRowNrFilter=l,rdAjaxRequest("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=AddBookmark"+v),rdValidationRowNrFilter=undefined,typeof rdParentPopupPanel!="undefined"&&ShowElement(this.id,rdParentPopupPanel.id,"Hide")}function rdEditBookmark(e,t,n,r,i,s,o,u){rdValidationRowNrFilter=o;var a=rdValidateForm();if(a){rdValidationRowNrFilter=undefined,alert(a);return}var f=i;s.length!=0&&(f=rdParentPopupPanel.getElementsByTagName("Input")[0].value);var l;l="&rdActionId="+e,l+="&rdReport="+t,l+="&rdBookmarkCollection="+n,l+="&rdBookmarkID="+r,l+="&rdBookmarkDescription="+rdAjaxEncodeValue(f),bSubmitFormAfterAjax=!0,rdValidationRowNrFilter=o,rdAjaxRequest("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=EditBookmark"+l),rdValidationRowNrFilter=undefined,rdParentPopupPanel&&ShowElement(this.id,rdParentPopupPanel.id,"Hide");if(u){var c=document.getElementById(u);c&&(c.textContent!=undefined?c.textContent=f:c.innerText=f)}}function rdCopyBookmark(e,t,n,r,i,s,o,u,a){var f;f="&rdActionId="+e,f+="&rdReport="+t,f+="&rdSourceBookmarkCollection="+n,f+="&rdSourceBookmarkUsername="+r,f+="&rdDestinationBookmarkCollection="+i,f+="&rdBookmarkID="+s,f+="&rdSharedBookmarkID="+o,f+="&rdCopiedBookmarkDescription="+a,f+="&rdAcknowledgeMessage="+rdAjaxEncodeValue(u),rdAjaxRequest("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=CopyBookmark"+f)}function rdSelectBookmark(e,t){if(!e)return;if(!t||t.toString().toUpperCase()==="FALSE")return rdDeselectBookmark(e);var n=rdGetSelectedBookmarks();if(n.indexOf(e)>=0)return;n.push(e),document.getElementById("rdBookmarkBatch").value=n.join(",")}function rdGetSelectedBookmarks(){var e=document.getElementById("rdBookmarkBatch");return e.value?e.value.split(","):[]}function rdDeselectBookmark(e){if(!e)return;var t=rdGetSelectedBookmarks(),n=t.indexOf(e);if(n<0)return;t.splice(n,1),document.getElementById("rdBookmarkBatch").value=t.join(",")}function rdClearSelectedBookmarks(){var e=document.getElementById("rdBookmarkBatch");if(!e||!e.value)return;e.value="";var t=Y.one("#"+document.getElementById("rdBookmarkOrganizerID").value);t&&t.fire("selectioncleared")}function rdRemoveBookmark(e,t,n,r,i,s,o,u,a){if(!Y.Lang.isValue(n)||n=="")return;var f;f="&rdActionId="+e,f+="&rdReport="+t,f+="&rdBookmarkCollection="+n,f+="&rdBookmarkUserName="+r;var l=document.getElementById("rdBookmarkBatch"),c;l&&l.value?(c="RemoveBookmarkBatch",f+="&rdBookmarkBatch="+l.value):(c="RemoveBookmark",f+="&rdBookmarkID="+i),rdClearSelectedBookmarks(),bSubmitFormAfterAjax=!0;var h;u?h=function(){rdAjaxRequest("rdAjaxCommand=RefreshElement&rdReport="+this.sReport+"&rdRefreshElementID="+this.sReportCenterID)}.bind({sReport:t,sReportCenterID:u}):h=null,rdAjaxRequest("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand="+c+f,null,null,null,h)}function rdShareBookmarkOrFolder(e,t,n,r,i,s,o,u,a,f){var l=!1,c="",h="rdAjaxCommand=rdAjaxNotify";r?h+="&rdNotifyCommand=ShareBookmark":h+="&rdNotifyCommand=ShareBookmarkFolder",h+="&rdActionId="+e+"&rdReport="+t+"&rdBookmarkCollection="+n+"&rdBookmarkID="+r+"&rdFolderID="+i+"&rdRefreshDTID="+o;if(u=="False")h+="&rdSharedCollection="+s,f&&(h+="&rdSharedCollectionDispName="+f);else{var p="&rdSharedCollection=",d=Y.one("#"+s);if(!Y.Lang.isNull(d)){p+=d.get("value");if(d._node.tagName=="SPAN"){p+=d._node.innerHTML,l=!0;var v=s.lastIndexOf("_");c="actShareBookmarkFromDataLayer_"+s.substring(v+1)}}if(p=="&rdSharedCollection=")return;h+=p}h+="&rdSharedFromInput="+u;var m="rdAjaxCommand=RefreshElement&rdRefreshElementID=rowBookmarkSharedWith&rdReport="+t+"&rdBookmarkCollection="+n+"&rdBookmarkID="+r+"&rdFolderID="+i,g=function(e){if(!e||!e.responseXML||!e.responseXML.documentElement)return;var t=e.responseXML.documentElement.getAttribute("ActionSuccess");if(!t||t.toLowerCase()!="true")return;if(this.isSpanNode==1){var n=document.createElement("span");n.textContent="Shared!";var r=document.getElementById(this.sRowId).parentNode;r.parentNode.replaceChild(n,r)}this.sRefreshParams+="&dtBookmarkSharedWith-PageNr=536868412&rdNewPageNr=True2&rdCancelPreviousPagingRequests=dtBookmarkSharedWith",rdAjaxRequestWithFormVars(this.sRefreshParams,null,null,null,null,null,["","",""],null)}.bind({isSpanNode:l,sRowId:c,sRefreshParams:m});rdAjaxRequestWithFormVars(h,null,null,null,null,g,["","",""],null),document.getElementById("InpUser").value=""}function rdUnShareBookmarkOrFolder(e,t,n,r,i,s,o){var u="rdAjaxCommand=rdAjaxNotify";r?u+="&rdNotifyCommand=UnShareBookmark":u+="&rdNotifyCommand=UnShareBookmarkFolder",u+="&rdActionId="+e,u+="&rdReport="+t,u+="&rdBookmarkCollection="+n,u+="&rdBookmarkID="+r,u+="&rdFolderID="+i,u+="&rdRefreshDTID="+o,u+="&rdRemoveCollections=";var a=Y.one("#"+s);Y.Lang.isNull(a)||(u+=a.get("value"),a._node.tagName=="SPAN"&&(u+=a._node.innerHTML));var f="rdAjaxCommand=RefreshElement&rdRefreshElementID=rowBookmarkSharedWith&rdReport="+t+"&rdBookmarkCollection="+n+"&rdBookmarkID="+r+"&rdFolderID="+i,l=document.getElementById("dtBookmarkSharedWith-rdNumberedCurrPageNr");if(l){var c=parseInt(l.innerText);!isNaN(c)&&c>0&&(f+="&dtBookmarkSharedWith-PageNr="+c+"&rdNewPageNr=True2"+"&rdCancelPreviousPagingRequests=dtBookmarkSharedWith")}var h=function(e){rdAjaxRequestWithFormVars(f,null,null,null,null,null,["","",""],null)}.bind({sRefreshParams:f});rdAjaxRequest(u,null,null,null,h,["","",""],null)}function rdAddBookmarkNgpSave(e,t,n,r,i,s,o,u,a,f,l,c){var h=Y.one("#rdSaveASNew");h&&h.set("value","saveAsNew"),rdAddBookmark(e,t,n,r,i,s,o,u,a,f,l,c,!0)}function isInfoGo(){var e,t=Y.one("#rdBookmarkOrganizerReport"),n=t.get("value");return n=="InfoGo.goHome"?e=!0:e=!1,e};

/* 
* rdPopup/rdDataMenuTree.js 
*/
function rdDataMenuTreeInit(e){var t=!0;nRow=1;var n=document.getElementById("rdExpando_"+e+"_Row"+nRow);while(n){var r=document.getElementById("rdExpandoStatus_"+e+"_Row"+nRow);if(rdDmtGetInnerText(r).length!=0&&!rdDisableRememberExpansion(e)&&rdHasLocalStorage()){var i=document.getElementById("rdExpandoItemID_"+e+"_Row"+nRow);i&&localStorage["rdExpandoStatus_"+e+"_"+rdDmtGetInnerText(i)]&&(rdDmtSetInnerText(r,localStorage["rdExpandoStatus_"+e+"_"+rdDmtGetInnerText(i)]),t=!1)}switch(rdDmtGetInnerText(r)){case"+":n.src=document.getElementById("rdBranchCollapsedImage_"+e).src,rdCollapseChildren(e,nRow);break;case"-":n.src=document.getElementById("rdBranchExpandedImage_"+e).src;break;default:n.parentNode&&(n.parentNode.tabIndex="-1")}var s=document.getElementById("rdIndent_"+e+"_Row"+nRow);s.style.width=="0px"&&(s.style.display="none"),nRow+=1,n=document.getElementById("rdExpando_"+e+"_Row"+nRow)}var o=document.getElementById(e);o.style.display=""}function rdDataMenuTreeExpandCollapse(e,t){var n=parseInt(t.id.substr(t.id.indexOf("_Row")+4)),r=document.getElementById("rdExpandoStatus_"+e+"_Row"+n);switch(rdDmtGetInnerText(r)){case"+":t.src=document.getElementById("rdBranchExpandedImage_"+e).src,rdDmtSetInnerText(r,"-"),rdExpandChildren(e,n);break;case"-":t.src=document.getElementById("rdBranchCollapsedImage_"+e).src,rdDmtSetInnerText(r,"+"),rdCollapseChildren(e,n)}if(!rdDisableRememberExpansion()&&rdHasLocalStorage()){var i=document.getElementById("rdExpandoItemID_"+e+"_Row"+n);i&&(localStorage["rdExpandoStatus_"+e+"_"+rdDmtGetInnerText(i)]=rdDmtGetInnerText(r))}}function rdExpandChildren(e,t){t+=1;var n=document.getElementById("rdIndent_"+e+"_Row"+t),r=parseInt(n.style.width.replace("px","")),i=document.getElementById("rdMenuColumn_"+e+"_Row"+t);while(i){n=document.getElementById("rdIndent_"+e+"_Row"+t);var s=parseInt(n.style.width.replace("px",""));if(s==r){var o=i.parentNode;o.style.display="";var u=document.getElementById("rdExpandoStatus_"+e+"_Row"+t);rdDmtGetInnerText(u)=="-"&&rdExpandChildren(e,t)}else if(s<r)break;t+=1,i=document.getElementById("rdMenuColumn_"+e+"_Row"+t)}}function rdCollapseChildren(e,t){var n=document.getElementById("rdIndent_"+e+"_Row"+t),r=parseInt(n.style.width.replace("px",""));t+=1;var i=document.getElementById("rdMenuColumn_"+e+"_Row"+t);while(i){n=document.getElementById("rdIndent_"+e+"_Row"+t);var s=parseInt(n.style.width.replace("px",""));if(s<=r)break;var o=i.parentNode;o.style.display="none",t+=1,i=document.getElementById("rdMenuColumn_"+e+"_Row"+t)}}function rdDmtGetInnerText(e){return e.textContent!=undefined?e.textContent:e.innerText}function rdDmtSetInnerText(e,t){e.textContent!=undefined?e.textContent=t:e.innerText=t}function rdDisableRememberExpansion(e){var t=document.getElementById("rdDisableRememberExpansion_"+e);return t&&t.value=="True"?!0:!1};

/* 
* rdCalendar/rdDatePicker.js 
*/
function rdInsertDates(e,t,n,r,i,s,o){var u,a,f;i.match("%20")&&(i=i.replace(/%20/g," ")),rdCalendarRowIdentifier==undefined&&(rdCalendarRowIdentifier=""),o.match("rdDatePickerElement")&&(rdCalendarRowIdentifier=""),f=e,e+=rdCalendarRowIdentifier,u=e,t+=rdCalendarRowIdentifier,a=t;var l=rdGetElement(r,s,o);if(!(rdCalendarClicks%2)){if(document.getElementById(e)==null){alert("Could not find the Start Date Element or the provided Element is not appropriate.");return}document.getElementById(e).value=i,document.getElementById(e).onchange&&document.getElementById(e).onchange(),document.getElementById(t).value=i,document.getElementById(t).onchange&&document.getElementById(t).onchange(),document.getElementById(f+"_Hidden"+rdCalendarRowIdentifier)&&(document.getElementById(f+"_Hidden"+rdCalendarRowIdentifier).value=n),rdCalendarDisplayDateOne=i,rdCalendarStartDate=new Date(n),rdCalendarDateArray[o+"_StartDate"+rdCalendarRowIdentifier]=rdCalendarStartDate,rdCalendarEndDate=undefined,rdCalendarDateArray[o+"_EndDate"+rdCalendarRowIdentifier]=undefined,rdApplyColor(rdGetElementDivForColoring(r,s,o));var c,h;for(c=1;c<=3;c+=1)for(h=1;h<=31;h+=1)rdGetElement(h,c,o)!=null&&rdGetElement(h,c,o)!=rdGetElement(r,s,o)&&rdRemoveColor(rdGetElementDivForColoring(h,c,o));rdCalendarClicks+=1}else{if(document.getElementById(t)==null){alert("Could not find the End Date Element or the provided Element is not appropriate.");return}document.getElementById(t).value=i,document.getElementById(t).onchange&&document.getElementById(t).onchange(),rdCalendarDisplayDateTwo=i,rdCalendarEndDate=new Date(n),rdCalendarDateArray[o+"_EndDate"+rdCalendarRowIdentifier]=rdCalendarEndDate,rdCalendarStartDate.getFullYear()==rdCalendarEndDate.getFullYear()?rdCalendarEndDate.getMonth()<rdCalendarStartDate.getMonth()|rdCalendarEndDate.getMonth()==rdCalendarStartDate.getMonth()&rdCalendarEndDate.getDate()<rdCalendarStartDate.getDate()&&(rdInterChangeDates(o,u,a),document.getElementById(f+"_Hidden"+rdCalendarRowIdentifier)&&(document.getElementById(f+"_Hidden"+rdCalendarRowIdentifier).value=n)):rdCalendarStartDate.getFullYear()>rdCalendarEndDate.getFullYear()&&(rdInterChangeDates(o,u,a),document.getElementById(f+"_Hidden"+rdCalendarRowIdentifier)&&(document.getElementById(f+"_Hidden"+rdCalendarRowIdentifier).value=n)),rdApplyColor(rdGetElementDivForColoring(r,s,o)),rdColorDates(rdCalendarStartDate,rdCalendarEndDate,o),rdCalendarClicks+=1}rdReApplyClassForTodaysDate(o),rdResizeHTMLCalendarMonthTables(o)}function rdColorDates(e,t,n){var r=rdDate2Julian(e),i=rdDate2Julian(t),s,o;for(s=1;s<=3;s+=1)for(o=1;o<=31;o+=1)rdGetElement(o,s,n)!=null&&rdGetElement(o,s,n).getAttribute("Juliandate")!=""&&rdGetElement(o,s,n).getAttribute("Juliandate")>=r&rdGetElement(o,s,n).getAttribute("Juliandate")<=i&&rdApplyColor(rdGetElementDivForColoring(o,s,n))}function rdInsertSingleDate(e,t,n,r,i,s,o){var u;i.match("%20")&&(i=i.replace(/%20/g," ")),rdCalendarRowIdentifier==undefined&&(rdCalendarRowIdentifier=""),o.match("rdDatePickerElement")&&(rdCalendarRowIdentifier=""),u=e,e+=rdCalendarRowIdentifier,t+=rdCalendarRowIdentifier;if(document.getElementById(e)==null){alert("Could not find the Target Date Element or the provided Element is not appropriate.");return}document.getElementById(e).value=i,document.getElementById(e).onchange&&document.getElementById(e).onchange(),document.getElementById(e).onblur&&document.getElementById(e).onblur(),document.getElementById(u+"_Hidden"+rdCalendarRowIdentifier)&&(document.getElementById(u+"_Hidden"+rdCalendarRowIdentifier).value=n),rdCalendarDateArray[o+"_StartDate"+rdCalendarRowIdentifier]=new Date(n),rdApplyColor(rdGetElementDivForColoring(r,s,o));var a,f;for(a=1;a<=3;a+=1)for(f=1;f<=31;f+=1)rdGetElement(f,a,o)!=null&&rdGetElement(f,a,o)!=rdGetElement(r,s,o)&&rdRemoveColor(rdGetElementDivForColoring(f,a,o));rdCalendarStartDate=new Date(n),t!=""&&ShowElement(this.id,t,"Hide"),rdReApplyClassForTodaysDate(o)}function rdOnloadColoring(e){rdCalendarRowIdentifier==undefined&&rdCalendarRowIdentifier=="";if(rdCalendarDateArray[e+"_StartDate"+rdCalendarRowIdentifier]!=undefined&rdCalendarDateArray[e+"_EndDate"+rdCalendarRowIdentifier]==undefined){var t=rdDate2Julian(new Date(rdCalendarDateArray[e+"_StartDate"+rdCalendarRowIdentifier])),n,r;for(n=1;n<=3;n+=1)for(r=1;r<=31;r+=1)rdGetElement(r,n,e)!=null&&rdGetElement(r,n,e).getAttribute("Juliandate")!=""&&(rdGetElement(r,n,e).getAttribute("Juliandate")==t?rdApplyColor(rdGetElementDivForColoring(r,n,e)):rdRemoveColor(rdGetElementDivForColoring(r,n,e)))}if(rdCalendarDateArray[e+"_StartDate"+rdCalendarRowIdentifier]!=undefined&rdCalendarDateArray[e+"_EndDate"+rdCalendarRowIdentifier]!=undefined){var t=rdDate2Julian(new Date(rdCalendarDateArray[e+"_StartDate"+rdCalendarRowIdentifier])),i=rdDate2Julian(new Date(rdCalendarDateArray[e+"_EndDate"+rdCalendarRowIdentifier])),n,r;for(n=1;n<=3;n+=1)for(r=1;r<=31;r+=1)rdGetElement(r,n,e)!=null&&rdGetElement(r,n,e).getAttribute("Juliandate")!=""&&(rdGetElement(r,n,e).getAttribute("Juliandate")>=t&rdGetElement(r,n,e).getAttribute("Juliandate")<=i?rdApplyColor(rdGetElementDivForColoring(r,n,e)):rdRemoveColor(rdGetElementDivForColoring(r,n,e)))}rdReApplyClassForTodaysDate(e)}function rdOnLoadJavascriptAddition(sElementIdentifier){rdCalendarRowIdentifier==undefined&&rdCalendarRowIdentifier=="";var y;for(y=1;y<=3;y+=1){var x;for(x=1;x<=31;x+=1)(function(x){var sElementModifier=rdElementModifier(y,sElementIdentifier),sElement=document.getElementById(sElementModifier+"rdCalDay-Holder_"+x+"_DayTable");if(sElement!=null){var sScript=LogiXML.getScriptFromLink(sElement.lastChild);sElement.lastChild.href="javascript:void(0);",sElement.lastChild.onclick=function(){},sElement.onclick=function(){eval(this.sScript)}.bind({sScript:sScript})}})(x)}rdOnLoadUserProvidedRangeColoring(sElementIdentifier),rdResizeHTMLCalendarMonthTables(sElementIdentifier)}function rdElementModifier(e,t){var n=parseInt(e);return n==1?n=t+"_"+"":n==2?n=t+"_"+"Cal2_":n=t+"_"+"Cal3_",n}function rdDate2Julian(e){var t=e.getMonth()+1,n=e.getFullYear(),r=e.getDate();return 1461*(n+4800+(t-14)/12)/4+367*(t-2-12*((t-14)/12))/12-3*((n+4900+(t-14)/12)/100)/4+r-32075}function rdGetElement(e,t,n){var r=rdElementModifier(t,n),i=document.getElementById(r+"rdCalDay_"+e+"_DayTable"+rdCalendarRowIdentifier);return i==null&&(i=document.getElementById(r+"rdCalDay_"+e+"_DayTable")),i}function rdGetElementDivForColoring(e,t,n){var r=rdElementModifier(t,n),i=document.getElementById(r+"rdCalDay-Holder_"+e+"_DayTable"+rdCalendarRowIdentifier);return i==null&&(i=document.getElementById(r+"rdCalDay-Holder_"+e+"_DayTable")),i}function rdApplyColor(e){e.getAttribute("class")?e.setAttribute("class","rdDataCalendarDayLabelHighlight"):e.setAttribute("className","rdDataCalendarDayLabelHighlight")}function rdRemoveColor(e){e.getAttribute("class")?e.setAttribute("class","rdDataCalendarDay"):e.setAttribute("className","rdDataCalendarDay")}function rdInterChangeDates(e,t,n){var r;document.getElementById(t).value=rdCalendarDisplayDateTwo,r=rdCalendarStartDate,rdCalendarStartDate=rdCalendarEndDate,rdCalendarDateArray[e+"_StartDate"+rdCalendarRowIdentifier]=new Date(rdCalendarEndDate),document.getElementById(n).value=rdCalendarDisplayDateOne,rdCalendarEndDate=r,rdCalendarDateArray[e+"_EndDate"+rdCalendarRowIdentifier]=new Date(r)}function rdColorCleanUp(e){var t,n;for(t=1;t<=3;t+=1)for(n=1;n<=31;n+=1)rdGetElement(n,t,e)!=null&&rdRemoveColor(rdGetElementDivForColoring(n,t,e))}function rdInputDateAjaxRequest(e,t,n,r){n+="_Hidden",rdCalendarRowIdentifier!=undefined?document.getElementById(n+rdCalendarRowIdentifier)!=null&&(n+=rdCalendarRowIdentifier):(rdCalendarRowIdentifier="",n=n),rdAjaxRequestWithFormVars("rdAjaxCommand=CalendarRefreshElement&rdCalendarRefreshElementID="+e+","+t+"&rdInputDateValue="+document.getElementById(n).value+"&rdReport="+r)}function rdGetRowIdentifier(e){e==undefined?rdCalendarRowIdentifier=="":e==""?rdCalendarRowIdentifier="":rdCalendarRowIdentifier="_Row"+e}function rdReApplyClassForTodaysDate(e){try{var t=3,n=31,r,i=new Date,s=rdDate2Julian(i);for(t=1;t<=3;t+=1)for(n=1;n<=31;n+=1)rdGetElement(n,t,e)&&(r=rdGetElement(n,t,e),parseFloat(r.getAttribute("JulianDate"))==parseFloat(s)&&rdGetElement(n,t,e).parentNode&&(r=rdGetElement(n,t,e).parentNode,r.getAttribute("Class")?r.getAttribute("Class")!="rdDataCalendarDayLabelHighLight"&&r.setAttribute("Class",r.getAttribute("Class")+" rdDataCalendarToday"):r.getAttribute("className")!="rdDataCalendarDayLabelHighlight"&&r.setAttribute("className",r.getAttribute("className")+" rdDataCalendarToday")))}catch(o){return}}function rdOnLoadUserProvidedRangeColoring(e){try{var t=3,n=31,r;for(t=1;t<=3;t+=1)for(n=1;n<=31;n+=1)rdGetElement(n,t,e)&&rdGetElement(n,t,e).parentNode&&(r=rdGetElement(n,t,e).parentNode,r.getAttribute("Class")?r.getAttribute("Class").match("rdDataCalendarDayLabelHighlight")&&r.setAttribute("Class","rdDataCalendarDayLabelHighlight"):r.getAttribute("className").match("rdDataCalendarDayLabelHighlight")&&r.setAttribute("className","rdDataCalendarDayLabelHighlight"))}catch(i){return}}function rdOnLoadUserProvidedDataCalendarDateColoring(e){try{var t=1,n=31,r;for(t=1;t<=3;t+=1)for(n=1;n<=31;n+=1)rdGetElement(n,t,e)&&rdGetElement(n,t,e).parentNode&&(r=rdGetElement(n,t,e).parentNode.parentNode,r.getAttribute("Class")?r.getAttribute("Class").match("rdDataCalendarDayLabelHighlight")&&r.setAttribute("Class","rdDataCalendarDayLabelHighlight"):r.getAttribute("className").match("rdDataCalendarDayLabelHighlight")&&r.setAttribute("className","rdDataCalendarDayLabelHighlight"))}catch(i){return}}function rdResizeHTMLCalendarMonthTables(e){var t=0,n=0;try{var r=document.getElementById(e);if(r){var i=r.firstChild.firstChild.childNodes[0].firstChild;t=i.offsetHeight,n=i.offsetWidth;if(t==0||n==0){setTimeout(function(){rdResizeHTMLCalendarMonthTables(e)},15);return}if(r.firstChild.firstChild.childNodes.length>1){var s=r.firstChild.firstChild.childNodes[1].firstChild;if(t!=s.offsetHeight||n!=s.offsetWidth)t=s.offsetHeight<t?t:s.offsetHeight,n=s.offsetWidth<n?n:s.offsetWidth}if(r.firstChild.firstChild.childNodes.length>2){var o=r.firstChild.firstChild.childNodes[2].firstChild;if(t!=o.offsetHeight||n!=o.offsetWidth)t=o.offsetHeight<t?t:o.offsetHeight,n=o.offsetWidth<n?n:o.offsetWidth}i&&(i.style.height=t,i.style.width=n),s&&(s.style.height=t,s.style.width=n),o&&(o.style.height=t,o.style.width=n)}}catch(u){return}}var rdCalendarClicks=0,rdCalendarDisplayDateOne,rdCalendarDisplayDateTwo,rdCalendarStartDate,rdCalendarEndDate,rdCalendarDateArray=new Array,rdCalendarRowIdentifier;

/* 
* rdClock/rdTimePicker.js 
*/
function rdClockPickHours(e){var t=document.getElementById(e);rdRemoveHighlight("HourCell"),rdHighlightCell(t);var n=t.getElementsByTagName("Input")[0];aHours[sInputTimeId+rdInputTimeRowIdentifier]=n.value.split(":")[0];var r;n.value.match("AM")&&(r=" AM"),n.value.match("PM")&&(r=" PM"),rdFormatTimeString(r)}function rdClockPickMinutes(e){var t=document.getElementById(e);rdRemoveHighlight("MinutesCell"),rdHighlightCell(t);var n=t.firstChild;aMinutes[sInputTimeId+rdInputTimeRowIdentifier]=n.innerHTML,rdFormatTimeString()}function rdClockPickSeconds(e){var t=document.getElementById(e);rdRemoveHighlight("SecondsCell"),bInputTimeSecondsDisplay=!0,rdHighlightCell(t);var n=t.firstChild;aSeconds[sInputTimeId+rdInputTimeRowIdentifier]=n.innerHTML,rdFormatTimeString()}function rdGetInputTimeRowIdentifier(e){e==undefined?rdInputTimeRowIdentifier=="":e==""?rdInputTimeRowIdentifier="":rdInputTimeRowIdentifier="_Row"+e}function rdInputTimeAjaxRequest(e,t,n,r){sInputTimeId=e,sInputTimeIdWithoutDashboardId=t,sInputTimeTableId=n,rdAjaxRequestWithFormVars("rdAjaxCommand=CalendarRefreshElement&rdCalendarRefreshElementID="+sInputTimeId+","+n+"&rdReport="+r+"&rdInputTime="+document.getElementById(sInputTimeId+rdInputTimeRowIdentifier).value)}function rdHighlightCell(e){e.className=e.className="rdTimePickerLabelHighlight"}function rdRemoveHighlight(e){var t=Y.one("#"+sInputTimeTableId),n=t.all(".rdTimePickerLabelHighlight")._nodes;for(var r=0;r<n.length;r++){var i=n[r];i.id.indexOf(e)!=-1&&(i.className=i.className.replace("rdTimePickerLabelHighlight","rdTimePickerCell"))}}function rdFormatTimeString(e){var t=document.getElementById(sInputTimeId+rdInputTimeRowIdentifier).value,n=typeof e!="undefined"?e:"";if(n=="")if(!t.match("AM")&&!t.match("PM")){var r=document.getElementById(sInputTimeId+"_Hidden"+rdInputTimeRowIdentifier);r.value.match("AM")&&(n=" AM"),r.value.match("PM")&&(n=" PM")}else t.match("AM")&&(n=" AM"),t.match("PM")&&(n=" PM");var i=document.getElementById(sInputTimeIdWithoutDashboardId+"_rdTimePicker_HourCell_00");i||(i=document.getElementById(sInputTimeId+"_rdTimePicker_HourCell_00"));var s=i.firstChild.innerHTML=="12"?"12":"00";document.getElementById(sInputTimeId+rdInputTimeRowIdentifier).value=(typeof aHours[sInputTimeId+rdInputTimeRowIdentifier]=="undefined"?s:aHours[sInputTimeId+rdInputTimeRowIdentifier])+(typeof aMinutes[sInputTimeId+rdInputTimeRowIdentifier]=="undefined"?":00":":"+aMinutes[sInputTimeId+rdInputTimeRowIdentifier])+(bInputTimeSecondsDisplay?typeof aSeconds[sInputTimeId+rdInputTimeRowIdentifier]=="undefined"?":00":":"+aSeconds[sInputTimeId+rdInputTimeRowIdentifier]:"")+n,document.getElementById(sInputTimeId+rdInputTimeRowIdentifier).onchange&&document.getElementById(sInputTimeId+rdInputTimeRowIdentifier).onchange(),document.getElementById(sInputTimeId+rdInputTimeRowIdentifier).onblur&&document.getElementById(sInputTimeId+rdInputTimeRowIdentifier).onblur()}function rdNeedForSecondsDisplay(){var e=document.getElementById(sInputTimeId+"_Hidden"+rdInputTimeRowIdentifier),t=e.value.split(":");t.length<3?bInputTimeSecondsDisplay=!1:bInputTimeSecondsDisplay=!0}function rdResizeAMPMTable(){var e=document.getElementById(sInputTimeId+"_rdTimePicker_AmPmTable");e&&(e.style.height=parseInt(e.parentNode.offsetHeight)+"px")}function rdLoadInputTimeDefaultValue(){var e=document.getElementById(sInputTimeId+rdInputTimeRowIdentifier).value;if(e!=""||typeof e=="undefined"){if(e.split(":").length<2)return;aHours[sInputTimeId+rdInputTimeRowIdentifier]=e.split(":")[0],aMinutes[sInputTimeId+rdInputTimeRowIdentifier]=e.split(":")[1].replace(/[a-zA-Z]/g,"").replace(/^\s+|\s+$/g,""),bInputTimeSecondsDisplay&&(aSeconds[sInputTimeId+rdInputTimeRowIdentifier]=e.split(":")[2]==null?"00":e.split(":")[2].replace(/[a-zA-Z]/g,"").replace(/^\s+|\s+$/g,""))}}var aHours=new Array,aMinutes=new Array,aSeconds=new Array,sInputTimeId,sInputTimeIdWithoutDashboardId,sInputTimeTableId,rdInputTimeRowIdentifier,bInputTimeSecondsDisplay;

/* 
* rdDraggableColumns.js 
*/
YUI.add("draggable-columns",function(e){var t=e.namespace("LogiXML.DraggableColumns");t.initialize=function(){t.rdInitDraggableColumns(),LogiXML.Ajax.AjaxTarget().on("reinitialize",this.rdInitDraggableColumns)},t.plug=function(n,r,i){setTimeout(function(){var s=r[n],o=e.one(s);if(!o.hasClass("yui3-dd-draggable")){LogiXML.features.touch?LogiXML.getElementByIdEnding(o,"-DragHandle","img").setStyle("visibility","visible"):(o.on("mouseenter",function(e){LogiXML.getElementByIdEnding(e.currentTarget,"-DragHandle","img").setStyle("visibility","visible")}),o.on("mouseleave",function(e){LogiXML.getElementByIdEnding(e.currentTarget,"-DragHandle","img").setStyle("visibility","hidden")})),o.plug(e.Plugin.Drag);var u=o.dd;u.plug(e.Plugin.DDProxy,{moveOnEnd:!1}).plug(e.Plugin.DDConstrained,{constrain2node:"#"+LogiXML.escapeSelector(i),stickX:!0});var a=LogiXML.getElementByIdEnding(o,"-DragHandle","img");LogiXML.features.touch||a.setStyle("visibility","hidden"),u.addHandle("#"+LogiXML.escapeSelector(a.get("id"))).plug(e.Plugin.DDWinScroll,{vertical:!1,scrollDelay:100}),a.setStyle("cursor","e-resize"),LogiXML.fixYuiTest(a),u.on("drag:start",t._onDragStart),u.on("drag:end",t._onDragEnd,o)}},5)},t.rdInitDraggableColumns=function(){var n=e.all("table[rdDraggableColumnsID]"),r,i=n.size();for(var s=0;s<i;s++){r=n.item(s).getDOMNode(),r.tHead==null&&(r.tHead=r.getElementsByTagName("thead")[0]);var o=r.tHead.rows[0].cells,u=o.length;for(var a=0;a<u;a++)t.plug(a,o,r.id)}},t._onDragStart=function(e){var t=e.target,n=t.get("dragNode"),r=t.get("node");if(!r){e.halt();return}r.getAttribute("class").indexOf("rdAg")!==-1&&n.addClass("rdAg");var i=LogiXML.getAncestorByTagName(r,"table",!1);if(!i){e.halt();return}var s=i.getDOMNode(),o='<table colindex="'+r.get("cellIndex")+'" cellspacing="'+s.cellSpacing+'" class="'+s.className+'" style="width:'+n.getStyle("width")+';" ><thead><tr><th class="'+r.getAttribute("class")+'" >'+r.get("innerHTML")+"</th></tr></thead><tbody>",u=s.getElementsByTagName("TR"),a;for(var f=1;f<u.length;f++){var l="";if(u[f].className=="rdDragHeaderRow"||u[f].getAttribute("row")==null)continue;a=u[f].cells[r.get("cellIndex")];if(!a)continue;a.className&&(l='class="'+a.className+'"'),o+="<tr><td "+l+" >"+a.innerHTML+"</td></tr>";if(f==50)break}o+="</tbody></table>",n.set("innerHTML",o),n.setStyles({opacity:".90",borderColor:"#F1CA7F",backgroundColor:r.getStyle("backgroundColor")})},t._onDragEnd=function(n){var r=n.target,i=r.get("dragNode"),s=i.one("table");if(!s){n.halt();return}var o=s.getAttribute("colindex");i.set("innerHTML","");var u=LogiXML.getAncestorByTagName(this,"table",!1);if(!u){n.halt();return}var a=u.getDOMNode(),f=t.findColumn(a,r.mouseXY[0]);if(f!=-1&&f!=o){var l=a.tHead.rows[0].cells[o].id.replace("-TH",""),c=a.tHead.rows[0].cells[f].id.replace("-TH","");t.moveColumn(a,o,f);var h=a.getAttribute("rdDraggableColumnsID"),p=a.getAttribute("rdReportID");if(a.id=="dtAnalysisGrid"){var d=document.createElement("INPUT");d.type="HIDDEN",d.id="rdNoXslCache",d.name="rdNoXslCache",d.value="True",a.tHead.rows[0].cells[o].appendChild(d);var v=","+l+":"+c+":"+(f-o);rdAjaxRequest("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=SaveDraggableColumns&rdReport="+p+"&rdDraggableColumnsID="+h+"&rdDrags="+v+"&rdIsAg=True&rdAgID="+document.rdForm.rdAgId.value)}else{var m="";document.getElementById("rdDashboardPanelContainer")&&(m="&rdIsDashboard=True"),e.one(".rd-report-author-element")&&(m="&rdIsReportAuthor=True");var g=e.one(".rdDashboardPanelContainer"),v=","+o+":"+f;rdAjaxRequest("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=SaveDraggableColumns&rdReport="+p+"&rdDraggableColumnsID="+h+"&rdDrags="+v+m)}if(a.getAttribute("rdDraggableCtComp")!=null){var y=a.id,b=a.parentNode,w="";while(b.tagName!="BODY")b.id.indexOf("rdDashboardPanel-")==0&&(w="&bModifyCrosstabIdForDashboard=True"),b=b.parentNode;var E=document.getElementById("rdCtCompReportID").getAttribute("rdRequestedPage"),S=document.getElementById("rdCtCompCache").innerHTML,x=a.getAttribute("rdAnalysisGridID"),T="";x!=null&&x!=""&&(T="&rdAnalysisGridId="+x),rdAjaxRequestWithFormVars("rdAjaxCommand=RefreshElement&rdRefreshElementID="+y+"&rdReport="+E+"&rdDataCache="+S+"&rdCtCompDrags=True"+T+w,!1,"")}}},t.findColumn=function(t,n){var r=-1,i=t.tHead.rows[0].cells;for(var s=0;s<i.length;s++){var o=e.one(i[s]);if(o.getX()<=n&&n<=o.getX()+i[s].offsetWidth){r=s;break}}return r},t.moveColumn=function(e,t,n){var r,i,s=e.rows.length;while(s--){r=e.rows[s];if(r.cells[t]!=undefined){var o=r.removeChild(r.cells[t]);n<r.cells.length?r.insertBefore(o,r.cells[n]):r.appendChild(o)}}},LogiXML.DraggableColumns=t},"1.0.0",{requires:["dd-constrain","dd-proxy","dd-drop-plugin","dd-plugin","dd-scroll"]});

/* 
* rdResize/rdResizableColumns.js 
*/
YUI.add("resizable-columns",function(e){var t=e.namespace("LogiXML.ResizableColumns");t.initialize=function(){t.rdInitResizableColumns(),LogiXML.Ajax.AjaxTarget().on("reinitialize",this.rdInitResizableColumns)},t.plug=function(n,r){var i=e.one(r[n]),s=e.one(i.one("td.rdResizeHeaderRow")),o=null;if(!e.Lang.isValue(s)){var u=i._node.getElementsByClassName("rdResizeHeaderRow");for(var a=0;a<u.length;a++){o=u[a];if(o.tagName.toLowerCase()==="td"){s=e.one(o);break}}}if(e.Lang.isValue(s)){var f=i._stateProxy.outerHTML;e.Lang.isValue(i.getDOMNode().style.width)&&i.getDOMNode().style.width!=""&&parseInt(i.getStyle("width"),10)>0?f.indexOf("rdcondelement")>0&&i.getAttribute("conditionalProcessed")==""&&i.setAttribute("conditionalProcessed","true"):parseInt(i.getStyle("width"),10)>0?f.indexOf("rdcondelement")>0?(i.setAttribute("conditionalProcessed","true"),i.getDOMNode().style.width=i.get("offsetWidth")+4+"px"):i.getDOMNode().style.width=i.get("offsetWidth")-8+"px":i.getDOMNode().style.width="100px";if(LogiXML.features.touch)LogiXML.getElementByIdEnding(s,"-ResizeHandle","img").setStyle("visibility","visible");else{var l=LogiXML.getAncestorByTagName(s,"TH",!0);l.on("mouseover",function(e){LogiXML.getElementByIdEnding(e.currentTarget,"-ResizeHandle","img").setStyle("visibility","visible")}),l.on("mouseout",function(e){LogiXML.getElementByIdEnding(e.currentTarget,"-ResizeHandle","img").setStyle("visibility","hidden")})}if(!e.Lang.isValue(s.dd)){s.plug(e.Plugin.Drag);var c=s.dd;c.plug(e.Plugin.DDProxy,{positionProxy:!0,resizeFrame:!1,moveOnEnd:!1});var h=LogiXML.getElementByIdEnding(s,"-ResizeHandle","img");LogiXML.features.touch||h.setStyle("visibility","hidden"),c.addHandle("#"+LogiXML.escapeSelector(h.get("id"))).plug(e.Plugin.DDWinScroll,{vertical:!1,scrollDelay:5}),h.setStyle("cursor","col-resize"),LogiXML.fixYuiTest(h),c.on("drag:start",t._onResizeStart),c.on("drag:drag",t._onResize,s),c.on("drag:end",t._onResizeEnd,s)}}},t.rdFixTableWidth=function(n){if(!n)return;var r=e.one(n);n=r.getDOMNode();var i=0,s=0;s=parseInt(n.cellSpacing,10);if(!s||isNaN(s))s=0;var o=-1,u=LogiXML.features.touch;r.all("TH").each(function(n){o++,thDOM=n.getDOMNode(),t._enforceMinimumWidth(n);if(!u){var r=s;i==0&&(r+=s);var a=window.getComputedStyle(thDOM,null),f=0;if(a){var l=parseInt(a.getPropertyValue("border-left-width"),10);l&&!isNaN(l)&&(f+=l),l=parseInt(a.getPropertyValue("border-right-width"),10),l&&!isNaN(l)&&(f+=l)}var c=n.hasClass("yui3-dd-draggable");!c&&(!e.LogiXML||!e.LogiXML.ReportAuthor&&!e.LogiXML.Dashboard)&&(c=thDOM.getElementsByClassName("yui3-dd-draggable").length>0);if(c&&!n.ancestor().hasClass("rdAgHeaderRow")&&thDOM.getAttribute("id").indexOf("-TH")>-1){var h=thDOM.clientWidth;h+=f,h+=s,o==0&&(h+=s),i+=h}}}),typeof i=="number"&&!isNaN(i)&&i!=0&&(u?n.style.width=i-40+"px":n.style.width="1px",n.style.tableLayout="fixed")},t.rdInitResizableColumns=function(){var n=e.all("table[rdResizableColumnsID]"),r=n.size();for(var i=0;i<r;i++){var s=n.item(i).getDOMNode();s.tHead||(s.tHead=s.getElementsByTagName("THEAD")[0]);var o=s.tHead.rows[0].cells;for(var u=0;u<o.length;u++)t.plug(u,o);t.rdFixTableWidth(s)}},t.getWidths=function(){var t=e.all("table[rdResizableColumnsID]"),n=t.size(),r,i,s,o={};for(var u=0;u<n;u++){r=t.item(u).getDOMNode(),r.tHead==null&&(r.tHead=r.getElementById("thead")[0]),i=r.tHead.rows[0].cells;for(var a=0;a<i.length;a++)s=i[a],s&&s.id&&s.style&&s.style.width&&(o[s.id]=s.style.width)}return o},t._onResizeStart=function(e){var t=e.target,n=t.get("dragNode"),r=t.get("node");if(!r){e.halt();return}var i=LogiXML.getAncestorByTagName(r,"table",!1);if(!i){e.halt();return}n.setStyles({opacity:".00",borderLeft:"0px solid",borderTop:"0px",borderBottom:"0px",cursor:"col-resize",backgroundColor:"transparent"})},t._enforceMinimumWidth=function(e){if(!e)return;var t=e.one("table"),n=e.get("clientWidth"),r=e.getDOMNode(),i=window.getComputedStyle(r,null),s=0,o=0,u="";if(i){u=i.getPropertyValue("box-sizing");var a=parseInt(i.getPropertyValue("border-left-width"),10);a&&!isNaN(a)&&(o+=a),a=parseInt(i.getPropertyValue("border-right-width"),10),a&&!isNaN(a)&&(o+=a),a=parseInt(i.getPropertyValue("padding-left"),10),a&&!isNaN(a)&&(s+=a),a=parseInt(i.getPropertyValue("padding-right"),10),a&&!isNaN(a)&&(s+=a)}n-=s;var f=0;if(t){var l=t.get("scrollWidth");l>n&&(f=l-n)}var c;u=="border-box"?c=n+f+s+o:c=n+f,e.setStyle("width",c+"px")},t._onResize=function(e){var n=e.target,r=n.get("dragNode"),i=r.one("table"),s=n.get("node"),o=LogiXML.getAncestorByTagName(s,"TH",!0);if(n.mouseXY[0]<=o.getX()+20){e.halt();return}var u=o.get("offsetWidth"),a=o.getX()+o.get("clientWidth"),f=n.mouseXY[0]-a,l=u+f,c=LogiXML.getAncestorByTagName(o,"table",!0);if(!c){e.halt();return}o.setStyle("width",l+"px"),t._enforceMinimumWidth(o);var h=c.getDOMNode();t.rdFixTableWidth(h)},t._onResizeEnd=function(n){var r=n.target,i=r.get("dragNode"),s=r.get("node"),o=LogiXML.getAncestorByTagName(s,"TH",!0),u=o.get("offsetWidth"),a=o.getX()+o.get("offsetWidth"),f=r.mouseXY[0]-a,l=u+f,c=LogiXML.getAncestorByTagName(o,"table",!0);if(!c){n.halt();return}o.setStyle("width",l+"px"),t._enforceMinimumWidth(o);var h=c.getDOMNode();t.rdFixTableWidth(h);var p="",d=h.tHead.rows[0].cells,v,m;for(var g=0;g<d.length;g++){v=d[g],m=e.one(v);var y=h.tHead.rows[0].cells[g].id.replace("-TH","");e.Lang.isValue(m.getAttribute("rdctcolnr"))&&parseInt(m.getAttribute("rdctcolnr"),10)>=0?p+=","+y+"_rdctcolnr"+":"+parseInt(m.getDOMNode().style.width,10)+"_"+m.getAttribute("rdctcolnr"):p+=","+y+":"+parseInt(m.getDOMNode().style.width,10)}var b=parseInt(h.style.width,10);p+=","+c.getAttribute("ID")+":"+b;var w=h.getAttribute("rdResizableColumnsID"),E=h.getAttribute("rdReportID");p=encodeURIComponent(p);if(h.id=="dtAnalysisGrid"){var S=document.createElement("INPUT");S.type="HIDDEN",S.id="rdNoXslCache",S.name="rdNoXslCache",S.value="True",h.tHead.rows[0].cells[0].appendChild(S),rdAjaxRequest("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=SaveResizableColumns&rdReport="+E+"s&rdResizableColumnsID="+w+"&rdResize="+p+"&rdIsAg=True&rdAgID="+document.rdForm.rdAgId.value)}else{var x="";document.getElementById("rdDashboardPanelContainer")&&(x="&rdIsDashboard=True"),e.one(".rd-report-author-element")&&(x="&rdIsReportAuthor=True"),rdAjaxRequest("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=SaveResizableColumns&rdReport="+E+"&rdResizableColumnsID="+w+"&rdResize="+p+x)}},LogiXML.ResizableColumns=t},"1.0.0",{requires:["dd-constrain","dd-proxy","dd-drop-plugin","dd-plugin","dd-scroll"]});

/* 
* rdPopup/rdPopupPanel.js 
*/
function rdClosePreviousPopupPanel(e){var t=e.parentNode;while(t!=null){if(t.getAttribute&&t.getAttribute("rdPopupPanel")=="True")return;t=t.parentNode}var t=e.parentNode;while(t!=null){if(t.getAttribute&&t.getAttribute("rdPopupPanel")=="True")return;t=t.parentNode}var n=rdGetModalShade(rdCurrPopupPanel);rdCurrPopupPanel!=e&&(rdCurrPopupPanel.style.display="none",n&&(n.style.display="none"))}function rdPositionPopupPanel(e){var t=0,n=0,r=e.getAttribute("rdLocation"),i=document.body.scrollLeft==0?document.documentElement.scrollLeft:document.body.scrollLeft,s=document.body.scrollTop==0?document.documentElement.scrollTop:document.body.scrollTop,o=document.body.clientWidth<document.documentElement.offsetWidth?document.documentElement.offsetWidth:document.body.clientWidth,u=document.body.clientHeight<document.documentElement.clientHeight?document.documentElement.clientHeight:document.body.clientHeight,a=rdFindPosX(e.offsetParent),f=rdFindPosY(e.offsetParent);switch(r.toLowerCase()){case"center":t=o/2-e.offsetWidth/2+i,window.LogiXML.isRdEmbedded&&e.getAttribute("rdModal")=="True"?(n=100,e.style.position="fixed"):navigator.appName.indexOf("Microsoft Internet")==-1?document.doctype?n=document.documentElement.clientHeight/2-e.offsetHeight/2+s:n=document.body.clientHeight/2-e.offsetHeight/2+s:n=document.documentElement.offsetHeight/2-e.offsetHeight/2+s;break;case"mouse":t=rdMouseX-a,n=rdMouseY-f,o-=a,u-=f;var l=Y.DOM.region(e),c=Y.DOM.viewportRegion();typeof rdMobileReport!="undefined"&&navigator.appName.indexOf("Microsoft Internet")==-1?(n+e.offsetHeight>=window.scrollY+window.innerHeight&&(n-=e.offsetHeight),t+e.offsetWidth>=window.scrollX+window.innerWidth&&(t-=e.offsetWidth)):(f+n+l.height+10>c.bottom?(n=c.bottom-l.height-f-10,f+n<c.top&&(n=c.top-f)):n+=4,a+t+l.width+10>c.right?t=c.right-l.width-a-10:t+=4),t+a<0&&(t=a*-1),n+f<0&&(n=a*-1);break;default:var h=r.split(",");if(h.length==2){switch(h[0].toLowerCase()){case"left":typeof window.pageYOffset!="undefined"?t=window.pageXOffset:t=i,t+=4;break;case"right":e.getAttribute("rdOrigWidth")==null&&e.setAttribute("rdOrigWidth",e.offsetWidth),e.style.width=e.getAttribute("rdOrigWidth")+"px",typeof window.pageYOffset!="undefined"?t=window.pageXOffset+window.innerWidth-e.getAttribute("rdOrigWidth"):t=o-e.offsetWidth-i,t-=4;break;case"center":navigator.appName.indexOf("Microsoft Internet")==-1?document.doctype?t=document.documentElement.clientWidth/2-e.offsetWidth/2+i:t=document.body.clientWidth/2-e.offsetWidth/2+i:t=document.documentElement.offsetWidth/2-e.offsetWidth/2+i;break;default:t=parseInt(h[0]),isNaN(t)&&(t=0+i)}switch(h[1].toLowerCase()){case"top":typeof window.pageYOffset!="undefined"?n=window.pageYOffset:n=s,n+=4;break;case"bottom":typeof window.pageYOffset!="undefined"?(e.height=e.offsetHeight+"px",n=window.pageYOffset+window.innerHeight-e.offsetHeight):n=document.documentElement.clientHeight-e.offsetHeight+s,n-=4;break;case"center":navigator.appName.indexOf("Microsoft Internet")==-1?document.doctype?n=document.documentElement.clientHeight/2-e.offsetHeight/2+s:n=document.body.clientHeight/2-e.offsetHeight/2+s:n=document.documentElement.offsetHeight/2-e.offsetHeight/2+s;break;default:n=parseInt(h[1]),isNaN(n)&&(n=0+s)}}}document.getElementById("rdFreeformLayout")&&(document.getElementById("rdFreeformLayout").parentElement.id=="colReportAuthorWorkingArea"&&(e.style.position="fixed",t-=i,n-=s),rdGetModalShade(e)!=null&&(rdGetModalShade(e).style.position="fixed")),f+n<=0&&(n=f*-1),a+t<=0&&(t=a*-1),e.style.left=t+"px",e.style.top=n+"px"}function rdHidePopupPanelAndModalShade(e){var t=rdGetModalShade(e);e.style.display="none";if(t){var n=Y.one(e),r=n.ancestor(".rdDashboardPanel");r&&r.getDOMNode()&&(r.getDOMNode().style.opacity=r.getDOMNode().getAttribute("oldOpacity"));var i=Y.one(document).all("*[tabindex=-13579]")._nodes;for(var s=0;s<i.length;s++)i[s].getAttribute("oldTabindex")!==""?i[s].tabIndex=i[s].getAttribute("oldTabindex"):i[s].tabIndex=0;var o=function(){this.style.display="none"}.bind(t);setTimeout(o,1)}rdRemoveTheShim();var u=Y.one(e),a=u.ancestor(".rdResponsiveColumn");if(a!=undefined){if(a.ancestor(".rd-gridsystem-scrollbar-horizontalScrollbar")==undefined)return;a.setStyle("overflow-x","auto")}}function rdHandlePopupKeyDown(e){if(e&&e.keyCode==27){rdHidePopupPanelAndModalShade(rdCurrPopupPanel);if(rdCurrPopupPanel.id.indexOf("ppChangeDashboard")>-1||rdCurrPopupPanel.id.indexOf("ppEditBookmarks_actionEditBookmark")>-1||rdCurrPopupPanel.id.indexOf("ppTableCustomization")>-1)if(LogiXML&&LogiXML.Dashboard&&LogiXML.Dashboard.pageDashboard)LogiXML.Dashboard.pageDashboard.rdShowAddDashboardPanels();else{var t=Y.one(".rdReportAuthor");t&&(t=t.getData("rdReportAuthor"),t&&t.showAddPanels())}Y.one("body").detach("keydown",rdHandlePopupKeyDown)}else e&&e.keyCode==13&&(rdCurrPopupPanel.id.indexOf("ppChangeDashboard")>-1||rdCurrPopupPanel.id.indexOf("ppEditBookmarks_actionEditBookmark")>-1||rdCurrPopupPanel.id.indexOf("ppAddBookmarks_")>-1)&&e.preventDefault()}function rdGetModalShade(e){var t;try{e.previousSibling&&e.previousSibling.id.indexOf("_rdModalShade")>0&&(t=e.previousSibling)}catch(n){}try{var r=Y.one(e).ancestor().previous(".popupPanelModal");!t&&r&&(t=r.getDOMNode())}catch(n){}return t||(t=document.getElementById(e.id+"_rdModalShade")),t}function rdPopupModalWindowResize(e){var t=rdGetModalShade(rdCurrPopupPanel);if(t){var n=document.documentElement.clientWidth;n==0&&(n=document.body.clientWidth);var r=document.documentElement.clientHeight;r==0&&(r=document.body.clientHeight),n>document.body.scrollWidth?t.style.width=n+"px":t.style.width=document.body.scrollWidth+"px",r>document.body.scrollHeight?t.style.height=r+"px":t.style.height=document.body.scrollHeight+"px"}}function rdFadePanel(e,t,n,r,i){t>n&&(t=n),rdSetPanelOpacity(e,t);var s=50;i||(i=(n-t)/(r/s)),t+=i,t<=n&&setTimeout(function(){rdFadePanel(e,t,n,r,i)},s)}function rdSetPanelOpacity(e,t){var n=Y.one(e);n.setStyle("opacity",t)}function rdExpandPanel(e,t,n,r,i){var s=50;r||(r=0,n=Math.round(t/s),i=e.offsetHeight),r++,e.style.height=i/n*r+"px",eleTable=e.firstChild,eleTable.style.position="absolute",eleTable.style.height=e.style.height,r<n?setTimeout(function(){rdExpandPanel(e,t,n,r,i)},s):(e.style.height=i+"px",eleTable.style.height=e.style.height,eleTable.style.position="")}function rdRepositionPopupPanel(e,t,n,r){if(r>100)return;if(e.offsetWidth>n||e.offsetHeight>t)rdPositionPopupPanel(e),t=e.offsetHeight,n=e.offsetWidth;var i=parseInt(r)+1;setTimeout(function(){rdRepositionPopupPanel(e,t,n,i)},250)}function rdRemoveTheShim(){var e=Y.Selector.query("iframe#rdiFrameShim",document);if(e.length>0)for(i=0;i<e.length;i++){var t=e[i];t.parentNode.removeChild(t)}}function rdPutAShimOnTopOfObjects(e){var e=Y.Selector.query("OBJECT, APPLET, EMBED",document);for(var t=0;t<e.length;t++){var n=e[t],r=Y.one(n);if(r.get("visible")){var i=document.createElement("iframe");i.id="rdiFrameShim",i.style.position="absolute",i.style.width=parseInt(n.width)+4+"px",i.style.height=parseInt(n.height)+4+"px",i.style.left=parseInt(rdFindPosX(n))-2+"px",i.style.top=parseInt(rdFindPosY(n))-2+"px",i.style.zIndex="99",navigator.userAgent.match("Firefox")&&(i.style.backgroundColor="#E5E4E4"),i.setAttribute("frameborder","0"),document.body.appendChild(i)}}}function rdPutAShimBelowPopupPanel(e){var t=Y.Selector.query("OBJECT, APPLET, EMBED",document);if(t.length==0)return;for(i=0;i<t.length;i++){var n=t[i],r=Y.one(n),s=Y.one(e);if(r.intersect(s)!=null)return;break}var o=document.getElementById("rdiFrameShim_"+e.id);if(o==null){var o=document.createElement("iframe");o.id="rdiFrameShim_"+e.id,e.parentNode.appendChild(o)}o.style.position="fixed",o.style.width=parseInt(e.offsetWidth)+1+"px",o.style.height=parseInt(e.offsetHeight)+1+"px",navigator.userAgent.indexOf("MSIE 7.0")>-1&&e.offsetHeight<e.firstChild.offsetHeight&&(o.style.height=parseInt(e.firstChild.offsetHeight)+1+"px"),o.style.left=e.offsetLeft-2+"px",o.style.top=e.offsetTop-2+"px",o.style.zIndex="99",navigator.userAgent.match("Firefox")&&(o.style.backgroundColor="#E5E4E4"),o.setAttribute("frameborder","0")}var rdCurrPopupPanel,rdMouseX,rdMouseY;Y.use("dd-constrain","dd-plugin","dd-scroll","escape",function(e){LogiXML.PopupPanel.rdShowPopupPanel=function(t){var n;if(t.id.match("rdCtCompTooltip_")){var r;t.textContent!=undefined?r=t.textContent:r=t.innerText;if(r.replace(/^\s+/g,"").length==0){t.style.display="none";return}}rdCurrPopupPanel&&t.getAttribute("rdKeepOtherPopups")!=="True"&&((t.id.match("PPDatePickerForInputDate")||t.id.match("PPTimePickerForInputTime"))&&(rdCurrPopupPanel.id.match("PPDatePickerForInputDate")||rdCurrPopupPanel.id.match("PPTimePickerForInputTime"))&&rdClosePreviousPopupPanel(t),!t.id.match("PPDatePickerForInputDate")&&!t.id.match("PPTimePickerForInputTime")&&rdClosePreviousPopupPanel(t));var i=!0;t.id.match("ppColors_")&&(i=!1);var s=e.Selector.ancestor(t,".rdDashboardPanel");if(s!=null){var o=document.getElementById("rdDivDashboardPanelTable");if(o!=null&&i){var u=t.previousSibling;u&&u.id&&u.id.indexOf(t.id+"_rdModalShade")>-1&&(u.parentNode.removeChild(u),o.appendChild(u)),t.parentNode.removeChild(t);var a=document.getElementById(t.id);while(a!=null)a.parentNode.removeChild(a),a=document.getElementById(t.id);o.appendChild(t)}}rdCurrPopupPanel=t,rdMouseX=rdMouse.x,rdMouseY=rdMouse.y,rdPositionPopupPanel(t),t.id.match("PPDatePickerForInputDate")&&(rdCurrPopupPanel.style.whiteSpace="nowrap");try{if(!t.id.match("PPDatePickerForInputDate")&&navigator.appName.match("Microsoft")&&navigator.appVersion.match("MSIE 7.0")&&document.firstChild.text&&document.firstChild.text.match("DOCTYPE")){var f=document.styleSheets;for(v=0;v<f.length;v++){var l=f[v];l.href.match("rdTemplate/rdPopup/rdPopupPanel.css")&&l.addRule(".rdPopupContent","Height : 85%")}}}catch(c){}e.one("body").on("keydown",rdHandlePopupKeyDown);var h=e.one(t).all("input, select, textarea")._nodes;if(h.length>0)try{h[0].focus()}catch(c){}if(t.getAttribute("rdModal")=="True"){var p=e.one(t),d=p.ancestor(".rdDashboardPanel");d&&d.getDOMNode()&&(d.getDOMNode().setAttribute("oldOpacity",d.getDOMNode().style.opacity),d.getDOMNode().style.opacity=null);var h=e.one(document).all("a, BODY, button, frame, iframe, img, input, object, select, textarea, span[onclick]")._nodes;for(var v=0;v<h.length;v++)h[v].setAttribute("oldTabindex",h[v].tabIndex),h[v].tabIndex=-13579;h=e.one(t).all("a, BODY, button, frame, iframe, img, input, object, select, textarea, span[onclick]")._nodes;for(var v=0;v<h.length;v++)h[v].tabIndex=0;rdPutAShimOnTopOfObjects(),n=rdGetModalShade(t),n&&(rdPopupModalWindowResize(),location.href.indexOf("rdFade")==-1?rdSetPanelOpacity(n,.5):rdFadePanel(n,0,.5,125),n.style.display="",window.attachEvent?(window.attachEvent("onresize",rdPopupModalWindowResize),window.attachEvent("onscroll",rdPopupModalWindowResize)):(window.addEventListener("resize",rdPopupModalWindowResize,!1),window.addEventListener("scroll",rdPopupModalWindowResize,!1)));var m=e.one(document).all(".popupPanelContainer")._nodes,g=-1;for(var v=0;v<m.length;v++)window.getComputedStyle(m[v]).display!=="none"&&m[v].id!==t.id&&parseInt(window.getComputedStyle(m[v]).zIndex)>g&&(g=parseInt(window.getComputedStyle(m[v]).zIndex));g>-1&&(n&&(n.style.zIndex=g+1),t.style.zIndex=g+2)}location.href.indexOf("rdFade")!=-1&&rdFadePanel(rdCurrPopupPanel,0,1,250),location.href.indexOf("rdExpand")!=-1&&rdExpandPanel(rdCurrPopupPanel,250);if(t.getAttribute("rdDraggable")=="True"){var y="";typeof e.Escape!="undefined"&&typeof e.Escape.regex!="undefined"?y=e.Escape.regex("rdPopupPanelTitle_"+t.id):y="rdPopupPanelTitle_"+t.id;var b=e.one(t);if(!b.hasClass("yui3-dd-draggable")){var w=b.plug(e.Plugin.Drag);w.dd.on("drag:start",function(e){var t=this.get("dragNode");t.setStyles({opacity:.75})}),w.dd.on("drag:end",function(e){var n=this.get("dragNode");n.setStyles({opacity:1}),rdMouseX=t.style.posLeft,rdMouseY=t.style.posTop}),n?w.dd.plug(e.Plugin.DDConstrained,{constrain2node:n}):w.dd.plug(e.Plugin.DDConstrained,{constrain2node:e.one(document.body)});var E=e.one("#"+y);e.Lang.isNull(E)&&(E=e.one("#rdPopupPanelTitle_"+t.id)),b.dd.addHandle("#"+y).plug(e.Plugin.DDWinScroll),E.setStyle("cursor","move")}}rdPutAShimBelowPopupPanel(t);var S=e.one(t),x=S.ancestor(".rdResponsiveColumn");if(x!=undefined){if(x.ancestor(".rd-gridsystem-scrollbar-horizontalScrollbar")==undefined)return;x.setStyle("overflow-x","visible")}}}),Y.use("event-base",function(e){window.rdMouse=new Object,rdMouse.x=0,rdMouse.y=0,rdMouse.currentTarget=null,e.on("domready",function(){e.one("body").on("mousemove",function(e){rdMouse.x=e.pageX,rdMouse.y=e.pageY,rdMouse.currentTarget=e.currentTarget})})});

/* 
* rdAutoSizer.js 
*/
//19105
Y.on("windowresize",function(e){Y.all(".autoSize").each(function(e){var t=e.get("src");t=t.replace("rdTemplate/rdChart2.aspx","rdTemplate/rdChart2.aspx"),e.setStyle("width","1px"),e.removeAttribute("width"),e.removeAttribute("height"),e.set("src",t)}),Y.all(".autoSize").each(function(e){var t=e.get("src");t=t.replace("rdTemplate/rd1x1Trans.gif","rdTemplate/rdChart2.aspx");var n=t.split("&rdResizeWidth"),r=e.getDOMNode().offsetParent,i=r.clientWidth;i<=0&&(i=r.offsetWidth),Y.Lang.isValue(r.nodeName)&&r.nodeName.toLowerCase()=="div"&&r.id=="rdMainBody"&&(i=document.documentElement.clientWidth),i>document.documentElement.clientWidth&&(i=document.documentElement.clientWidth),i<10&&(i=10),t=n[0]+"&rdResizeWidth="+i,e.setStyle("width",i+"px"),e.removeAttribute("width"),e.removeAttribute("height"),e.set("src",t)})});

/* 
* rdIframeIOS.js 
*/
function setIframeIOSScrolling(){var e=/(iPad|iPhone|iPod)/g.test(navigator.userAgent);if(e){var t=document.getElementsByTagName("iframe");for(var n=0;n<t.length;n++)t[n].style={},t[n].parentNode.style["-webkit-overflow-scrolling"]="touch",t[n].parentNode.style.overflow="scroll"}};

/* 
* rdScroll.js 
*/
function rdSetScroll(){var e=rdGetScrollVar("rdScrollX"),t=rdGetScrollVar("rdScrollY");(e>0||t>0)&&window.scrollTo(e,t)}function rdResetScroll(){try{window.parent&&window.parent.scrollTo&&window.parent.scrollTo(0,0)}catch(e){}}function rdGetScroll(e){var t,n;return typeof window.pageXOffset!="undefined"?(t=window.pageXOffset,n=window.pageYOffset):!window.document.compatMode||window.document.compatMode=="BackCompat"?(t=window.document.body.scrollLeft,n=window.document.body.scrollTop):(t=window.document.documentElement.scrollLeft,n=window.document.documentElement.scrollTop),e=="y"?n:t}function rdGetScrollVar(e){var t=self.document.location.href;return t.indexOf(e)>=0?(t=t.substring(t.indexOf(e)+(e.length+1),t.length),t=t.substring(0,t.indexOf("&")>=0?t.indexOf("&"):t.length)):t="",unescape(t)};

/* 
* rdSchedule/rdScheduleScript.js 
*/
// Builds the ScheduleXml and ProcessParams documents stored in hidden input fields, based on the user's selections.
function rdSchSave(e,t){var n=rdSchValidateForm(e);if(n!=null&&n!=""){var r=htmlDecode(document.getElementById(e).value),s=null,o=null,u=null,a=null,f=null;switch(t){case"StartDate":case"EndDate":switch(t){case"StartDate":s='StartDate="',u=document.getElementById("datSchStartDate_"+e);break;case"EndDate":s='EndDate="',u=document.getElementById("datSchEndDate_"+e)}o=r.indexOf(s),f=u.value;break;case"Minutes":case"Hourly":case"Days":case"Weeks":case"DayOfMonth":switch(t){case"Minutes":s='RunEveryXMinutes="',u=document.getElementById("selSchMinutes_"+e);break;case"Hourly":s='RunEveryXHours="',u=document.getElementById("selSchHourly_"+e);break;case"Days":s='RunEveryXDays="',u=document.getElementById("txtSchDays_"+e);break;case"Weeks":s='RunEveryXWeeks="',u=document.getElementById("txtSchWeeks_"+e);break;case"DayOfMonth":s='DayOfMonth="',u=document.getElementById("txtSchMonths_"+e)}o=r.indexOf(s)+s.length,f=u.value}return f!=null?alert(n+"\n\nValue: "+f):alert(n),""}var l=document.getElementById("selSchInterval_"+e).value,r='<Schedule Type="'+(l=="Monthly"&&document.getElementById("chkSchMonthDayInterval_"+e+"_1").checked?"MonthlyDayOfWeek":l)+'"',u=document.getElementById("datSchStartDate_"+e),c=rdSchParseDate(u.attributes.rdFormatValue.value,u.value);r+=' StartDate="'+formatDate(c,"yyyy-MM-dd")+'"';if(document.getElementById("chkSchEndDate_"+e).checked&&document.getElementById("datSchEndDate_"+e).value!=""){var u=document.getElementById("datSchEndDate_"+e),c=rdSchParseDate(u.attributes.rdFormatValue.value,u.value);r+=' EndDate="'+formatDate(c,"yyyy-MM-dd")+'"';if(l=="Minutes"||l=="Hourly")r+=' EndTime="'+document.getElementById("selSchEndTime_"+e).value+'"'}r+=' FirstRunTime="'+document.getElementById("selSchFirstRunTime_"+e).value+'"';switch(l){case"Once":break;case"Minutes":r+=' RunEveryXMinutes="'+document.getElementById("selSchMinutes_"+e).value+'"';break;case"Hourly":r+=' RunEveryXHours="'+document.getElementById("selSchHourly_"+e).value+'"';break;case"Daily":r+=' RunEveryXDays="'+document.getElementById("txtSchDays_"+e).value+'"';break;case"Weekly":r+=' RunEveryXWeeks="'+document.getElementById("txtSchWeeks_"+e).value+'"',r+=' DaysOfWeek="'+rdSchDaysOfWeek(e)+'"';break;case"Monthly":document.getElementById("chkSchMonths_"+e+"_1").checked?r+=' DayOfMonth="'+document.getElementById("txtSchMonths_"+e).value+'"':(r+=' MonthlyNthOccurrence="'+document.getElementById("selSchMonthDayInterval_"+e).value+'"',r+=' MonthlyDayOfWeek="'+document.getElementById("selSchVariableMonthDay_"+e).value+'"'),r+=' Months="'+rdSchMonths(e)+'"'}r+=" />",document.getElementById(e).value=htmlEncode(r),document.getElementById("lblSchXml_"+e)!=null&&(document.getElementById("lblSchXml_"+e).innerText=r);var h="<LinkParams ",p=document.getElementById("rdSch_rowsAddtParams_"+e);if(p!=null){var d=p.getElementsByTagName("TR"),v=null,m=null,g=null,y=!1,b=new Array,w=0;for(i=0;i<d.length;i++)if(d[i].getElementsByTagName("INPUT").length==1){v=d[i].getElementsByTagName("INPUT")[0],m=v.id.substr(v.id.lastIndexOf("~")+1),y=!1;for(iparam=0;iparam<b.length;iparam++)if(b[iparam]==m){y=!0;break}y||(g=v.value.replace(/[&\"<>]/g,""),h+=m+'="'+g+'" ',b[w]=m,w+=1)}}return h+="/>",document.getElementById("rdProcessParams_"+e).value=htmlEncode(h),r}function rdSchValidateForm(e){var t;t=document.getElementById("datSchStartDate_"+e),sErrorMsg=rdValidateDate(t.id,t.attributes.rdFormatValue.value,"","","Start Date is not a valid date.","");if(sErrorMsg)return sErrorMsg;sErrorMsg=rdValidateRequired(t.id,"Start Date is required.","");if(sErrorMsg)return sErrorMsg;t=document.getElementById("datSchEndDate_"+e),sErrorMsg=rdValidateDate(t.id,t.attributes.rdFormatValue.value,"","","End Date is not a valid date.","");if(sErrorMsg)return sErrorMsg;sErrorMsg=rdValidateNumeric("txtSchDays_"+e,".","Days must be a number.","");if(sErrorMsg)return sErrorMsg;sErrorMsg=rdValidateNumeric("txtSchWeeks_"+e,".","Weeks must be a number.","");if(sErrorMsg)return sErrorMsg;sErrorMsg=rdValidateNumeric("txtSchMonths_"+e,".","Day of the month(s) must be a number.","");if(sErrorMsg)return sErrorMsg;if(document.getElementById("chkSchEndDate_"+e).checked==1&&compareDates(document.getElementById("datSchStartDate_"+e).value,document.getElementById("datSchStartDate_"+e).attributes["rdFormatValue"].value,document.getElementById("datSchEndDate_"+e).value,document.getElementById("datSchEndDate_"+e).attributes["rdFormatValue"].value)==1)return sErrorMsg="End Date cannot be less than Start Date",sErrorMsg;var n=document.getElementById("selSchInterval_"+e).value;if(n=="Monthly"){var r=rdSchMonths(e);if(r==0)return sErrorMsg="At least one month has to be selected",document.getElementById("chkSchMonth_"+e+"_Row1").checked=1,sErrorMsg}if(n=="Weekly"){var i=rdSchDaysOfWeek(e);if(i==0)return sErrorMsg="At least one day of the week has to be selected",document.getElementById("chkSchWeekDay_"+e+"_Row2").checked=2,sErrorMsg}if(n=="Hourly"){var s=document.getElementById("selSchHourly_"+e).value;if(s=="00")return sErrorMsg="Hours value cannot be equal zero",sErrorMsg}if(n=="Minutes"){var o=document.getElementById("selSchMinutes_"+e).value;if(o=="00")return sErrorMsg="Minutes value cannot be equal zero",sErrorMsg}}function rdSchAddParam(e){var t=prompt("Please enter a name for the parameter.","");if(t!=null&&t!=""){t=t.replace(/[^a-zA-Z0-9]_/g,""),t=t.replace(/^[0-9]+/,"");var n=document.getElementById("rdSch_rowsAddtParams_"+e);n.getElementsByTagName("TBODY").length==1&&(n=n.getElementsByTagName("TBODY")[0]);var r,i,s,o,u,a;r=document.createElement("TR"),r.id="rdSch_rowParam_"+e+"~"+t,i=document.createElement("TD"),s=document.createElement("Label"),s.id="rdSch_lblParam_"+e+"~"+t,s.htmlFor="rdSch_txtParam_"+e+"~"+t,s.appendChild(document.createTextNode(t)),i.appendChild(s),r.appendChild(i),i=document.createElement("TD"),u=document.createAttribute("class"),u.value="rdScheduleColumnGap",i.attributes.setNamedItem(u),r.appendChild(i),i=document.createElement("TD"),s=document.createElement("SPAN"),o=document.createElement("INPUT"),o.id="rdSch_txtParam_"+e+"~"+t,u=document.createAttribute("name"),u.value=o.id,o.attributes.setNamedItem(u),o.onblur=function(){NavigateLink2("javascript:rdSchSave('"+e+"');","","false","","")},o.value="",s.appendChild(o),i.appendChild(s),s=document.createElement("SPAN"),s.appendChild(document.createTextNode(" ")),i.appendChild(s),a=document.createElement("A"),a.id="actProcessParamsRemove_"+e+"~"+t,u=document.createAttribute("href"),u.value="javascript:NavigateLink2('javascript:rdSchRemoveParam(\""+e+'","'+t+"\");','','false','','')",a.attributes.setNamedItem(u),s=document.createElement("SPAN"),s.appendChild(document.createTextNode("-")),u=document.createAttribute("title"),u.value="Remove this parameter.",s.attributes.setNamedItem(u),a.appendChild(s),i.appendChild(a),r.appendChild(i),n.appendChild(r),rdSchSave(e)}}function rdSchRemoveParam(e,t){var n=document.getElementById("rdSch_rowParam_"+e+"~"+t);n.parentNode.removeChild(n),rdSchSave(e)}function rdSchParseDate(e,t){var n=new Date(t);return n.setTime(getDateFromFormat(t,e)),n}function rdSchDaysOfWeek(e){var t=0;return t+=document.getElementById("chkSchWeekDay_"+e+"_Row1").checked?1:0,t+=document.getElementById("chkSchWeekDay_"+e+"_Row2").checked?2:0,t+=document.getElementById("chkSchWeekDay_"+e+"_Row3").checked?4:0,t+=document.getElementById("chkSchWeekDay_"+e+"_Row4").checked?8:0,t+=document.getElementById("chkSchWeekDay_"+e+"_Row5").checked?16:0,t+=document.getElementById("chkSchWeekDay_"+e+"_Row6").checked?32:0,t+=document.getElementById("chkSchWeekDay_"+e+"_Row7").checked?64:0,t.toString()}function rdSchMonths(e){var t=0;return t+=document.getElementById("chkSchMonth_"+e+"_Row1").checked?1:0,t+=document.getElementById("chkSchMonth_"+e+"_Row2").checked?2:0,t+=document.getElementById("chkSchMonth_"+e+"_Row3").checked?4:0,t+=document.getElementById("chkSchMonth_"+e+"_Row4").checked?8:0,t+=document.getElementById("chkSchMonth_"+e+"_Row5").checked?16:0,t+=document.getElementById("chkSchMonth_"+e+"_Row6").checked?32:0,t+=document.getElementById("chkSchMonth_"+e+"_Row7").checked?64:0,t+=document.getElementById("chkSchMonth_"+e+"_Row8").checked?128:0,t+=document.getElementById("chkSchMonth_"+e+"_Row9").checked?256:0,t+=document.getElementById("chkSchMonth_"+e+"_Row10").checked?512:0,t+=document.getElementById("chkSchMonth_"+e+"_Row11").checked?1024:0,t+=document.getElementById("chkSchMonth_"+e+"_Row12").checked?2048:0,t.toString()}function rdSchUpdateControls(e){var t=document.getElementById("selSchInterval_"+e).value;ShowElement(this.id,"rowSchEndDate_"+e,t!="Once"?"Show":"Hide"),document.getElementById("rowSchRunEvery_"+e)&&ShowElement(this.id,"rowSchRunEvery_"+e,t!="Once"?"Show":"Hide"),ShowElement(this.id,"rowSchHourly_"+e,t=="Hourly"?"Show":"Hide"),ShowElement(this.id,"rowSchMinutes_"+e,t=="Minutes"?"Show":"Hide"),ShowElement(this.id,"rowSchDays_"+e,t=="Daily"?"Show":"Hide"),ShowElement(this.id,"rowSchWeeks_"+e,t=="Weekly"?"Show":"Hide"),t!="Weekly"?ShowElement(this.id,"rowSchWeekDays_"+e,"Hide"):(document.getElementById("rowSchWeekDays_"+e).attributes["class"]==null||document.getElementById("rowSchWeekDays_"+e).attributes["class"].value!="rdSchHidden")&&ShowElement(this.id,"rowSchWeekDays_"+e,"Show"),t!="Monthly"?(ShowElement(this.id,"rowSchMonths_"+e,"Hide"),ShowElement(this.id,"rowSchVariableMonthDay_"+e,"Hide"),ShowElement(this.id,"rowSchMonthsList_"+e,"Hide")):((document.getElementById("rowSchMonths_"+e).attributes["class"]==null||document.getElementById("rowSchMonths_"+e).attributes["class"].value!="rdSchHidden")&&ShowElement(this.id,"rowSchMonths_"+e,"Show"),(document.getElementById("rowSchVariableMonthDay_"+e).attributes["class"]==null||document.getElementById("rowSchVariableMonthDay_"+e).attributes["class"].value!="rdSchHidden")&&ShowElement(this.id,"rowSchVariableMonthDay_"+e,"Show"),(document.getElementById("rowSchMonthsList_"+e).attributes["class"]==null||document.getElementById("rowSchMonthsList_"+e).attributes["class"].value!="rdSchHidden")&&ShowElement(this.id,"rowSchMonthsList_"+e,"Show"));var n=document.getElementById("lblSchStartDate_"+e),r=document.getElementById("lblSchRunOn_"+e);t!="Once"?(rdSchShow(n),rdSchHide(r)):(rdSchShow(r),rdSchHide(n)),rdSchCheckEndTimeVisibility(e),rdSchSave(e)}function rdSchShow(e){e.style.display!=""&&(e.style.display="")}function rdSchHide(e){e.style.display!="none"&&(e.style.display="none")}function rdSchToggleMonthlyInterval(e,t){ShowElement(this.id,"divSchMonths_"+t,e=="day"?"Show":"Hide"),ShowElement(this.id,"divSchMonthDayIntervalPlaceHolder_"+t,e=="day"?"Show":"Hide"),ShowElement(this.id,"divSchMonthDayInterval_"+t,e=="day"?"Hide":"Show"),ShowElement(this.id,"divSchMonthsPlaceHolder_"+t,e=="day"?"Hide":"Show"),document.getElementById("chkSchMonths_"+t+"_1").checked=e=="day",document.getElementById("chkSchMonthDayInterval_"+t+"_1").checked=e!="day",rdSchSave(t)}function rdSchToggleEndDate(e){ShowElement(this.id,"divSchEndDate_"+e,document.getElementById("chkSchEndDate_"+e).checked?"Show":"Hide"),rdSchCheckEndTimeVisibility(e),rdSchSave(e)}function rdSchCheckEndTimeVisibility(e){var t=document.getElementById("chkSchEndDate_"+e).checked?"Show":"Hide",n=document.getElementById("selSchInterval_"+e).value;t!="Show"||n!="Minutes"&&n!="Hourly"?ShowElement(this.id,"rowSchEndTime_"+e,"Hide"):ShowElement(this.id,"rowSchEndTime_"+e,t)}function htmlEncode(e,t,n){function r(e){var t="";for(var n=0;n<e.length;n++){var r=e.charAt(n);if(r<" "||r>"~")r="&#"+r.charCodeAt()+";";t+=r}return t}function i(e){n=n>=0?Math.floor(n):4;var t=e.split(/\r\n|\r|\n/);for(var r=0;r<t.length;r++){var i=t[r],s="";for(var o=0;o<i.length;o++){var u=i.charAt(o);if(u==="	"){var a=n-s.length%n;for(var f=0;f<a;f++)s+=" "}else s+=u}s=s.replace(/(^ )|( $)/g,"&nbsp;"),t[r]=s}var l=t.join("<br />");return l=l.replace(/  /g," &nbsp;"),l}var s=e;return s=s.replace(/\&/g,"&amp;"),s=s.replace(/\</g,"&lt;"),s=s.replace(/\>/g,"&gt;"),t?s=i(s):s=s.replace(new RegExp('"',"g"),"&quot;"),s=r(s),s}function htmlDecode(e){var t=e;return t=t.replace(new RegExp("&amp;","g"),"&"),t=t.replace(new RegExp("&lt;","g"),"<"),t=t.replace(new RegExp("&gt;","g"),">"),t=t.replace(new RegExp("&quot;","g"),'"'),t};

/* 
* rdAnalysisChart/rdAcScript.js 
*/
function rdAcUpdateLabelsForGaugeNumber(e,t){var n=document.getElementById("rowGaugeMax_"+e).querySelector("#colorPicker_rdAcGaugeMaxColor_"+e);t?(document.getElementById("rowGaugeMax_"+e).querySelector("#lblMaxValue").innerText="Goal-3",n.alt="Pick a color for Goal-3.",n.title="Pick a color for Goal-3."):(document.getElementById("rowGaugeMax_"+e).querySelector("#lblMaxValue").innerText="Max",n.alt="Pick a color for Max",n.title="Pick a color for Max")}function rdAcUpdateControls(bRefresh,sReport,sAcId,bInit){var eleBatchSelection=document.getElementById("rowBatchSelection_"+sAcId);!eleBatchSelection&&!bInit&&(bRefresh=!0);var sCurrChartType=document.getElementById("rdAcChartType_"+sAcId).value,sElementIDs=sAcId+",divAcControls_"+sAcId+",cellAcChart_"+sAcId,bForecast=!1;document.getElementById("rdAcForecastType_"+sAcId)!=null&&(bForecast=!0),ShowElement(this.id,"lblChartXLabelColumn_"+sAcId,"Hide"),ShowElement(this.id,"lblChartXAxisColumn_"+sAcId,"Hide"),ShowElement(this.id,"lblChartYDataColumn_"+sAcId,"Hide"),ShowElement(this.id,"lblChartYAxisColumn_"+sAcId,"Hide"),ShowElement(this.id,"lblChartSizeColumn_"+sAcId,"Hide"),ShowElement(this.id,"rdAcChartSizeAggrLabel_"+sAcId,"Hide"),ShowElement(this.id,"rowChartXColumn_"+sAcId,"Hide"),ShowElement(this.id,"rowChartCrosstabColumn_"+sAcId,"Hide"),ShowElement(this.id,"rdAcChartXLabelColumn_"+sAcId,"Hide"),ShowElement(this.id,"rdAcChartXDataColumn_"+sAcId,"Hide"),ShowElement(this.id,"rdAcChartYColumn_"+sAcId,"Hide"),ShowElement(this.id,"rdChartYShowValues_"+sAcId,"Hide"),ShowElement(this.id,"rdAcChartYAggrLabel_"+sAcId,"Hide"),ShowElement(this.id,"rdAcChartYAggrList_"+sAcId,"Hide"),ShowElement(this.id,"rdAcChartsLabelSortSequence_"+sAcId,"Hide"),ShowElement(this.id,"rdAcChartsLabelSortSequence_"+sAcId+"-Caption","Hide"),ShowElement(this.id,"rowChartExtraDataColumn_"+sAcId,"Hide"),ShowElement(this.id,"rowChartForecast_"+sAcId,"Hide"),ShowElement(this.id,"rowChartOrientation_"+sAcId,"Hide"),ShowElement(this.id,"rowChartRelevance_"+sAcId,"Hide"),ShowElement(this.id,"rowGaugeType_"+sAcId,"Hide"),ShowElement(this.id,"rowGaugeMin_"+sAcId,"Hide"),ShowElement(this.id,"rowGaugeGoal1_"+sAcId,"Hide"),ShowElement(this.id,"rowGaugeGoal2_"+sAcId,"Hide"),ShowElement(this.id,"rowGaugeMax_"+sAcId,"Hide"),ShowElement(this.id,"rdAcChartExtraAggrListCompare_"+sAcId,"Hide"),rdAcUpdateLabelsForGaugeNumber(sAcId,!1);var eleCrosstab=document.getElementById("rdAcChartCrosstabColumn_"+sAcId),sCrosstabColumn="";eleCrosstab&&(sCrosstabColumn=eleCrosstab.value);switch(sCurrChartType){case"Pie":case"Bar":ShowElement(this.id,"lblChartXLabelColumn_"+sAcId,"Show"),ShowElement(this.id,"lblChartYDataColumn_"+sAcId,"Show"),ShowElement(this.id,"rowChartXColumn_"+sAcId,"Show"),ShowElement(this.id,"rdAcChartXLabelColumn_"+sAcId,"Show"),ShowElement(this.id,"rdAcChartYColumn_"+sAcId,"Show"),ShowElement(this.id,"rdChartYShowValues_"+sAcId,"Show"),ShowElement(this.id,"rdAcChartYAggrLabel_"+sAcId,"Show"),ShowElement(this.id,"rdAcChartYAggrList_"+sAcId,"Show"),sCurrChartType=="Bar"&&ShowElement(this.id,"rowChartOrientation_"+sAcId,"Show"),rdAcGetGroupByDateOperatorDiv(document.getElementById("rdAcChartXLabelColumn_"+sAcId).value,sAcId),sCurrChartType=="Pie"||sCurrChartType==""?(document.getElementById("rdAcChartsDateGroupBy_"+sAcId).style.display="none",document.getElementById("rdAcChartsDateGroupBy_"+sAcId+"-Caption").style.display="none",bForecast&&document.getElementById("rowChartForecast_"+sAcId)!=null&&rdAcHideForecast(sAcId)):bForecast&&(document.getElementById("rdAcForecastType_"+sAcId).style.display="",document.getElementById("rdAcChartForecastLabel_"+sAcId).style.display="",rdModifyTimeSeriesCycleLengthOptions(document.getElementById("rdAcChartsDateGroupBy_"+sAcId),sAcId),rdSetForecastOptions(document.getElementById("rdAcChartXLabelColumn_"+sAcId).value,sAcId),rdShowForecast(document.getElementById("rdAcChartXLabelColumn_"+sAcId).value,sAcId));var sLabelColumn=document.getElementById("rdAcChartXLabelColumn_"+sAcId).value,sLabelColumnType=rdAcGetColumnDataType(sLabelColumn,sAcId);sLabelColumnType=="Text"&&(sCurrChartType=="Bar"||sCurrChartType=="Pie")&&(ShowElement(this.id,"rdAcChartsLabelSortSequence_"+sAcId,"Show"),ShowElement(this.id,"rdAcChartsLabelSortSequence_"+sAcId+"-Caption","Show"));if(sLabelColumnType=="Text")if(sCrosstabColumn==""||sCurrChartType=="Pie"){ShowElement(this.id,"rowChartRelevance_"+sAcId,"Show");var sRelevanceType=document.getElementById("rdAcRelevanceType_"+sAcId).value;sRelevanceType=="None"?(ShowElement(this.id,"rdAcRelevanceValue_"+sAcId,"Hide"),ShowElement(this.id,"lblShowOthers_"+sAcId,"Hide"),ShowElement(this.id,"rdAcRelevanceOther_"+sAcId,"Hide")):(ShowElement(this.id,"rdAcRelevanceValue_"+sAcId,"Show"),ShowElement(this.id,"lblShowOthers_"+sAcId,"Show"),ShowElement(this.id,"rdAcRelevanceOther_"+sAcId,"Show"))}break;case"Line":case"Spline":ShowElement(this.id,"lblChartXAxisColumn_"+sAcId,"Show"),ShowElement(this.id,"lblChartYAxisColumn_"+sAcId,"Show"),ShowElement(this.id,"rowChartXColumn_"+sAcId,"Show"),ShowElement(this.id,"rdAcChartXDataColumn_"+sAcId,"Show"),ShowElement(this.id,"rdAcChartYColumn_"+sAcId,"Show"),ShowElement(this.id,"rdChartYShowValues_"+sAcId,"Show"),rdAcShowLineAggrOptions(sAcId);var sColumn=document.getElementById("rdAcChartXDataColumn_"+sAcId).value,sDataColumnType=rdAcGetColumnDataType(sColumn,sAcId);if(sDataColumnType.toLowerCase().indexOf("number")!=-1||sDataColumnType.toLowerCase().indexOf("date")!=-1)if(sDataColumnType.toLowerCase().indexOf("date")!=-1){var sDateTimeAggregation=document.getElementById("rdAcChartsDateGroupBy_"+sAcId).value;if(sDateTimeAggregation==""){var eleYAggregationDropDown=document.getElementById("rdAcChartYAggrList_"+sAcId),sYColumn=document.getElementById("rdAcChartYColumn_"+sAcId).value;if(sYColumn!=""){var sYDataColumnType=rdAcGetColumnDataType(sYColumn,sAcId);eleYAggregationDropDown&&sYDataColumnType.toLowerCase().indexOf("number")!=-1&&(eleYAggregationDropDown.value="AVERAGE",ShowElement(this.id,"rdAcChartYAggrList_"+sAcId,"Hide"))}}}ShowElement(this.id,"rowChartOrientation_"+sAcId,"Hide"),bForecast&&(document.getElementById("rdAcChartCrosstabColumn_"+sAcId)&&document.getElementById("rdAcChartCrosstabColumn_"+sAcId).value!=""?rdAcHideForecast(sAcId):(document.getElementById("rdAcForecastType_"+sAcId).style.display="",document.getElementById("rdAcChartForecastLabel_"+sAcId).style.display="",rdSetForecastOptions(document.getElementById("rdAcChartXDataColumn_"+sAcId).value,sAcId),rdModifyTimeSeriesCycleLengthOptions(document.getElementById("rdAcChartsDateGroupBy_"+sAcId),sAcId),rdShowForecast(sColumn,sAcId))),rdAcGetGroupByDateOperatorDiv(document.getElementById("rdAcChartXDataColumn_"+sAcId).value,sAcId);break;case"Scatter":ShowElement(this.id,"lblChartXAxisColumn_"+sAcId,"Show"),ShowElement(this.id,"lblChartYAxisColumn_"+sAcId,"Show"),ShowElement(this.id,"rowChartXColumn_"+sAcId,"Show"),ShowElement(this.id,"rdAcChartXDataColumn_"+sAcId,"Show"),ShowElement(this.id,"rdAcChartYColumn_"+sAcId,"Show"),ShowElement(this.id,"rdChartYShowValues_"+sAcId,"Show"),ShowElement(this.id,"rowChartForecast_"+sAcId,"Show");var sColumn=document.getElementById("rdAcChartXDataColumn_"+sAcId).value,sDataColumnType=rdAcGetColumnDataType(sColumn,sAcId);document.getElementById("rdAcChartsDateGroupBy_"+sAcId).style.display="none",document.getElementById("rdAcChartsDateGroupBy_"+sAcId+"-Caption").style.display="none";if(bForecast){var sColumn=document.getElementById("rdAcChartXDataColumn_"+sAcId).value;rdSetForecastOptions(sColumn,sAcId),rdShowForecast(sColumn,sAcId)}break;case"Heatmap":ShowElement(this.id,"lblChartXLabelColumn_"+sAcId,"Show"),ShowElement(this.id,"lblChartSizeColumn_"+sAcId,"Show"),ShowElement(this.id,"rdAcChartSizeAggrLabel_"+sAcId,"Show"),ShowElement(this.id,"rowChartXColumn_"+sAcId,"Show"),ShowElement(this.id,"rdAcChartXLabelColumn_"+sAcId,"Show"),ShowElement(this.id,"rdAcChartYColumn_"+sAcId,"Show"),ShowElement(this.id,"rdAcChartYAggrList_"+sAcId,"Show"),ShowElement(this.id,"rowChartExtraDataColumn_"+sAcId,"Show"),document.getElementById("rdAcChartsDateGroupBy_"+sAcId).style.display="none",document.getElementById("rdAcChartsDateGroupBy_"+sAcId+"-Caption").style.display="none";break;case"Gauge":ShowElement(this.id,"lblChartYDataColumn_"+sAcId,"Show"),ShowElement(this.id,"rdAcChartYColumn_"+sAcId,"Show"),ShowElement(this.id,"rdAcChartYAggrLabel_"+sAcId,"Show"),ShowElement(this.id,"rdAcChartYAggrList_"+sAcId,"Show"),ShowElement(this.id,"rowGaugeType_"+sAcId,"Show"),ShowElement(this.id,"rowGaugeMin_"+sAcId,"Show"),ShowElement(this.id,"rowGaugeGoal1_"+sAcId,"Show"),ShowElement(this.id,"rowGaugeGoal2_"+sAcId,"Show"),ShowElement(this.id,"rowGaugeMax_"+sAcId,"Show"),document.getElementById("rdAcGaugeType_"+sAcId).value=="Number"&&(ShowElement(this.id,"rowGaugeMin_"+sAcId,"Hide"),rdAcUpdateLabelsForGaugeNumber(sAcId,!0))}sCrosstabColumn!=""&&(sCurrChartType=="Bar"||sCurrChartType=="Line")&&rdAcHideForecast(sAcId);var eleShowValuesDropdown=document.getElementById("rdAcShowValues_"+sAcId);if(sCurrChartType=="Pie"){if(eleShowValuesDropdown.length<3&&eleShowValuesDropdown.hasAttribute("rdPercentageCaption")){var eleOptionPercentage=document.createElement("option");eleOptionPercentage.value=eleShowValuesDropdown.getAttribute("Percent"),eleOptionPercentage.text=eleShowValuesDropdown.getAttribute("rdPercentageCaption"),eleShowValuesDropdown.add(eleOptionPercentage)}}else eleShowValuesDropdown.length==3&&(eleShowValuesDropdown.setAttribute("rdPercentageCaption",eleShowValuesDropdown.options[2].text),eleShowValuesDropdown.options.remove(2));rdAcSetButtonStyle(sAcId,sCurrChartType,"Pie"),rdAcSetButtonStyle(sAcId,sCurrChartType,"Bar"),rdAcSetButtonStyle(sAcId,sCurrChartType,"Line"),rdAcSetButtonStyle(sAcId,sCurrChartType,"Spline"),rdAcSetButtonStyle(sAcId,sCurrChartType,"Scatter"),rdAcSetButtonStyle(sAcId,sCurrChartType,"Heatmap"),rdAcSetButtonStyle(sAcId,sCurrChartType,"Gauge"),rdAcLoadDropdowns(sCurrChartType,sAcId);if(rdAcLoadDropdowns_changed)rdAcUpdateControls(bRefresh,sReport,sAcId,bInit);else if(bRefresh){var extraAggrDD=document.getElementById("rdAcChartExtraAggrListCompare_"+sAcId);extraAggrDD&&extraAggrDD.style.display.toLowerCase()=="none"&&(extraAggrDD.value="");var crosstabColumnRow=document.getElementById("rowChartCrosstabColumn_"+sAcId);if(crosstabColumnRow&&crosstabColumnRow.style.display.toLowerCase()=="none"){var crosstabColumnDD=document.getElementById("rdAcChartCrosstabColumn_"+sAcId);crosstabColumnDD.value=""}var stackingDD=document.getElementById("rdAcStacking_"+sAcId);stackingDD&&stackingDD.style.display.toLowerCase()=="none"&&(stackingDD.value="");var forecastRow=document.getElementById("rowChartForecast_"+sAcId);if(forecastRow&&forecastRow.style.display.toLowerCase()=="none"){var forecastTypeDD=document.getElementById("rdAcForecastType_"+sAcId);forecastTypeDD.value="none"}sElementIDs+=",lblHeadingAnalChart_"+sAcId;var sAjaxUrl="rdAjaxCommand=RefreshElement&rdAcRefresh=True&rdRefreshElementID="+sElementIDs+"&rdReport="+sReport+"&rdAcId="+sAcId;sAjaxUrl+="&rdAcNewCommand=True";var waitCfg=["","",""],eleWaitCfg=document.getElementById("rdWaitCfg");if(eleWaitCfg)try{var sScript=eleWaitCfg.parentElement.href;sScript=sScript.substr(sScript.indexOf("[")),waitCfg=eval(sScript.substr(0,sScript.indexOf("]")+1))}catch(e){}rdAjaxRequestWithFormVars(sAjaxUrl,"false","",!0,null,null,waitCfg)}}function rdHideShowComboAggregationDropDown(e,t,n){if(e){var r=document.getElementById("rdAcStacking_"+t).value;r==""?(rdAcSetAvailableStacking(t,"rdAcChartCrosstabColumn","rdAcStacking"),r=document.getElementById("rdAcStacking_"+t).value):rdSetOrientationToVerticalIfLine(t);var i=document.getElementById("rdAcChartYAggrList_"+t);i&&i.style.display=="none"&&(e=!1)}var s=document.getElementById("rdAcChartCrosstabColumn_"+t);if(s.value!=""){var o=s.value,u=rdAcGetColumnDataType(s.value,t);if(u=="Text"){var a=document.getElementById("rdAcNoAggregatesColumns_"+t),a=a.value.split(",");if(a.indexOf(o)!=-1){var f=document.getElementById("rdAcChartExtraAggrListCompare_"+t);f.value="",e=!1}}}e?ShowElement(n,"rdAcChartExtraAggrListCompare_"+t,"Show"):(ShowElement(n,"rdAcChartExtraAggrListCompare_"+t,"Hide"),document.getElementById("rdAcChartExtraAggrListCompare_"+t).value="")}function rdAcShowAddToDashboard(e){if(typeof LogiXML.AnalysisGrid.rdAgToggleChartPanel=="function"){var t=document.getElementById("colAnalChartAddDashboard_"+e);t&&(t.style.display="")}else{var t=document.getElementById("divAddToDashboardPanel_"+e);t&&(t.style.display="")}}function rdAcLoadDropdowns(e,t){rdAcLoadDropdowns_changed=!1,e=="Pie"||e=="Heatmap"?rdAcSetDropdownColumns(t,"rdAcChartXLabelColumn","Text,Boolean",null,"NoGrouping"):rdAcSetDropdownColumns(t,"rdAcChartXLabelColumn","Text,Date,DateTime,Boolean",null,"NoGrouping");if(e=="Scatter")rdAcSetDropdownColumns(t,"rdAcChartYColumn","Number");else if(e=="Line"||e=="Spline"){var n=!1,r=document.getElementById("rdAcChartXDataColumn_"+t).value,i=rdAcGetColumnDataType(r,t),s=document.getElementById("rdAcChartsDateGroupBy_"+t).value;i.toLowerCase().indexOf("date")!=-1&&s!=""?rdAcSetDropdownColumns(t,"rdAcChartYColumn","Text,Number",null,"NoAggregates"):rdAcSetDropdownColumns(t,"rdAcChartYColumn","Number")}else rdAcSetDropdownColumns(t,"rdAcChartYColumn","Text,Boolean,Number",null,"NoAggregates");var o=document.getElementById("rdAcChartCrosstabColumn_"+t);if(o){if(e=="Bar"||e=="Line"||e=="Spline"||e=="Scatter"){var u=!1;if(e=="Bar")u=!0;else if(e=="Line"||e=="Spline"){var a=document.getElementById("rdAcChartsDateGroupBy_"+t);a.style.display!="none"&&a.value!=""&&(u=!0)}rdAcSetDropdownColumns(t,"rdAcChartCrosstabColumn","Number,Text,Boolean",!0,"NoCompare");if(u){var f=Y.all("#rdAcChartCrosstabColumn_"+t+" OPTION")._nodes;for(var l=f.length-1;l>=0;l--){var c=f[l];if(c.value!=""){var r=c.value,h=rdAcGetColumnDataType(c.value,t);if(h=="Text"||h=="Boolean"){var p=document.getElementById("rdAcNoGroupingColumns_"+t),d=p.value.split(",");d.indexOf(r)!=-1&&c.parentNode.removeChild(c)}else if(h=="Number"){var v=document.getElementById("rdAcNoAggregatesColumns_"+t),v=v.value.split(",");v.indexOf(r)!=-1&&c.parentNode.removeChild(c)}}}}}else rdAcSetDropdownColumns(t,"rdAcChartCrosstabColumn","(none)");if(o.options.length>1){ShowElement(this.id,"rowChartCrosstabColumn_"+t,"Show");if(o.value=="")ShowElement(this.id,"rdAcStacking_"+t,"Hide"),rdHideShowComboAggregationDropDown(!1,t,this.id),ShowElement(this.id,"rdAcAxisType_"+t,"Hide");else{ShowElement(this.id,"rdAcStacking_"+t,"Show"),rdHideShowComboAggregationDropDown(!0,t,this.id);var m=document.getElementById("rdAcStacking_"+t);ShowElement(this.id,"rdAcAxisType_"+t,m&&m.value&&m.value.indexOf("Combo_")!=-1?"Show":"Hide")}}}rdAcSetDropdownAggrs(t,"rdAcChartYAggrList","rdAcChartYColumn",null,!1),rdAcSetDropdownAggrs(t,"rdAcChartExtraAggrList","rdAcChartExtraDataColumn",null,!1),rdAcSetDropdownAggrs(t,"rdAcChartExtraAggrListCompare","rdAcChartCrosstabColumn",e,!0),rdAcSetAvailableStacking(t,"rdAcChartCrosstabColumn","rdAcStacking",e)}function rdAcSetDropdownColumns(e,t,n,r,i){var s=document.getElementById(t+"_"+e);if(!s)return;var o=s.value;for(var u=s.childNodes.length-1;u>=0;u--){var a=s.childNodes[u];if(a.tagName=="OPTION"||a.tagName=="OPTGROUP"){if(r&&a.tagName=="OPTION"&&a.value=="")continue;s.removeChild(a)}}var f=document.getElementById("rdAcAllColumnsHidden_"+e);for(var u=0;u<f.childNodes.length;u++){var a=f.childNodes[u];(a.tagName=="OPTION"||a.tagName=="OPTGROUP")&&s.appendChild(a.cloneNode(!0))}var l="".split(",");if(i){var c=document.getElementById("rdAc"+i+"Columns_"+e);l=c.value.split(",")}var h=Y.all("#"+t+"_"+e+" OPTION")._nodes;for(var u=h.length-1;u>=0;u--){var p=h[u];if(p.value!=""){var d=rdAcGetColumnDataType(p.value,e);n.indexOf(d)==-1?p.parentNode.removeChild(p):l.indexOf(p.value)!=-1&&p.parentNode.removeChild(p)}}var v=Y.all("#"+t+"_"+e+" OPTGROUP")._nodes;for(var u=v.length-1;u>=0;u--){var m=v[u];m.getElementsByTagName("OPTION").length==0&&m.parentNode.removeChild(m)}s.value=o,!r&&s.value==""&&s.options[0]&&(s.value=s.options[0].value,rdAcLoadDropdowns_changed=!0)}function rdAcSetDropdownAggrs(e,t,n,r,i){var s=document.getElementById(t+"_"+e);if(!s)return;var o=s.value;for(var u=s.childNodes.length-1;u>=0;u--){var a=s.childNodes[u];a.tagName=="OPTION"&&s.removeChild(a)}var f=document.getElementById(n+"_"+e),l=rdAcGetColumnDataType(f.value,e),c=document.getElementById("rdAcAllAggrsHidden_"+e);for(var u=0;u<c.childNodes.length;u++){var a=c.childNodes[u];a.tagName=="OPTION"&&(l=="Number"?a.value!=""&&s.appendChild(a.cloneNode(!0)):(a.value.toLowerCase().indexOf("count")!=-1||a.value==""&&r!="Scatter"&&i)&&s.appendChild(a.cloneNode(!0)))}s.value=o,s.value==""&&(s.value=s.options[0].value)}function rdAcSetAvailableStacking(e,t,n,r){var i=document.getElementById(n+"_"+e);if(!i)return;var s=i.value;for(var o=i.childNodes.length-1;o>=0;o--){var u=i.childNodes[o];u.tagName=="OPTION"&&i.removeChild(u)}var a=document.getElementById(t+"_"+e);if(a.value=="")return;var f=rdAcGetColumnDataType(a.value,e),l=document.getElementById("rdAcChartExtraAggrListCompare_"+e),c=document.getElementById("rdAcAllStackingHidden_"+e);for(var o=0;o<c.childNodes.length;o++){var u=c.childNodes[o];if(u.tagName=="OPTION")if(f=="Number"){if(u.value.toLowerCase().indexOf("combo")==-1)continue;i.appendChild(u.cloneNode(!0))}else{if(l.value==""&&u.value.toLowerCase().indexOf("combo")!=-1)continue;if(l.value!=""&&u.value.toLowerCase().indexOf("combo")==-1)continue;i.appendChild(u.cloneNode(!0))}}i.value=s,i.value==""&&(i.value=i.options[0].value),r&&r=="Scatter"&&f!="Number"&&(ShowElement(this.id,"rdAcStacking_"+e,"Hide"),ShowElement(this.id,"rowChartForecast_"+e,"Hide")),rdSetOrientationToVerticalIfLine(e)}function rdAcSetButtonStyle(e,t,n){var r=document.getElementById("lblChart"+n+"_"+e);if(r){n==t?r.className="rdAcCommandHighlight":r.className="rdAcCommandIdle";var i=!1;r.parentNode.nextSibling.tagName=="A"&&r.parentNode.previousSibling.id.indexOf("actionShow")!=0&&(r.className=r.className+" rdAcCommandLeft",i=!0),r.parentNode.previousSibling.tagName=="A"&&r.parentNode.nextSibling.id.indexOf("actionShow")!=0&&(r.className=r.className+" rdAcCommandRight",i=!0),i||(r.className=r.className+" rdAcCommandMiddle")}}function rdShowForecast(e,t){if(document.getElementById("rdAcForecastType_"+t)==null)return;var n=rdAcGetColumnDataType(e,t);if(!n){rdAcHideForecast(t);return}if(n.toLowerCase()=="text"||n.toLowerCase()=="boolean"){rdAcHideForecast(t);return}var r=document.getElementById("rdAcStacking_"+t).value;if(r&&r.indexOf("Combo_")!=-1){rdAcHideForecast(t);return}ShowElement(this.id,"rowChartForecast_"+t,"Show");var i=document.getElementById("rdAcForecastType_"+t);if(i.value=="TimeSeriesDecomposition"){["FirstDayOfYear","FirstDayOfFiscalYear"].indexOf(document.getElementById("rdAcChartsDateGroupBy_"+t).value)>-1?(document.getElementById("rdAcTimeSeriesCycle_"+t).style.display="none",document.getElementById("rdAcTimeSeriesCycle_"+t+"-Caption").style.display="none"):(document.getElementById("rdAcTimeSeriesCycle_"+t).style.display="",document.getElementById("rdAcTimeSeriesCycle_"+t+"-Caption").style.display=""),document.getElementById("rdAcRegressionType_"+t).style.display="none",document.getElementById("rdAcRegressionType_"+t+"-Caption").style.display="none",document.getElementById("rdAcTrendLineType_"+t).style.display="none",document.getElementById("rdAcTrendLineType_"+t+"-Caption").style.display="none";return}if(i.value=="Regression"){var s=document.getElementById("rdAcRegressionType_"+t);document.getElementById("rdAcRegressionType_"+t).style.display="",document.getElementById("rdAcRegressionType_"+t+"-Caption").style.display="",document.getElementById("rdAcTimeSeriesCycle_"+t).style.display="none",document.getElementById("rdAcTimeSeriesCycle_"+t+"-Caption").style.display="none",document.getElementById("rdAcTrendLineType_"+t).style.display="none",document.getElementById("rdAcTrendLineType_"+t+"-Caption").style.display="none";return}i.value=="TrendLine"?(document.getElementById("rdAcTimeSeriesCycle_"+t).style.display="none",document.getElementById("rdAcTimeSeriesCycle_"+t+"-Caption").style.display="none",document.getElementById("rdAcRegressionType_"+t).style.display="none",document.getElementById("rdAcRegressionType_"+t+"-Caption").style.display="none",document.getElementById("rdAcTrendLineType_"+t).style.display="",document.getElementById("rdAcTrendLineType_"+t+"-Caption").style.display=""):(document.getElementById("rdAcTimeSeriesCycle_"+t).style.display="none",document.getElementById("rdAcTimeSeriesCycle_"+t+"-Caption").style.display="none",document.getElementById("rdAcRegressionType_"+t).style.display="none",document.getElementById("rdAcRegressionType_"+t+"-Caption").style.display="none",document.getElementById("rdAcTrendLineType_"+t).style.display="none",document.getElementById("rdAcTrendLineType_"+t+"-Caption").style.display="none")}function rdAcHideForecast(e){if(document.getElementById("rdAcForecastType_"+e)==null)return;document.getElementById("rowChartForecast_"+e).style.display="none",document.getElementById("rdAcForecastType_"+e).style.display="none",document.getElementById("rdAcChartForecastLabel_"+e).style.display="none",document.getElementById("rdAcTimeSeriesCycle_"+e).style.display="none",document.getElementById("rdAcTimeSeriesCycle_"+e+"-Caption").style.display="none",document.getElementById("rdAcRegressionType_"+e).style.display="none",document.getElementById("rdAcRegressionType_"+e+"-Caption").style.display="none"}function rdAcShowLineAggrOptions(e){var t=document.getElementById("rdAcChartXDataColumn_"+e).value,n=document.getElementById("rdAcChartYColumn_"+e).value;if(t==""){document.getElementById("rowChartYAggr_"+e).style.display="none";return}ShowElement(this.id,"rdAcChartYAggrLabel_"+e,"Hide"),ShowElement(this.id,"rdAcChartYAggrList_"+e,"Hide");var r=rdAcGetColumnDataType(t,e);if(r.toLowerCase()=="text"||r.toLowerCase()=="boolean"||r.toLowerCase().indexOf("date")!=-1&&document.getElementById("rdAcChartsDateGroupBy_"+e).value!=""){var i=document.getElementById("rdAcNoAggregatesColumns_"+e);i.value.split(",").indexOf(n)==-1&&(ShowElement(this.id,"rdAcChartYAggrLabel_"+e,"Show"),ShowElement(this.id,"rdAcChartYAggrList_"+e,"Show"))}}function rdSetForecastOptions(e,t){if(e=="")return;var n=document.getElementById("rdAcForecastType_"+t);if(!n)return;var r=n.value,i=document.getElementById("rdAcChartsDateGroupBy_"+t),s=rdAcGetColumnDataType(e,t),o=document.getElementById("rdAcChartType_"+t).value;if(s.toLowerCase()=="text"||s.toLowerCase()=="boolean"){rdAcHideForecast(t);return}var u=document.getElementById("rdShadowForecastDropdown_"+t);u?(n.parentNode.removeChild(n),n=u.parentNode.appendChild(u.cloneNode(!0)),n.setAttribute("id","rdAcForecastType_"+t),n.setAttribute("name","rdAcForecastType_"+t),n.style.display="",n.value=r):(u=n.parentNode.appendChild(n.cloneNode(!0)),u.setAttribute("id","rdShadowForecastDropdown_"+t),u.setAttribute("name","rdShadowForecastDropdown_"+t),u.style.display="none");if(s.toLowerCase()!="date"&&s.toLowerCase()!="datetime"||o.toLowerCase()=="scatter"){var a=Y.one("#rdAcForecastType_"+t+" OPTION[value=TimeSeriesDecomposition");a&&n.removeChild(a._node),document.getElementById("rdAcTimeSeriesCycle_"+t).style.display="none"}if(o.toLowerCase()=="scatter"){var a=Y.one("#rdAcForecastType_"+t+" OPTION[value=Regression");a&&n.removeChild(a._node),document.getElementById("rdAcTimeSeriesCycle_"+t).style.display="none"}}function rdResetOrientation(e){var t=document.getElementById("rdAcOrientation_"+e);if(t==null)return;var n=document.getElementById("rdAcChartXLabelColumn_"+e);if(n==null)return;var r=rdAcGetColumnDataType(n.value,e);r.toLowerCase()=="date"||r.toLowerCase()=="datetime"?t.value="Vertical":t.value="Horizontal"}function rdSetOrientationToVerticalIfLine(e){var t=document.getElementById("rdAcStacking_"+e);if(!t)return;var n=t.value;if(n=="Combo_Line"||n=="Combo_Spline"){var r=document.getElementById("rdAcOrientation_"+e);if(r==null)return;r.value="Vertical",ShowElement(this.id,"rowChartOrientation_"+e,"Hide")}}function rdSetStackingUserFlag(e){var t=document.getElementById("rdExplicitlyUserSetComboChartType_"+e);t&&(t.value="true")}function rdSetAdditionalColumnAxisType(e){var t=document.getElementById("rdAcAxisType_"+e);ShowElement(this.id,"rdAcAxisType_"+e,"Show")}function rdAcGetColumnDataType(e,t){var n=document.getElementById("rdAcDataColumnDetails_"+t);if(n.value!=""){var r=n.value,i=r.split(",");if(i.length>0){var s;for(s=0;s<i.length;s++){var o=i[s];if(o.length>1&&o.indexOf(":")>-1){var u=o.split(":")[0];if(u==e)return o.split(":")[1]}}}}}function rdModifyTimeSeriesCycleLengthOptions(e,t){if(document.getElementById("rdAcForecastType_"+t)==null)return;var n=document.getElementById("rdAcTimeSeriesCycle_"+t),r=n.value,i=e.value,s,o=0;rdResetTimeSeriesCycleLenthDropdown(t,i,r),i=="FirstDayOfYear"?(document.getElementById("rdAcTimeSeriesCycle_"+t).style.display="none",document.getElementById("rdAcTimeSeriesCycle_"+t+"-Caption").style.display="none"):document.getElementById("rdAcForecastType_"+t).value=="TimeSeriesDecomposition"&&(document.getElementById("rdAcTimeSeriesCycle_"+t).style.display="",document.getElementById("rdAcTimeSeriesCycle_"+t+"-Caption").style.display="");if(n.value==""&&n.options.length>0){var u=n.options[n.options.length-1].value;u!="Hour"&&(n.value=u)}}function rdResetTimeSeriesCycleLenthDropdown(e){if(document.getElementById("rdAcForecastType_"+e)==null)return;var t=document.getElementById("rdAcTimeSeriesCycle_"+e),n,r=["","Year","Quarter","Month","Week","Day"];if(t.options.length>5)return;for(n=0;n<7;n++){if(!(t.options.length>0))break;t.remove(0)}for(n=0;n<r.length;n++){var i=document.createElement("option");i.text=r[n],i.value=r[n],t.add(i)}}function rdResetTimeSeriesCycleLenthDropdown(e,t,n){if(document.getElementById("rdAcForecastType_"+e)==null)return;var r=document.getElementById("rdAcTimeSeriesCycle_"+e),i=["","Year","Quarter","Month","Week","Day","Hour"];while(r.options.length>0)r.options.remove(0);var s=0;switch(t){case"FirstDayOfYear":s=1;break;case"FirstDayOfQuarter":case"FirstDayOfFiscalQuarter":s=2;break;case"FirstDayOfMonth":s=3;break;case"FirstDayOfWeek":s=4;break;case"Date":case"DateTime":s=5;break;case"FirstMinuteOfHour":s=6;break;case"FirstSecondOfMinute":s=7;break;default:s=i.length}for(var o=0;o<s;o++){var u=document.createElement("option");u.text=i[o],u.value=i[o],r.add(u),u.value==n&&(r.value=n)}}function rdAcGetGroupByDateOperatorDiv(e,t){typeof e=="undefined"&&(document.getElementById("rdAcChartsDateGroupBy_"+t).style.display="none",document.getElementById("rdAcChartsDateGroupBy_"+t+"-Caption").style.display="none");var n=document.getElementById("rdAcPickDateColumnsForGrouping_"+t);if(n!=null)if(n.value.length>0){var r=n.value.replace(",","");r=r.replace(",,",","),aDateColumns=r.split(",");for(i=0;i<aDateColumns.length;i++){if(aDateColumns[i]==e){document.getElementById("rdAcChartsDateGroupBy_"+t).style.display="",document.getElementById("rdAcChartsDateGroupBy_"+t+"-Caption").style.display="";break}document.getElementById("rdAcChartsDateGroupBy_"+t).style.display="none",document.getElementById("rdAcChartsDateGroupBy_"+t+"-Caption").style.display="none"}}else document.getElementById("rdAcChartsDateGroupBy_"+t).style.display="none",document.getElementById("rdAcChartsDateGroupBy_"+t+"-Caption").style.display="none";else document.getElementById("rdAcChartsDateGroupBy_"+t).style.display="none",document.getElementById("rdAcChartsDateGroupBy_"+t+"-Caption").style.display="none"}function rdAcSetComboType(e){var t=document.getElementById("rdAcChartType_"+e).value,n=document.getElementById("rdAcChartExtraAggrListCompare_"+e),r=document.getElementById("rdAcStacking_"+e);if(!r||!n)return;var i=r.value;rdAcSetAvailableStacking(e,"rdAcChartCrosstabColumn","rdAcStacking",t);var s=!1,o=document.getElementById("rdExplicitlyUserSetComboChartType_"+e);o&&(s=o.value.toLowerCase()=="true"),s&&i!=""?r.value=i:n.value==""?r.value="stacked":n.value.toLowerCase().indexOf("count")!=-1&&(r.value="Combo_"+t)}function rdAcSetStackingType(e){var t=document.getElementById("rdAcChartCrosstabColumn_"+e),n=document.getElementById("rdAcChartExtraAggrListCompare_"+e);if(!n||!t||t.value=="")return;var r=rdAcGetColumnDataType(t.value,e);r.toLowerCase()=="text"&&(n.value=""),rdAcSetComboType(e)}var rdAcLoadDropdowns_changed;

/* 
* rdAnalysisFilter/rdAfScript.js 
*/
function rdAfUpdateUi(e,t,n,r,i,s,o,u){if(!LogiXML||!LogiXML.DOMContentLoaded)return setTimeout(function(){rdAfUpdateUi(e,t,n,r,i,s,o,u)},10);if(!rdAfOperatorListClone){var a=document.getElementById("rdAfFilterOperator_"+t);a&&(rdAfOperatorListClone=a.cloneNode(!0))}if(e){if(r=="rdFromSimpleFilterID"){var f=document.getElementById("lblSimpleFilterID_"+t);r=f.textContent}var l=document.getElementById("actAfDesignSave_"+t);l||(l=document.getElementById("actAfDesignSaveAjax_"+t));var c=LogiXML.getScriptFromLink(l,!1);c=c.replace("rdAfCommand=&","rdAfCommand="+n+"&");if(n=="FilterAdd"||n=="FilterSet")if(i){var h="&rdAfFilterColumnID_"+t+"="+rdAfEncodeAjaxScriptValue(i);h+="&rdAfFilterOperator_"+t+"="+rdAfEncodeAjaxScriptValue(o),o=="Range"&&s.indexOf("|")!=-1?(h+="&rdAfFilterValue_"+t+"="+rdAfEncodeAjaxScriptValue(s.split("|")[0]),h+="&rdAfFilterValueMax_"+t+"="+rdAfEncodeAjaxScriptValue(s.split("|")[1])):o=="Date Range"&&s.indexOf("|")!=-1?(h+="&rdAfFilterValue_"+t+"="+rdAfEncodeAjaxScriptValue(s.split("|")[0]),h+="&rdAfFilterValueMax_"+t+"="+rdAfEncodeAjaxScriptValue(s.split("|")[1])):o=="In List"||o=="Not In List"?h+="&rdAfFilterValueDelimited_"+t+"="+rdAfEncodeAjaxScriptValue(s):h+="&rdAfFilterValue_"+t+"="+rdAfEncodeAjaxScriptValue(s),u&&(h+="&rdAfPanelInstanceID_"+t+"="+rdAfEncodeAjaxScriptValue(u),document.getElementById("rdFilteredXAxisTimePeriod_"+u)&&(h+="&rdFilteredXAxisTimePeriod_"+t+"="+rdAfEncodeAjaxScriptValue(document.getElementById("rdFilteredXAxisTimePeriod_"+u).value))),c=c.replace("&rdAfCommand",h+"&rdAfCommand")}r&&(c=c.replace("rdAfFilterID=&","rdAfFilterID="+r+"&"));if(n=="Design"||n=="Simple")document.getElementById("rdDashboardPanels")||(c=c.replace("rdRefreshElementID=","rdRefreshElementID="+t+"&rdRefreshElementIDnot="));var p=new Function(c);window.setTimeout(p,100);return}var d=document.getElementById("rdAfMode_"+t);if(!d)return;rdAfUpdateEditControls(t),document.getElementById("rdAfMode_"+t).value=="Simple"&&rdAfShowSimpleList(t);var v=(document.getElementById("actShowFilter_"+t+"_Row1")||document.getElementById("colSimpleName_"+t+"_Row1"))!=null,m=document.getElementById("colFilter");m&&v&&(m.style.fontWeight="bold");var g=document.getElementById("rdAfCaptionElementID_"+t).textContent;if(g!=""){if(g=="rdPanelFilterCaption"||t.lastIndexOf("_")>0)g+=t.substring(t.lastIndexOf("_"));rdAfUpdateCaptionElement(t);var y=document.getElementById(g+"_Container");y&&(v?ShowElement(null,y.id,"Show"):ShowElement(null,y.id,"Hide"))}}function rdAfEncodeAjaxScriptValue(e){return e=rdAjaxEncodeValue(e),e=e.replace(/'/g,"%27"),e}function rdAfUpdateCaptionElement(e,t){var n=document.getElementById("rdAfCaptionElementID_"+e).textContent;if(n!=""){if(n=="rdPanelFilterCaption"||e.lastIndexOf("_")>0)n+=e.substring(e.lastIndexOf("_"));if(n=="rdGlobalFilterCaption"&&!t)return;eleFilterCaption=document.getElementById(n),eleFilterCaption&&(eleFilterCaption.textContent=document.getElementById("rdAfCaptionLine_"+e).textContent,eleFilterCaption.title=document.getElementById("rdAfCaptionList_"+e).textContent)}}function rdAfSetMode(e,t){document.getElementById("rdAfMode_"+e).value=t,rdAfUpdateUi(!0,e,t)}function rdAfSetGlobalFilter(e,t,n,r,i,s){rdAfUpdateUi(e,t,"FilterSet",null,r,i,s,n)}function rdAfSetPickedFilterCompareColumn(e,t){var n=t;while(n&&n.tagName.toLowerCase()!="td")n=n.parentNode;if(!n)return;var r=null,i=n.getElementsByTagName("INPUT");for(var s=0;s<i.length;s++){var o=i[s];if(!o.id)continue;if(o.id.indexOf("rdAfFilterCompareColumnBracketed_"+e+"_Row")==0){r=o.value;break}}if(!r)return;var u=null;LogiXML.rdAfColumnTarget?LogiXML.rdAfColumnTarget=="Start"?u=document.getElementById("rdAfFilterStartDateColumn_"+e):LogiXML.rdAfColumnTarget=="End"?u=document.getElementById("rdAfFilterEndDateColumn_"+e):LogiXML.rdAfColumnTarget=="Max"&&(u=document.getElementById("rdAfFilterValueMax_"+e)):u=document.getElementById("rdAfFilterValue_"+e);if(!u)return;u.value=r}function rdAfCompareColumnCount(e){var t=document.getElementById("dtPickCompareColumn_"+e);if(!t)return-1;var n=0;for(var r=0;r<t.rows.length;r++)t.rows[r].style.display!="none"&&n++;return n}function rdAfShowCompareColumnButton(e,t,n){var r=!1,i=!1;n=="Boolean"&&document.getElementById("rdAfFilterValueBoolean_"+e).value!="Compare Column"&&(i=!0);var s=document.getElementById("dtPickCompareColumn_"+e);if(!s)return!1;for(var o=0;o<s.rows.length;o++){var u=s.rows[o];u.style.display="";var a=u.getElementsByTagName("INPUT"),f=!i;for(var l=0;l<a.length;l++){var c=a[l];if(!c.id)continue;if(c.id.indexOf("rdAfFilterCompareColumnDataType_"+e+"_Row")==0){var h=c.value;if(h!=n){u.style.display="none",f=!1;continue}}c.id.indexOf("rdAfFilterCompareColumnID_"+e+"_Row")==0&&t==c.value&&(u.style.display="none",f=!1)}f&&(r=!0)}return r?(n.indexOf("Date")!=0&&(ShowElement(null,"divPickCompareColumnPopUpButton_"+e,"Show"),ShowElement(null,"divPickCompareColumnPopUpButtonMax_"+e,"Show")),!0):!1}function rdAfUpdateEditControls(e){this.rdAfRemoveAllWhiteSpaceNodesFromFilterOperatorDropdown(e),rdAfInitControlVisibility(e);var t=document.getElementById("rdAfFilterColumnID_"+e),n=rdAfGetColumnDetails(t.value,e,"Types");if(rdAfOperatorListClone){var r=document.getElementById("rdAfFilterOperator_"+e),i=r.value;while(r.hasChildNodes())r.removeChild(r.lastChild);for(var s=0;s<rdAfOperatorListClone.options.length;s++)r.appendChild(rdAfOperatorListClone.options[s].cloneNode(!0))}if(t.value=="")ShowElement(this.id,"divFilterValue_"+e,"Show");else{var o=rdAfShowCompareColumnButton(e,t.value,n),u,a;if(n=="Boolean"){var f=document.getElementById("rdAfFilterValueBoolean_"+e);if(rdAfCompareColumnCount(e)>0){if(f.options.length==2){var l=document.createElement("OPTION");l.value="Compare Column",l.text="Compare Column",f.add(l)}}else f.options.length==3&&f.remove(2);var c=rdAfGetColumnDetails(t.value,e,"Formats"),h="True",p="False";if(c&&c.length>=3){var s=c.indexOf("/");s>0&&s<c.length-1&&(h=c.substr(0,s),p=c.substr(s+1))}for(s=0;s<f.options.length;s++){var l=f.options[s];l.value=="True"?l.text=h:l.value=="False"&&(l.text=p)}}else if(n=="Date"||n=="DateTime"){u=document.getElementById("rdAfSlidingTimeStartDateFilterOperator_"+e),a=document.getElementById("rdAfSlidingTimeEndDateFilterOperator_"+e);if(rdAfCompareColumnCount(e)>0){if(u.options.length==2){var l=document.createElement("OPTION");l.value="Compare Column",l.text="Compare Column",u.add(l)}if(a.options.length==2){var l=document.createElement("OPTION");l.value="Compare Column",l.text="Compare Column",a.add(l)}}else u.options.length==3&&u.remove(2),a.options.length==3&&a.remove(2)}if(n=="Boolean"&&!o)ShowElement(this.id,"rowFilterOperator_"+e,"Hide"),ShowElement(this.id,"divPickBoolean_"+e,"Show"),r.value="=";else{ShowElement(this.id,"rowFilterOperator_"+e,"Show");var d;if(n=="Date"||n=="DateTime")document.getElementById("rdAfPickDistinctColumns_"+e).textContent.indexOf(t.value+",")!=-1?d=["=","<","<=",">=",">","<>","In List","Not In List"]:d=["=","<","<=",">=",">","<>","Date Range"];else if(n=="Number")d=["=","<","<=",">=",">","<>","In List","Not In List","Range"];else if(n=="Boolean")d=["=","<>"],ShowElement(null,"divPickBoolean_"+e,"Show");else{d=["=","<","<=",">=",">","<>","In List","Not In List","Starts With","Contains","Not Starts With","Not Contains"];var v=document.getElementById("rdAfDataSourceSyntax_"+e),m=v.value;if(m=="SqlServer"||m=="MySql"||m=="Oracle"||m=="PostgreSQL")d.push("Like"),d.push("Not Like")}for(var s=r.options.length-1;s>-1;s--)d.indexOf(r.options[s].value)==-1&&r.remove(s);r.value=i,r.options.selectedIndex==-1&&(r.options.selectedIndex=0,i=r.value),i=="Range"&&ShowElement(this.id,"divFilterValueMax_"+e,"Show");var g;i=="In List"||i=="Not In List"?(g="divFilterValueDelimited_",LogiXML.rdInputTextDelimiter.init()):g="divFilterValue_";if(document.getElementById("rdAfPickDateColumns_"+e).textContent.indexOf(t.value+",")!=-1){ShowElement(this.id,"divSlidingTimeStartDateFilterOperator_"+e,"Show");switch(u.value){case"Compare Column":ShowElement(this.id,"divFilterStartDateColumn_"+e,"Show");break;case"Specific Date":ShowElement(this.id,"divFilterStartDateCalendar_"+e,"Show");break;case"Sliding Date":ShowElement(this.id,"divSlidingTimeStartDateFilterOperatorValues_"+e,"Show")}if(i=="Date Range"){ShowElement(this.id,"divSlidingTimeEndDateFilterOperator_"+e,"Show");switch(a.value){case"Compare Column":ShowElement(this.id,"divFilterEndDateColumn_"+e,"Show");break;case"Specific Date":ShowElement(this.id,"divFilterEndDateCalendar_"+e,"Show");break;case"Sliding Date":ShowElement(this.id,"divSlidingTimeEndDateFilterOperatorValues_"+e,"Show")}}n=="DateTime"&&(ShowElement(this.id,"divFilterStartTime_"+e,"Show"),ShowElement(this.id,"divFilterEndTime_"+e,"Show"))}else document.getElementById("rdAfPickDistinctColumns_"+e).textContent.indexOf(t.value+",")!=-1&&i!="Range"?(ShowElement(this.id,"divPickDistinctPopUpButton_"+e,"Show"),ShowElement(this.id,g+e,"Show")):ShowElement(this.id,g+e,"Show")}}}function rdSetPickDistinctUrl(e){var t=document.getElementById("rdAfFilterValue_"+e),n=document.getElementById("rdAfFilterValueDelimited_"+e),r=document.getElementById("rdAfFilterColumnID_"+e),i=rdAfGetColumnDetails(r.value,e,"DataColumns"),s=rdAfGetColumnDetails(r.value,e,"Types"),o=document.getElementById("rdAfFilterOperator_"+e),u=document.getElementById("subPickDistinct_"+e),a=u.getAttribute("data-hiddensourceOriginal");a||(a=u.getAttribute("data-hiddensource")),u.setAttribute("data-hiddensourceOriginal",a),a+="&rdAnalysisFilterID="+encodeURIComponent(e),o.value=="In List"||o.value=="Not In List"?a+="&rdAfValues="+encodeURIComponent(n.value):a+="&rdAfValues="+encodeURIComponent(t.value),a+="&rdAfDataColumn="+encodeURIComponent(i),a+="&rdAfColumnDataType="+encodeURIComponent(s),a+="&rdAfFilterOperator="+encodeURIComponent(o.value),a+="&rdAfColumnFormat="+encodeURIComponent(rdAfGetColumnDetails(r.value,e,"Formats")),u.setAttribute("data-hiddensource",a)}function rdAfGetColumnDetails(e,t,n){var r=document.getElementById("rdAfDataColumn"+n+"_"+t);if(r.textContent!=""){var i=r.textContent,s=i.split(",");if(s.length>0){var o;for(o=0;o<s.length;o++){var u=s[o];if(u.length>1&&u.indexOf(":")>-1){var a=u.split(":")[0];if(a==e)return u.split(":")[1]}}}}}function rdAfRemoveAllWhiteSpaceNodesFromFilterOperatorDropdown(e){var t=document.getElementById("rdAfFilterOperator_"+e);if(t)for(i=0;i<=t.childNodes.length;i++)t.childNodes[i]&&t.childNodes[i].nodeName=="#text"&&t.removeChild(t.childNodes[i])}function rdAfMovePopup(e){if(!e||!e.tagName||!e.parentNode||e.parentNode.id=="rdMainBody")return;var t=e;while(t.id!="rdMainBody"){t=t.parentNode;if(!t)return}t.id=="rdMainBody"&&t.appendChild(e)}function rdAfShowColumnPickList(e,t){LogiXML.rdAfColumnTarget=null,rdAfMovePopup(document.getElementById("popupPickCompareColumn_"+t)),ShowElement(e.id,"popupPickCompareColumn_"+t,"","")}function rdAfShowColumnMaxPickList(e,t){LogiXML.rdAfColumnTarget="Max",rdAfMovePopup(document.getElementById("popupPickCompareColumn_"+t)),ShowElement(e.id,"popupPickCompareColumn_"+t,"","")}function rdAfShowColumnStartPickList(e,t){LogiXML.rdAfColumnTarget="Start",rdAfMovePopup(document.getElementById("popupPickCompareColumn_"+t)),ShowElement(e.id,"popupPickCompareColumn_"+t,"","")}function rdAfShowColumnEndPickList(e,t){LogiXML.rdAfColumnTarget="End",rdAfMovePopup(document.getElementById("popupPickCompareColumn_"+t)),ShowElement(e.id,"popupPickCompareColumn_"+t,"","")}function rdAfInitControlVisibility(e){ShowElement(this.id,"divFilterValue_"+e,"Hide",null,"true"),ShowElement(this.id,"divFilterValueDelimited_"+e,"Hide",null,"true"),ShowElement(this.id,"divPickDistinctPopUpButton_"+e,"Hide",null,"true"),ShowElement(this.id,"divPickCompareColumnPopUpButton_"+e,"Hide",null,"true"),ShowElement(this.id,"divPickCompareColumnPopUpButtonMax_"+e,"Hide",null,"true"),ShowElement(this.id,"divSlidingTimeStartDateFilterOperator_"+e,"Hide",null,"true"),ShowElement(this.id,"divSlidingTimeEndDateFilterOperator_"+e,"Hide",null,"true"),ShowElement(this.id,"divSlidingTimeStartDateFilterOperatorValues_"+e,"Hide",null,"true"),ShowElement(this.id,"divSlidingTimeEndDateFilterOperatorValues_"+e,"Hide",null,"true"),ShowElement(this.id,"divFilterStartDateCalendar_"+e,"Hide",null,"true"),ShowElement(this.id,"divFilterEndDateCalendar_"+e,"Hide",null,"true"),ShowElement(this.id,"divFilterStartDateColumn_"+e,"Hide",null,"true"),ShowElement(this.id,"divFilterEndDateColumn_"+e,"Hide",null,"true"),ShowElement(this.id,"divFilterStartTime_"+e,"Hide",null,"true"),ShowElement(this.id,"divFilterEndTime_"+e,"Hide",null,"true"),ShowElement(this.id,"divPickBoolean_"+e,"Hide",null,"true"),ShowElement(this.id,"divFilterValueMax_"+e,"Hide")}function rdAfShowSimpleList(e){ShowElement(this.id,"divFilterValue_"+e,"Hide"),ShowElement(this.id,"divFilterValueDelimited_"+e,"Hide"),ShowElement(this.id,"divAfSimpleEditControls_"+e,"Hide"),ShowElement(this.id,"rowFilterColumn_"+e,"Hide"),ShowElement(this.id,"rowAddFilter_"+e,"Hide"),ShowElement(this.id,"rdAfSlidingTimeStartDateFilterOperator_"+e,"Hide"),ShowElement(this.id,"rdAfSlidingTimeEndDateFilterOperator_"+e,"Hide")}function rdAfSetPickedFilterValueByRow(e,t){var n=document.getElementById("subPickDistinct_"+e),r=n.contentWindow.document.getElementById("lblFilter_Row"+t),i;r.textContent?i=r.textContent:i=r.innerText,document.getElementById("rdAfFilterValue_"+e).value=i}function rdAfSetPickedFilterValues(e,t){var n=document.getElementById("rdAfFilterValueDelimited_"+e);LogiXML.rdInputTextDelimiter.setEntries(n,t)}function rdAfRestoreClickedFilter(e,t,n,r,i,s,o){document.getElementById("rdAfFilterColumnID_"+e).value=t,rdAfUpdateEditControls(e),n=n.replace("&lt;","<"),document.getElementById("rdAfFilterOperator_"+e).value=n;var u=rdAfGetColumnDetails(t,e,"Types");r=LogiXML.decodeHtml(r,!0);if(u=="Text"||u=="Number")if(n=="Range"&&r.indexOf("|")!=-1)document.getElementById("rdAfFilterValue_"+e).value=r.split("|")[0],document.getElementById("rdAfFilterValueMax_"+e).value=r.split("|")[1];else if(n=="In List"||n=="Not In List"){var a=document.getElementById("rdAfFilterValueDelimited_"+e),f=a.getAttribute("data-delimiter"),l=a.getAttribute("data-qualifier"),c=a.getAttribute("data-escape"),h=LogiXML.rdInputTextDelimiter.getEntries(r,f,l,c,!1);setTimeout(function(){var e=document.getElementById(this.inputID);LogiXML.rdInputTextDelimiter.setEntries(e,this.entries)}.bind({inputID:a.id,entries:h.slice()}),100)}else document.getElementById("rdAfFilterValue_"+e).value=r;if(u=="Boolean"){var p=r.toLowerCase();if(p=="false"||p=="off"||p=="no"||p=="0")document.getElementById("rdAfFilterValueBoolean_"+e).checked=!1;else if(p=="true"||p=="on"||p=="yes"||p=="1")document.getElementById("rdAfFilterValueBoolean_"+e).checked=!0}if(u.indexOf("Date")!=-1)if(n=="In List"||n=="Not In List"){var a=document.getElementById("rdAfFilterValueDelimited_"+e),f=a.getAttribute("data-delimiter"),l=a.getAttribute("data-qualifier"),c=a.getAttribute("data-escape"),h=LogiXML.rdInputTextDelimiter.getEntries(r,f,l,c,!1);setTimeout(function(){var e=document.getElementById(this.inputID);LogiXML.rdInputTextDelimiter.setEntries(e,this.entries)}.bind({inputID:a.id,entries:h.slice()}),100)}else{var d=r.split("|")[0],v=d.indexOf("[")>=0;if(v)document.getElementById("rdAfFilterStartDate_"+e).value="",document.getElementById("rdAfFilterStartDateColumn_"+e).value=d;else{if(o){var m=new Date(d);d=LogiXML.HighchartsFormatters.format(m,o)}document.getElementById("rdAfFilterStartDate_"+e).value=d}document.getElementById("rdAfFilterValue_"+e).value=d,document.getElementById("rdAfFilterEndDate_"+e).value="",document.getElementById("rdAfFilterEndDateColumn_"+e).value="";if(i){var g=i.split(",")[0];g&&(document.getElementById("rdAfSlidingTimeStartDateFilterOperator_"+e).value=g)}else document.getElementById("rdAfSlidingTimeStartDateFilterOperator_"+e).value="Specific Date";if(s){var y=s.split(",")[0];y&&(document.getElementById("rdAfSlidingTimeStartDateFilterOperatorOptions_"+e).value=y)}if(r.split("|")[1]){d=r.split("|")[1];var v=d.indexOf("[")>=0;if(v)document.getElementById("rdAfFilterEndDateColumn_"+e).value=d,document.getElementById("rdAfFilterEndDate_"+e).value="";else{if(o){var m=new Date(d);d=LogiXML.HighchartsFormatters.format(m,o)}document.getElementById("rdAfFilterEndDate_"+e).value=d,document.getElementById("rdAfFilterEndDateColumn_"+e).value=""}if(i){var g=i.split(",")[1];g&&(document.getElementById("rdAfSlidingTimeEndDateFilterOperator_"+e).value=g)}else document.getElementById("rdAfSlidingTimeEndDateFilterOperator_"+e).value="Specific Date";if(s){var y=s.split(",")[1];y&&(document.getElementById("rdAfSlidingTimeEndDateFilterOperatorOptions_"+e).value=y)}}if(document.getElementById("rdAfSlidingTimeStartDateFilterOperator_"+e).value=="Specific Date"){var b=r.split(" ");b.length==1&&(b=r.split("T"));var w=!1;if(b.length>1){var E=b[b.length-1];E=="00:00:00"&&(E=""),E.indexOf(":")!=0?(document.getElementById("rdAfFilterStartDate_"+e).value=b[0],document.getElementById("rdAfFilterStartTime_"+e).value=E):w=!0}else w=!0;w&&(document.getElementById("rdAfFilterStartTime_"+e).value="")}if(document.getElementById("rdAfSlidingTimeEndDateFilterOperator_"+e).value=="Specific Date"){var b=document.getElementById("rdAfFilterEndDate_"+e).value.split(" ");b.length==1&&(b=document.getElementById("rdAfFilterEndDate_"+e).value.split("T"));if(b.length>1){var E=b[b.length-1];E=="00:00:00"&&(E=""),E.indexOf(":")!=0&&(document.getElementById("rdAfFilterEndDate_"+e).value=b[0],document.getElementById("rdAfFilterEndTime_"+e).value=E)}}}rdAfUpdateEditControls(e),document.getElementById("rdAfMode_"+e).value=="Design"&&document.getElementById("rdAfFilterColumnID_"+e).focus()}function rdAfEditSimple(e,t,n,r,i,s,o,u){var a=document.getElementById("lblSimpleFilterID_"+e);a.textContent=t,rdAfRestoreClickedFilter(e,r,i,s,o,u),ShowElement(this.id,"rowFilterOperator_"+e,"Hide"),ShowElement(this.id,"divAfSimpleEditControls_"+e,"Show","FadeIn"),ShowElement(this.id,"divSimpleOkCancel_"+e,"Show","FadeIn");var f=document.getElementById("divAfSimpleEditControls_"+e),l=document.getElementById("colSimpleName_"+e+"_Row"+n);l.parentNode.appendChild(f);for(var c=1;c<1e4;c++){var h=document.getElementById("colSimpleName_"+e+"_Row"+c);if(!h)break;ShowElement(this.id,h.id,"Show","FadeIn")}ShowElement(this.id,l.id,"Hide");var p=l.textContent,d=p.indexOf("[");p=p.substring(d+1),p=p.substring(0,p.indexOf("]"));var f=document.getElementById("lblFilterValue_"+e);f.textContent=p+": ",document.getElementById("divFilterValue_"+e).style.display==""?document.getElementById("rdAfFilterValue_"+e).select():document.getElementById("divFilterValueDelimited_"+e).style.display==""?document.getElementById("rdAfFilterValueDelimited_"+e).select():document.getElementById("divPickBoolean_"+e).style.display==""?document.getElementById("rdAfFilterValueBoolean_"+e).focus():document.getElementById("divFilterStartDateCalendar_"+e).style.display==""?document.getElementById("rdAfFilterStartDate_"+e).select():document.getElementById("divSlidingTimeStartDateFilterOperatorValues_"+e).style.display==""&&document.getElementById("rdAfSlidingTimeStartDateFilterOperatorOptions_"+e).focus()}function rdAfCancelEditSimple(e){ShowElement(this.id,"divAfSimpleEditControls_"+e,"Hide"),ShowElement(this.id,"divSimpleOkCancel_"+e,"Hide");for(var t=1;t<1e4;t++){var n=document.getElementById("colSimpleName_"+e+"_Row"+t);if(!n)break;ShowElement(this.id,n.id,"Show")}document.getElementById("dtFilters_"+e).style.display="none",setTimeout(function(){document.getElementById("dtFilters_"+e).style.display=""},1)}var rdAfOperatorListClone;

/* 
* rdAnalysisCrosstab/rdAxScript.js 
*/
window.LogiXML===undefined&&(window.LogiXML={}),LogiXML.rdAnalysisCrosstab={updateControls:function(bRefresh,sReport,sAxId,bInit){var eleBatchSelection=document.getElementById("lblBatchSelection_"+sAxId);!eleBatchSelection&&!bInit&&(bRefresh=!0);var sElementIDs=sAxId+",divAxControls_"+sAxId+",cellAxCrosstab_"+sAxId;sElementIDs+=",lblHeadingAnalCrosstab_"+sAxId;var selectHeaderColumn=Y.one("#rdAxHeaderColumn_"+sAxId),selectLabelColumn=Y.one("#rdAxLabelColumn_"+sAxId),selectValueColumn=Y.one("#rdAxAggrColumn_"+sAxId),divHeaderGrouping=Y.one("#divAxHeaderGroupByDateOperator_"+sAxId),selectHeaderGrouping=Y.one("#rdAxHeaderDateGroupBy_"+sAxId),divLabelGrouping=Y.one("#divAxLabelGroupByDateOperator_"+sAxId),selectLabelGrouping=Y.one("#rdAxLabelDateGroupBy_"+sAxId),selectAggregate=Y.one("#rdAxAggrFunction_"+sAxId),sAggregate=selectAggregate.get("value"),sHeaderColumn=selectHeaderColumn.get("value"),sLabelColumn=selectLabelColumn.get("value"),sValueColumn=selectValueColumn.get("value"),isValid=!0;LogiXML.rdAnalysisCrosstab.setVisibilityForGroupByDateDiv(sHeaderColumn,sAxId,divHeaderGrouping,selectHeaderGrouping),LogiXML.rdAnalysisCrosstab.setVisibilityForGroupByDateDiv(sLabelColumn,sAxId,divLabelGrouping,selectLabelGrouping),LogiXML.rdAnalysisCrosstab.setVisibilityForAggregateOptions(sAxId,sValueColumn,selectAggregate),LogiXML.rdAnalysisCrosstab.setVisibilityForSummaryOptions(sAxId,sAggregate),LogiXML.rdAnalysisCrosstab.setVisibilityToReverseColors(sAxId),isValid=LogiXML.rdAnalysisCrosstab.validateForUniqueColumns(sAxId,sHeaderColumn,sLabelColumn,sValueColumn);var eleBatchSelection=document.getElementById("lblBatchSelection_"+sAxId);if(bRefresh&&isValid){var sAjaxUrl="rdAjaxCommand=RefreshElement&rdAxRefresh=True&rdRefreshElementID="+sElementIDs+"&rdReport="+sReport+"&rdAxId="+sAxId;sAjaxUrl+="&rdAxNewCommand=True";var waitCfg=["","",""],eleWaitCfg=document.getElementById("rdWaitCfg");if(eleWaitCfg)try{var sScript=eleWaitCfg.parentElement.href;sScript=sScript.substr(sScript.indexOf("[")),waitCfg=eval(sScript.substr(0,sScript.indexOf("]")+1))}catch(e){}rdAjaxRequestWithFormVars(sAjaxUrl,"false","",!0,null,null,waitCfg)}},setVisibilityForGroupByDateDiv:function(e,t,n,r){var s=Y.one("#rdAxPickDateColumnsForGrouping_"+t);if(s&&e&&e!=""){var o=s.get("value"),u=o.split(",");for(i=0;i<u.length;i++)if(e==u[i]){n.show();return}}n.hide()},validateForUniqueColumns:function(e,t,n,r){var i=Y.one("#divAxError-DuplicateColumn_"+e),s=[t,n,r],o=[],u=!0;for(var a=0;a<s.length;a++)o.indexOf(s[a])==-1?o.push(s[a]):u=!1;return u?i.hide():i.show(),u},setVisibilityForAggregateOptions:function(e,t,n){var r=Y.one("#rdAxDataColumnDetails_"+e).get("value").split(","),i={},s=n.get("value"),o=n.getAttribute("data-all-options");if(!o||o=="")o="",n.get("children").each(function(e){o+=e.get("outerHTML")}),n.setAttribute("data-all-options",o);for(var u=1;u<r.length;u++){var a=r[u].split(":");i[a[0]]=a[1]}if(i[t]!="Number"){var f=document.getElementById("rdEnableAnyForTextCrosstabs");f?n.get("children").each(function(e){e.get("value").indexOf("Count")==-1&&e.get("value").indexOf("Max")==-1&&e.get("value").indexOf("Min")==-1&&e.remove()}):(n.get("children").each(function(e){e.get("value").indexOf("Count")==-1&&e.remove()}),s.indexOf("Count")==-1&&n.set("value","Count"))}else n.get("children").size()<3&&(n.get("childNodes").remove(),n.set("innerHTML",o),n.set("value",s))},setVisibilityForSummaryOptions:function(e,t){var n=Y.one("#rdAxSummaryFunction_"+e),r=Y.one("#rdAxSummaryFunctionAvg_"+e);t=="Average"?(n._node.style.display="none",r._node.style.display=""):(n._node.style.display="",r._node.style.display="none");var i=Y.one("#rowCrosstabSummaryFunction_"+e);document.getElementById("rdAxActiveSqlMode_"+e)?t=="Sum"||t=="Count"||t=="DistinctCount"?i._node.style.display="":(i._node.style.display="none",n._node.options[0].selected=!0,r._node.options[0].selected=!0):t=="Stdev"?(i._node.style.display="none",n._node.options[0].selected=!0,r._node.options[0].selected=!0):i._node.style.display=""},setVisibilityToReverseColors:function(e){var t=document.getElementById("rdAxComparisionCheckbox_"+e).checked,n=document.getElementById("rowAxComparisonColors_"+e);if(!n)return;t?n.style.display="table-row":n.style.display="none"},showAddToDashboard:function(e){if(typeof LogiXML.AnalysisGrid.rdAgToggleChartPanel=="function"){var t=document.getElementById("colAnalCrosstabAddDashboard_"+e);t&&(t.style.display="");var n=document.getElementById("colCrosstabExportControls_"+e);n&&(n.style.display="")}}};

/* 
* rdGroupDrillthrough/rdDrillthrough.js 
*/
function rdShowDrillthroughIcon(e,t){var n;e.textContent!=undefined?n=e.textContent:n=e.innerText,n.replace(/ /g,"").replace(/\u00a0/g,"").length==0&&(t=!1),Y.one(e).all("a").each(function(e){nodeclick=e.get("onclick");if(nodeclick!=undefined&&String(nodeclick).indexOf("Drillthrough")!=-1){var n=e.one("img");n.set("src","rdTemplate/rdGroupDrillthrough/rdDrillthrough.gif"),t?n.setStyle("visibility","visible"):n.setStyle("visibility","hidden")}})};

/* 
* rdBookmarkOrganizer/rdBookmarkOrganizer.js 
*/
YUI.add("rd-BookmarkOrganizer-plugin",function(e){document.querySelectorAll||function(e,t){e=document,t=e.createStyleSheet(),e.querySelectorAll=function(n,r,i,o,u){u=e.all,r=[],n=n.split(",");for(i=n.length;i--;){t.addRule(n[i],"k:v");for(o=u.length;o--;)u[o].currentStyle.k&&r.push(u[o]);t.removeRule(0)}return r}}(),e.namespace("LogiXML").rdBookmarkOrganizer=e.Base.create("rdBookmarkOrganizer",e.Plugin.Base,[],{initializer:function(){this._container=this.get("host"),this._container.addClass("rdCaptureDropEvent"),this._container.on("drag:drophit",rdClearSelectedBookmarks),this._id=this._container.getAttribute("id"),document.getElementById(this._id).style.display="none";var e=document.getElementById("dtFolders"),t=document.getElementById("dtSharedFolders"),n;if(!e)return;var r=e.getElementsByTagName("tbody")[0];if(r==undefined)return;n=r.getElementsByTagName("tr");var i=document.getElementById("rdSelectedFolderID").value,s=document.getElementById("rdSelectedSharedFolderID").value,o=document.getElementById("rdSelectedSharedParentFolderID").value,u=document.getElementById("rdExpandedCollapsedHistory_myFolder").value,a=document.getElementById("rdExpandedCollapsedHistory_sharedFolder").value;u!=""?this.restoreFolderState(u,"myFolder"):this.restoreFolderState("undefined:true","myFolder"),a!=""&&this.restoreFolderState(a,"sharedFolder");for(var f=0;f<n.length;f++)if(n[f].getElementsByTagName("input").length>0){var l=n[f].getElementsByTagName("input")[0].value,c=this.getDepth(n[f]),h=this.getID(n[f]);for(var p=0;p<c;p++)n[f]&&n[f].querySelector("#drag_"+h)&&(n[f].querySelector("#drag_"+h).innerHTML="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+n[f].querySelector("#drag_"+h).innerHTML);c==0&&this.initializeExpandCollapse(n[f],!1)}if(t){var d=t.getElementsByTagName("tbody")[0].getElementsByTagName("tr");for(var f=0;f<d.length;f++){var l=d[f].getElementsByTagName("input")[0].value,c=this.getDepth(d[f]),h=this.getID(d[f]);for(var p=0;p<c;p++)d[f]&&d[f].querySelector("#drag_"+h)&&(d[f].querySelector("#drag_"+h).innerHTML="&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"+d[f].querySelector("#drag_"+h).innerHTML);c==0&&this.initializeExpandCollapse(d[f],!1)}}i?this.selectFolder(null,i,s,o):this.selectFolder(null,"","",""),document.getElementById(this._id).style.display=""},destructor:function(){},restoreFolderState:function(e,t){var n;t=="myFolder"?n=document.getElementById("dtFolders"):t=="sharedFolder"&&(n=document.getElementById("dtSharedFolders"));if(!n)return;var r=n.getElementsByTagName("tbody")[0].getElementsByTagName("tr"),i=e.split("|");for(var s=0;s<i.length;s++){var o=i[s].split(":")[0];if(o=="undefined")continue;var u=i[s].split(":")[1];if(u=="true"||u=="false"){var a=this.getTableRowByFolderID(o,t);a&&this.setExpandedCollapsed(a,u)}}},initializeExpandCollapse:function(e,t){var n=this.getDepth(e),r=n+1,i=this.getNextTableRow(e),s;this.getExpandedCollapsed(e)=="true"?(this.setExpandedCollapsed(e,"true"),s=""):(this.setExpandedCollapsed(e,"false"),t=!0,s="none");while(i){if(this.getDepth(i)==r)i.style.display=s,this.initializeExpandCollapse(i,t);else if(this.getDepth(i)>r&&t)i.style.display="none";else if(this.getDepth(i)<r)break;i=this.getNextTableRow(i)}},getDepth:function(e){var t=e.getElementsByTagName("input");for(var n=0;n<t.length;n++)if(t[n].id.indexOf("rdFolderDepth")>=0){var r=parseInt(t[n].value);return r}},getID:function(e){var t=e.getElementsByTagName("input");for(var n=0;n<t.length;n++)if(t[n].id.indexOf("rdFolderID")>=0)return t[n].value},getExpandedCollapsed:function(e){var t=e.getElementsByTagName("input");for(var n=0;n<t.length;n++)if(t[n].id.indexOf("rdFolderExpanded")>=0)return t[n].value},setExpandedCollapsed:function(e,t){var n=e.getElementsByTagName("input");for(var r=0;r<n.length;r++)n[r].id.indexOf("rdFolderExpanded")>=0&&(n[r].value=t);var i=e.getElementsByTagName("img");for(var r=0;r<i.length;r++)if(i[r].id.indexOf("rdToggleChildrenShow")>=0){if(t=="true"){i[r].style.display="none",i[r+1].style.display="";return}i[r].style.display="",i[r+1].style.display="none";return}},getNextTableRow:function(e){var t=e.nextSibling;while(t&&t.tagName!="TR"&&t.tagName!="tr")t=t.nextSibling;return t},getTableRowByFolderID:function(e,t){var n;t=="sharedFolder"?n=document.getElementById("dtSharedFolders").querySelectorAll("[value='"+e+"']"):n=document.querySelectorAll("[value='"+e+"']");if(n){for(var r=0;r<n.length;r++)if(n[r].id.indexOf("rdFolderID")>=0){n=n[r];break}if(n.tagName){while(n.tagName!="tr"&&n.tagName!="TR")n=n.parentNode;return n}return this.selectFolder(null,"","",""),this.getTableRowByFolderID("")}},selectFolder:function(t,n,r,i,s,o,u,a){n||(n=""),r||(r=""),i||(i=""),s||(s="");var f=document.getElementById("rdSelectedFolderClassName").value,l=document.getElementById("rdBookmarkOrganizerDataTableID").value,c=e.all("."+f);c.removeClass(f),document.getElementById("rdSelectedFolderID").value=n,document.getElementById("rdSelectedSharedFolderID").value=r,document.getElementById("rdSelectedSharedParentFolderID").value=i;var h=document.getElementById("rdBookmarkOrganizerReport").value;if(t){var p=t.parentNode;if(p){while(p.tagName!="tr"&&p.tagName!="TR")p=p.parentNode;p.className+=" "+f}}else{var p=this.getTableRowByFolderID(n);if(i!=""){p=this.getNextTableRow(this.getTableRowByFolderID(i));while(this.getNextTableRow(p)&&this.getID(p)!=n)p=this.getNextTableRow(p)}p?p.className+=" "+f:this.selectFolder(null,"","","")}rdAjaxRequestWithFormVars("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=SelectFolder&rdDataTableID="+l+"&FolderID="+n+"&SharedFolderID="+r+"&SharedParentFolderID="+i+"&sSharedFolder="+s+"&rdReport="+h+"&rdBookmarkUserName="+o+"&rdBookmarkCollection="+u+"&rdClearMessages="+a,"false","",null,null,null,null),rdClearSelectedBookmarks()},toggleImage:function(e,t){var n=e.getElementsByTagName("img");for(var r=0;r<n.length;r++)if(n[r].id.indexOf("rdToggleChildrenShow")>=0){if(t=="show"){n[r].style.display="none",n[r+1].style.display="";return}n[r].style.display="",n[r+1].style.display="none";return}},toggleNode:function(e,t,n){var r;n||(n=!1);if(e){r=e.parentNode;while(r.tagName!="tr"&&r.tagName!="TR")r=r.parentNode}else r=t;var i=this.getDepth(r),s=i+1,o=this.getNextTableRow(r),u;this.getExpandedCollapsed(r)=="false"?(u="",this.setExpandedCollapsed(r,"true"),this.toggleImage(r,"show")):(u="none",this.setExpandedCollapsed(r,"false"),this.toggleImage(r,"hide"));while(o){if(this.getDepth(o)==s&&u=="")o.style.display=u,this.getExpandedCollapsed(o)=="true"&&this.toggleChildren(o);else if(this.getDepth(o)>=s&&u=="none")o.style.display=u;else if(this.getDepth(o)<s)break;o=this.getNextTableRow(o)}this.buildStatusList()},expandSingleRow:function(e){var t=e,n=this.getDepth(t),r=n+1,i=this.getNextTableRow(t),s="";this.setExpandedCollapsed(t,"true"),this.toggleImage(t,"show");while(i){if(this.getDepth(i)==r&&s=="")i.style.display=s;else if(this.getDepth(i)>=r&&s=="none")i.style.display=s;else if(this.getDepth(i)<r)break;i=this.getNextTableRow(i)}this.buildStatusList()},buildStatusList:function(){var e=document.getElementById("dtFolders"),t=document.getElementById("dtSharedFolders"),n=e.getElementsByTagName("tbody")[0].getElementsByTagName("tr"),r=document.getElementById("rdBookmarkOrganizerReport").value,i="";for(var s=0;s<n.length;s++)if(n[s].getElementsByTagName("input").length>0){var o=n[s].getElementsByTagName("input")[0].value,u=this.getDepth(n[s]),a=n[s].getElementsByTagName("input")[2].value;a||(a=""),i+=a+":"+o+"|"}var f="";if(t){var l=t.getElementsByTagName("tbody")[0].getElementsByTagName("tr");for(var s=0;s<l.length;s++)if(l[s].getElementsByTagName("input").length>0){var o=l[s].getElementsByTagName("input")[0].value,u=this.getDepth(l[s]),a=l[s].getElementsByTagName("input")[2].value;f+=a+":"+o+"|"}}rdAjaxRequestWithFormVars("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=SaveBookmarkOrganizerExpandedCollapsedStatus&rdMyFolderState="+i+"&rdSharedFolderState="+f+"&rdReport="+r)},toggleChildren:function(e){var t=this.getDepth(e),n=t+1,r=this.getNextTableRow(e),i;this.getExpandedCollapsed(e)=="true"?i="":i="none";while(r){if(this.getDepth(r)==n&&i=="")r.style.display=i,this.getExpandedCollapsed(r)=="true"&&this.toggleChildren(r);else if(this.getDepth(r)>=n&&i=="none")r.style.display=i;else if(this.getDepth(r)<n)break;r=this.getNextTableRow(r)}},rdAddNewFolderSetup:function(e){document.getElementById("rdParentFolderID").value=e},rdAddFolder:function(e){var t=document.getElementById("rdParentFolderID").value,e=document.getElementById("rdFolderNameText").value,n=document.getElementById("rdBookmarkOrganizerID").value,r=document.getElementById("rdBookmarkCollection").value,i=document.getElementById("rdBookmarkOrganizerDataTableID").value,s=document.getElementById("rdBookmarkOrganizerReport").value,o=this.getTableRowByFolderID(t);this.expandSingleRow(o),rdAjaxRequestWithFormVars("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=AddBookmarkFolder&rdDataTableID="+i+"&rdParentFolderID="+t+"&rdFolderName="+e+"&rdBookmarkCollection="+r+"&rdBookmarkOrganizerID="+n+"&rdReport="+s)},rdAddBookmarkToFolder:function(e,t){var n=document.getElementById("rdBookmarkOrganizerID").value,r=document.getElementById("rdBookmarkCollection").value,i=document.getElementById("rdBookmarkOrganizerDataTableID").value,s=document.getElementById("rdBookmarkOrganizerReport").value;rdAjaxRequestWithFormVars("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=AddBookmarkToFolder&rdDataTableID="+i+"&rdFolderID="+t+"&rdBookmarkID="+e+"&rdBookmarkCollection="+r+"&rdBookmarkOrganizerID="+n+"&rdReport="+s)},rdDragBookmarkToFolder:function(e,t,n,r){var i=document.getElementById("rdBookmarkOrganizerDataTableID").value,s=document.getElementById("rdBookmarkOrganizerReport").value;rdAjaxRequestWithFormVars("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=AddBookmarkToFolder&rdDataTableID="+i+"&rdFolderID="+r+"&rdBookmarkDescription="+n+"&rdBookmarkID="+e+"&rdBookmarkUserName="+t+"&rdReport="+s)},rdSaveCheckboxListState:function(t){var n=t.parentNode.parentNode.nextSibling,r=n.id.split("_rdList")[0],i=document.getElementById(r+"_rdExpandedCollapsedHistory"),s=","+n.id+":expanded";i.value=i.value.replace(s,""),s=","+n.id+":collapsed",i.value=i.value.replace(s,"");if(n.getAttribute("rdExpanded")=="true"){var r=n.id.split("_")[0];i.value=i.value+","+n.id+":collapsed",n.setAttribute("rdExpanded","false")}else{var r=n.id.split("_")[0];i.value=i.value+","+n.id+":expanded",n.setAttribute("rdExpanded","true")}e.LogiXML.rdInputCheckList.prototype.expandCollapseChildren(n)},rdAddFolderToFolder:function(e,t){var n=document.getElementById("rdBookmarkOrganizerID").value,r=document.getElementById("rdBookmarkCollection").value,i=document.getElementById("rdBookmarkOrganizerDataTableID").value,s=document.getElementById("rdBookmarkOrganizerReport").value;rdAjaxRequestWithFormVars("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=AddFolderToFolder&&rdDataTableID="+i+"&rdMovingFolderID="+e+"&rdReceivingFolderID="+t+"&rdBookmarkCollection="+r+"&rdBookmarkOrganizerID="+n+"&rdReport="+s)},rdRemoveFolder:function(e){var t="False";if(document.getElementById("rdSelectedFolderID").value==e||document.getElementById("rdSelectedSharedParentFolderID").value==e)document.getElementById("rdSelectedFolderID").value="",t="True";var n=document.getElementById("rdBookmarkOrganizerID").value,r=document.getElementById("rdBookmarkCollection").value,i=document.getElementById("rdBookmarkOrganizerDataTableID").value,s=document.getElementById("rdBookmarkOrganizerReport").value;rdAjaxRequestWithFormVars("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=RemoveBookmarkFolder&rdDataTableID="+i+"&rdFolderID="+e+"&rdBookmarkCollection="+r+"&rdResetSelectedFolder="+t+"&rdBookmarkOrganizerID="+n+"&rdReport="+s)},rdRenameFolderSetup:function(e,t){document.getElementById("rdFolderRenameText").value=t,document.getElementById("rdFolderID").value=e},rdRenameFolder:function(){var e=document.getElementById("rdFolderID").value,t=document.getElementById("rdFolderRenameText").value,n=document.getElementById("rdBookmarkOrganizerID").value,r=document.getElementById("rdBookmarkCollection").value,i=document.getElementById("rdBookmarkOrganizerReport").value;rdAjaxRequestWithFormVars("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=RenameBookmarkFolder&rdFolderID="+e+"&rdFolderName="+t+"&rdBookmarkCollection="+r+"&rdBookmarkOrganizerID="+n+"&rdReport="+i)},rdExcludeFolder:function(e,t){var n=document.getElementById("rdBookmarkOrganizerID").value,r=document.getElementById("rdBookmarkCollection").value,i=document.getElementById("rdBookmarkOrganizerReport").value;rdAjaxRequestWithFormVars("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=ExcludeSharedFolder&rdSharedFolderID="+e+"&rdSharedFolderCollection="+t+"&rdBookmarkCollection="+r+"&rdBookmarkOrganizerID="+n+"&rdReport="+i)},rdCreateFolderShortcut:function(e,t,n,r,i){var s=document.getElementById("rdBookmarkOrganizerID").value,o=document.getElementById("rdBookmarkCollection").value,u=document.getElementById("rdBookmarkOrganizerReport").value;rdAjaxRequestWithFormVars("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=AddFolderShortcut&rdFolderID="+e+"&rdFolderName="+r+"&rdReceivingFolderID="+i+"&rdShortcutCollection="+n+"&rdShortcutUserName="+t+"&rdBookmarkCollection="+o+"&rdBookmarkOrganizerID="+s+"&rdReport="+u)}},{NAME:"rdBookmarkOrganizer",NS:"rdBookmarkOrganizer",ATTRS:{}})},"1.0.0",{requires:["base","plugin","json"]});

/* 
* rdEmail/rdEmailReport.js 
*/
function rdSendEmailReport(e,t){try{var n=rdValidateForm();if(n){alert(n);return}}catch(r){}typeof rdSaveInputCookies!="undefined"&&rdSaveInputCookies(),typeof rdSaveInputsToLocalStorage!="undefined"&&rdSaveInputsToLocalStorage();var i=e,s="",o=document.getElementById("rdPopupEmail_"+i);o||(s="_Row"+t,i=e+s,o=document.getElementById("rdPopupEmail_"+i)),rdEmailReportPopupId=o.id;var u=o.previousSibling,a="rdProcess=rdTemplate/rdEmail/rdEmailReportProc";a+="&rdTaskID=rdEmailReport",a+="&rdIgnoreMissingResponse=True",a+="&rdFrom="+rdAjaxEncodeValue(document.getElementById("rdFrom_"+i).value),a+="&rdTo="+rdAjaxEncodeValue(document.getElementById("rdTo_"+i).value),a+="&rdCc="+rdAjaxEncodeValue(document.getElementById("rdCc_"+i).value),a+="&rdBcc="+rdAjaxEncodeValue(document.getElementById("rdBcc_"+i).value),a+="&rdSubject="+rdAjaxEncodeValue(document.getElementById("rdSubject_"+i).value),document.getElementById("rdBody_"+i)&&(a+="&rdBody="+rdAjaxEncodeValue(document.getElementById("rdBody_"+i).value)),a+="&rdFeedbackHideElementID=divSend_"+i,a+="&rdFeedbackShowElementID=divWait_"+i,document.getElementById("rdShowElementHistory")&&(a+="&rdKeepShowElements=True",a+="&rdShowElementHistory="+rdAjaxEncodeValue(document.getElementById("rdShowElementHistory").value));var f=document.getElementById("rdLinkParams_"+i);if(f)for(var l=0;l<f.childNodes.length;l++)if(f.childNodes[l].id!=undefined){var c;f.childNodes[l].textContent!=undefined?c=f.childNodes[l].textContent:c=f.childNodes[l].innerText,a+="&"+f.childNodes[l].id.replace(s,"")+"="+rdAjaxEncodeValue(c)}rdAjaxRequest(a,null,null,"true")}var rdEmailReportPopupId=null;

/* 
* rdSessionTimeoutControl/rdSessionTimeoutControl.js 
*/
YUI.add("sessionTimeout",function(e){e.namespace("LogiXML").SessionTimeoutControl=e.Base.create("SessionTimeoutControl",e.Base,[],{_config:null,initializer:function(e){this._config=e,this.startup();var t=this;LogiXML.Ajax.AjaxTarget().on("reinitialize",function(){t.startup()})},startup:function(){var e=this;this.clearTimers();if(this._config.mode=="redirect"){ShowElement(null,"pnlSessionTimeoutControl","Hide");var t=this._config.sessionTimeout-this._config.sessionWarningDuration-2;t<0&&(t=1),window.rdSessionEndWarningTimout=window.setTimeout(function(){e.showPopup()},t*6e4),window.rdSessionEndTimout=window.setTimeout(function(){e.logout()},this._config.sessionTimeout*6e4)}else this._config.mode=="pinging"&&(window.rdSessionPingTimeout=window.setInterval(function(){e.ping()},this._config.pingInterval*6e4))},clearTimers:function(){window.rdSessionEndWarningTimout&&window.clearTimeout(window.rdSessionEndWarningTimout),window.rdSessionEndTimout&&window.clearTimeout(window.rdSessionEndTimout),window.rdSessionPingTimeout&&window.clearTimeout(window.rdSessionPingTimeout)},ping:function(){rdAjaxRequest("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=KeepSessionAlive&rnd="+(1+Math.random())*65536,null,null,null,null,null),this.startup()},logout:function(){this.clearTimers(),window.location.href.indexOf("rdWidget")>-1&&this._config.logoutUrl=="rdLogout.aspx"?window.location.href.indexOf("/rdTemplate")>-1&&(window.location.href=window.location.href.substring(0,window.location.href.indexOf("/rdTemplate")+1)+"rdLogout.aspx"):window.location.href=this._config.logoutUrl},showPopup:function(){ShowElement(null,"pnlSessionTimeoutControl","Show")}},{NAME:"SessionTimeoutControl",ATTRS:{}})},"1.0.0",{requires:["base","node","event","node-custom-destroy"]});

/* 
* rdReportAuthor/reportAuthor.js 
*/
function GetColorPicker(e){window.sColorPicker=e}function toggleInlineEdit(e){if(!e.previousSibling)return;e.previousSibling.style.display="none",e.parentNode.style.background="none",e=e.firstChild.firstChild,e.style.width="100%",e.style.height="100%";if(e.outerHTML.indexOf("<span")>-1){var t=getRows(e);e.innerHTML=brToNewLine(e.innerHTML),e.outerHTML=e.outerHTML.replace("<span","<textarea").replace("</span>","</textarea>"),e=document.getElementById(e.id),e.setAttribute("rows",t),e.focus(),moveCaretToEnd(e),e.onblur=onblurwrapper,Y.one(e).on(["keydown","change"],delayedResize),e.parentElement.parentElement.onlclick=null}}function resize(e){var t=e.currentTarget;t.setStyle("height",t.get("scrollHeight")+"px"),t.setStyle("overflowY","hidden"),t.setStyle("paddingTop",".2em")}function delayedResize(e){Y.later(0,window,resize,[e],!1)}function moveCaretToEnd(e){if(typeof e.selectionStart=="number")e.selectionStart=e.selectionEnd=e.value.length,e.onmouseup=null;else if(typeof e.createTextRange!="undefined"){e.focus();var t=e.createTextRange();t.collapse(!1),t.select()}}function brToNewLine(e){return e.replace(/<br\s*\/?>/mg,"\n")}function clickOnPencil(e){toggleInlineEdit(e.nextSibling)}function onblurwrapper(e){exitInlineEdit(this)}function getRows(e){var t=4,n=16,r=e.offsetHeight,i=e.style.fontSize==""?13:e.style.fontSize;i=parseFloat(i);var s=Math.round(r/i);return s=s==0?t:s>n?n:s,s}function onClickwrapper(e){toggleInlineEdit(this)}function exitInlineEdit(e){if(e.outerHTML.indexOf("<textarea")>-1){var t=e.value,n=e.id.substring(e.id.lastIndexOf("_")+1,e.id.length);e.className="rd-editable",e.parentNode.parentNode.previousSibling.style.display="",e.parentNode.parentNode.parentNode.style.background="";if(e.defaultValue!=t){document.getElementById("isChanged_"+n).value="True",e.innerHTML=t;var r=document.getElementById("txtLabelText_"+n);r&&(r.value=e.value)}e.outerHTML=e.outerHTML.replace("<textarea","<span").replace("</textarea>","</span>"),e=document.getElementById(e.id),e.onblur=null,e.onclick=onClickwrapper;var i=document.getElementById("actSetSettings_"+n);i&&i.onclick()}}function setEditActionCause(e){var t=document.getElementById("rdSetSettingsFromUser");t&&(t.value=e)}YUI.add("reportAuthor",function(e){var t=e.Lang,n="rdReportAuthor";e.LogiXML.Node.destroyClassKeys.push(n),e.namespace("LogiXML").ReportAuthor=e.Base.create("ReportAuthor",e.Base,[],{_handlers:{},configNode:null,id:null,reportName:"",visualizationStack:[],visualizationParentId:null,visualizationParentSiblingId:null,initializer:function(e){var t=this;this._parseHTMLConfig(),this.configNode.setData(n,this),this.processPopups(),rdSetUndoRedoVisibility()},reportAuthorReinitializeHandler:function(){this.processPopups(),this.checkForLoadedPopups(),rdSetUndoRedoVisibility()},processPopups:function(){this._handlers.popupClose&&(this._handlers.popupClose.detach&&this._handlers.popupClose.detach(),this._handlers.popupClose=null);var t=e.one(".rd-image-settings #actionHidePanel");t&&(this._handlers.popupClose=t.on("click",function(){var t=e.one(".rd-image-settings")._node.id,n=t.split("_")[1];document.getElementById("txtImageUploadFile_"+n).value="",ShowElement(this.id,t,"Hide","")},this));var n=e.one("#ppChangeDashboard #actionHidePanel");n&&(this._handlers.popupClose=n.on("click",function(){ShowElement(this.id,"ppChangeDashboard","Hide",""),this.addVisualizationsPopupClose()},this)),LogiXML.Ajax.AjaxTarget&&(this._handlers.popupCloseAjax&&this._handlers.popupCloseAjax.detach(),this._handlers.popupCloseAjax=LogiXML.Ajax.AjaxTarget().on("reinitialize",this.reportAuthorReinitializeHandler,this))},checkForLoadedPopups:function(){var t=e.one(".rd-show-on-loaded");t&&(ShowElement("",t.getAttribute("id"),"",""),e.all(".rd-show-on-loaded").each(function(e){e.removeClass("rd-show-on-loaded")}))},initAddVisualizations:function(e,t){this.visualizationStack=[],this.visualizationParentId=e,this.visualizationParentSiblingId=t},addVisualizationsPopupClose:function(){this.addVisualizationsPopupDone()},addVisualizationsPopupDone:function(){var t=this.visualizationStack.join(","),n=this.visualizationParentId,r=this.visualizationParentSiblingId,i=null;this.visualizationStack=[],this.visualizationParentId=null,this.visualizationParentSiblingId=null;var s=e.one("#"+n),o=s.ancestor(".rd-element-editor");o?i=o.getAttribute("id"):i=n,ShowElement(this.id,"ppChangeDashboard","Hide","");if(t&&t.length>0){rdAjaxRequestWithFormVars("rdAjaxCommand=RefreshElement&rdRefreshElementID="+this.id+","+i+"&rdReportAuthorAction=refresh&rdReportAuthorElementID="+i+"&rdReport="+this.reportName,"false","",null,null,null,["","",""]);if(t.indexOf("NGPviz")>=0&&!window.Logi){var u=window.location.href;u&&u.indexOf?(u=u.replace("&rdNewBookmark=True",""),u=u.replace("&goBookmarkCaption=","&goNotUsedBookmarkCaption="),u.indexOf("rdReportAuthorViewMode")==-1&&(u+="&rdReportAuthorViewMode=DesignEdit"),window.location.replace(u)):window.location=window.location}}},addVisualizationSort:function(){rdAjaxRequestWithFormVars("rdAjaxCommand=RefreshElement&rdRefreshElementID=rdAddPanelsList&rdReportAuthorAction=refresh&rdReportAuthorElementID=rdAddPanelsList&rdReport="+this.reportName,"false","",null,null,null,null)},addVisualizationIntoStack:function(t,n){var r=e.one("#ppChangeDashboard"),i=r.one("#lblCount_Row"+n).getDOMNode();i.innerHTML=parseInt(i.innerHTML)+1;var s=r.one("#divCount_Row"+n).getDOMNode();s.className=s.className.replace("rdDashboardHidden","");var o=r.one("#divAdded_Row"+n).getDOMNode();o.className=o.className.replace("rdDashboardHidden","");if(r.one("#hiddenMultiInstance_Row"+n).getDOMNode().value=="False"){var u=r.one("#lblAddPanel_Row"+n).getDOMNode();u.className="rdDashboardHidden",s.className="rdDashboardHidden"}this.visualizationStack.push(t);var a=this.visualizationParentId,f=this.visualizationParentSiblingId;rdAjaxRequestWithFormVars("rdAjaxCommand=RefreshElement&rdRefreshElementID="+this.id+"&rdReportAuthorAction=add&rdReportAuthorSilentUpdate=True&rdElementType=Visualization&rdReportAuthorVisualizationIds="+t+"&rdReportAuthorParentID="+a+"&rdReportAuthorSiblingElementID="+f+"&rdReport="+this.reportName,"false","",null,null,null,null)},deleteVisualizationFromGallery:function(t,n){var r=e.one("#rdDashboardPanelList").getDOMNode(),i=r.childNodes[0].childNodes[n-1];i.className="rdDashboardHidden";var s=this.visualizationParentId,o=this.visualizationParentSiblingId;rdAjaxRequestWithFormVars("rdAjaxCommand=RefreshElement&rdRefreshElementID="+this.id+"&rdReportAuthorAction=removeFromGallery&rdReportAuthorSilentUpdate=True&rdElementType=VisualizationPanel&rdReportAuthorVisualizationIds="+t+"&rdReportAuthorParentID="+s+"&rdReportAuthorSiblingElementID="+o+"&rdReport="+this.reportName,"false","",null,null,null,null)},refreshPanel:function(e,t){rdAjaxRequestWithFormVars("rdAjaxCommand=RefreshElement&rdRefreshElementID="+this.id+","+e+"&rdReportAuthorAction=refresh"+"&rdReport="+this.reportName,"false","",null,null,t,null)},sendColumnResizeUpdate:function(e,t,n,r,i){r<=1?this.showHideAddColumnButtonById(t,!0):this.showHideAddColumnButtonById(t,!1),i<=1?this.showHideAddColumnButtonById(n,!0):this.showHideAddColumnButtonById(n,!1),rdAjaxRequestWithFormVars("rdAjaxCommand=RefreshElement&rdRefreshElementID="+this.id+"&rdReportAuthorAction=resize&rdReportAuthorSilentUpdate=True&rdElementType=Row&rdReportAuthorElementID="+e+"&leftColumnID="+t+"&rightColumnID="+n+"&leftColumnSpan="+r+"&rightColumnSpan="+i+"&rdReport="+this.reportName,"false","",null,null,null,null)},showHideAddColumnButtonById:function(t,n){var r=e.one("#header_"+t),i=getElementsByClassName("addColumnButtonDiv","span",r._node)[0];if(!i)return;n?i.style.display="none":i.style.display=""},showAddPanels:function(){rdShowAddGalleryPanels(this.id,this.reportName)},_parseHTMLConfig:function(){this.configNode=this.get("configNode"),this.id=this.configNode.getAttribute("id"),this.reportName=e.one("#hiddenCurrentReport").getAttribute("value")},destructor:function(){var e=this.configNode;this._clearHandlers()},_clearHandlers:function(){var t=this;e.each(this._handlers,function(e){e&&(e.detach&&e.detach(),e.destroy&&e.destroy(),e=null)})}},{NAME:"ReportAuthor",ATTRS:{configNode:{value:null,setter:e.one}},createElements:function(){var t;e.all("."+n).each(function(r){t=r.getData(n),t||(t=new e.LogiXML.ReportAuthor({configNode:r}))})},pg:function(n,r){var i=e.Color.toHex(e.one("#"+n.id).getComputedStyle("backgroundColor")),s=sColorPicker.split("_")[1],o=r?"slctBorderColor_":"slctLabelFontColor_",u=r?"rectBorderColor_":"rectColor_",a=r?"ppLabelBorderColors_":"ppLabelFontColors_",f=document.getElementById(o+s);f.value=i;var l=document.getElementById(u+s);l.style.backgroundColor=i,ShowElement(this.id,a+s,"Hide")},updateDeleteLink:function(t,n){if(!t||t=="")return;if(!n||n=="")return;var r=e.all("#actDeleteElement_"+t),i,s,o;r.each(function(e){i=e.getAttribute("href");if(!i)return;s=i.indexOf("&rdRefreshElementID=");if(s==-1)return;s=i.indexOf(",",s+1);if(s==-1)return;o=i.indexOf("&",s+1);if(o==-1)return;i=i.substr(0,s)+","+n+i.substr(o)+";return false;",s=i.indexOf("&rdReportAuthorRefreshElementID=");if(s==-1)return;s=i.indexOf("=",s+1);if(s==-1)return;o=i.indexOf("&",s+1);if(o==-1)return;i=i.substr(0,s+1)+n+i.substr(o),i.indexOf("javascript:")==0&&(i=i.substr(11)),e.setAttribute("onclick",i)})}})},"1.0.0",{requires:["base","node","node-base","event","node-custom-destroy","json-parse","stylesheet","event-custom","io-base","io-xdr","io-form","io-upload-iframe","io-queue"]});

/* 
* rdDashboard/rdHandleEnterKey.js 
*/
//Prevent submits when the Enter key is pressed while inside an INPUT.
function rdDashboardHandleEnterKey(e){var e=e?e:event?event:null;if(e.keyCode==13||e.keyCode==9){var t=e.target?e.target:e.srcElement?e.srcElement:null;if(t.id=="txtRenameTab")return LogiXML.Dashboard.pageDashboard.rdRenameDashboardTab("Save"),!1;t.id.indexOf("rdDashboardPanelRename")>-1&&LogiXML.Dashboard.pageDashboard.rdSaveDashboardParams(t.id.replace("rdDashboardPanelRename-","rdDashboardPanel-"),!0,"Save")}else if(e.keyCode==27){var t=e.target?e.target:e.srcElement?e.srcElement:null;if(t.id.indexOf("rdDashboardPanelRename")>-1||t.id=="txtRenameTab")if(t.id=="txtRenameTab")Y.one("#rdRenameTabDiv").setStyle("display","none"),LogiXML.Dashboard.pageDashboard.rdPositiontabSettingsCog();else{var n=Y.one("#"+t.id.replace("rdDashboardPanelRename-","rdDashboardPanelRenameDiv-"));n.setStyle("display","none");var r=Y.one("#"+t.id.replace("rdDashboardPanelRename-","rdDashboardPanelCaptionDiv-"));r.setStyle("display","");var i=Y.one("#"+t.id.replace("rdDashboardPanelRename-","rdPanelSettingsCog_"));i.setStyle("display","")}}}document.onkeypress=rdDashboardHandleEnterKey;

/* 
* rdDashboard/rdDashboard2.js 
*/
function GetColorPicker(e,t){sColorPicker=e,eleParamsPopup=Y.Selector.ancestor(t,"[rdpopuppanel=True]",!1),elePanel=Y.one("#"+eleParamsPopup.id.replace("ppPanelParams-","rdDashboardPanel-")),sPanelInstanceId=elePanel.get("id").substring(elePanel.get("id").lastIndexOf("_")+1)}function PickGaugeGoalColor(e){var t=Y.Color.toHex(Y.one("#"+e.id).getComputedStyle("backgroundColor")),n=document.getElementById("rdAgGaugeGoalsColor"+sColorPicker+"_"+sPanelInstanceId);n.value=t;var r=Y.Selector.query("#rectColor"+sColorPicker,eleParamsPopup,!0);r.style.backgroundColor=t,ShowElement(this.id,"ppColors","Hide")}function rdSaveEditedAgViz(e,t,n,r,i){n||(n=r);var s="popupEditAgViz_"+n;ShowElement(null,s,"Hide");var o="&rdDashboardEditVizType="+t;o+="&rdReport="+rdAjaxEncodeValue(e),o+="&rdDefInDataCache=True",o+="&PanelID="+n,o+="&PanelInstanceID="+r;switch(t){case"AnalysisChart":o+="&rdPanelContentElementID=rdDashboardEditAc";break;case"AxTable":o+="&rdPanelContentElementID=rdDashboardEditAx";break;case"AgTable":o+="&rdPanelContentElementID=rdDashboardEditAgTable"}o+="&rdBookmarkID="+i;var u=function(){if(LogiXML.Dashboard.pageDashboard)LogiXML.Dashboard.pageDashboard.rdRefreshDashboardPanel(null,"rdDashboardPanel-"+this.sPanelID);else{var e=Y.one(".rdReportAuthor");e&&(e=e.getData("rdReportAuthor"),e&&e.refreshPanel(this.sPanelID))}}.bind({sPanelID:n,sReport:e});rdAjaxRequestWithFormVars("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=SaveEditedAgViz"+o,null,null,null,null,u,["","","","0"])}function rdAfTrimQuotes(e){return e?e.indexOf('"')!=0?e:e.lastIndexOf('"')!=e.length-1?e:e.length<=2?"":e.substr(1,e.length-2):e}function rdDbSetGlobalFilterFromChart(e,t,n,r){var i="rdGlobalAf_"+document.getElementById("ActiveTabIdentifier").value;switch(t){case"Categorized":var s=document.getElementById("rdFilteredXAxis_"+e),o=s.value;rdAfSetGlobalFilter(!0,i,e,n,o,"In List");break;case"Date Range":var s=document.getElementById("rdFilteredXAxis_"+e),u=s.value.split(","),a=rdAfTrimQuotes(u[0]),f=rdAfTrimQuotes(u[u.length-1]);rdAfSetGlobalFilter(!0,i,e,n,a+"|"+f,"Date Range");break;case"LinearX":case"LinearDate":var l=document.getElementById("rdFilteredXAxisMin_"+e),c=document.getElementById("rdFilteredXAxisMax_"+e);if(l&&c){var a=rdAfTrimQuotes(l.value),f=rdAfTrimQuotes(c.value),h="Range";t=="LinearDate"&&(h="Date Range"),rdAfSetGlobalFilter(!0,i,e,n,a+"|"+f,h)}break;case"LinearXY":var l=document.getElementById("rdFilteredXAxisMin_"+e),c=document.getElementById("rdFilteredXAxisMax_"+e);if(l&&c){var a=rdAfTrimQuotes(l.value),f=rdAfTrimQuotes(c.value),p="Range";a.indexOf("T")==10&&(p="Date Range"),rdAfSetGlobalFilter(!0,i,e,n,a+"|"+f,p)}l=document.getElementById("rdFilteredYAxisMin_"+e),c=document.getElementById("rdFilteredYAxisMax_"+e);if(l&&c){var a=rdAfTrimQuotes(l.value),f=rdAfTrimQuotes(c.value);setTimeout(function(){rdAfSetGlobalFilter(!0,i,e,r,a+"|"+f,"Range")},1)}}}function rdDashboardInterceptRefresh(e,t){if(!LogiXML.Dashboard.pageDashboard||LogiXML.Dashboard.pageDashboard.refreshing||LogiXML.getUrlParameter(e,"rdAjaxCommand")!="RefreshElement")return null;var n=document.getElementById("DashboardIdentifier");if(!n)return null;var r=n.value;if(!r)return null;var i=LogiXML.getUrlParameter(e,"rdRefreshElementID");if(!i)return null;var s=i.split(","),o=!1,u=s.indexOf("rdStopAjaxReplace");u<0?u=s.length-1:u-=1;for(var a=u;a>=0;a--)s[a]==r&&(o=!0,s.splice(a,1));if(!o)return null;if(s.length==0)LogiXML.Dashboard.pageDashboard.rdRefreshDashboard(t),e=null,t=null;else{e=LogiXML.setUrlParameter(e,"rdRefreshElementID",s.join(","));if(typeof t=="function"){var f=t;t=function(){LogiXML.Dashboard.pageDashboard.rdRefreshDashboard(this.origCallback)}.bind({origCallback:f})}else t=LogiXML.Dashboard.pageDashboard.rdRefreshDashboard}return{commandParams:e,fnCallback:t}}function rdDbRefreshGlobalFilterHighlighting(){var e=document.getElementById("rdGlobalFilterCaption");if(e)for(var t=e.parentNode.childNodes.length-1;t>=0;t--){var n=e.parentNode.childNodes[t];if(n===e)break;n.parentNode.removeChild(n)}var r=Y.all("div[id^='rdDashboardPanel-']");for(var i=0;i<r.size();i++){var s=r.item(i),o=s._node,u=document.getElementById("rdPanelGlobalFilterCaption_"+Y.LogiInfo.Dashboard.prototype.rdGetPanelInstanceId(o));u&&(u.innerText="",u.parentNode.parentNode.style.display="none")}rdDbEnableGlobalFilterHighlighting()}function rdDbEnableGlobalFilterHighlighting(){var e=document.getElementById("rdGlobalFilterCaption"),t,n;e&&(t=e.parentNode.getElementsByTagName("SPAN"),n=e.innerText.split(","));var r=!1,i=Y.all("span[id^='lblFilterDataColumn_rdGlobalAf']"),s=Y.all("span[id^='lblFilterCaption_rdGlobalAf']"),o=Y.all("input[id^='rdAfFilterDisabled_rdGlobalAf']"),u=0;for(var a=0;a<i.size();a++){var f=i.item(a)._node,l=f.innerText,c=document.getElementById(f.id.replace("lblFilterDataColumn_","lblFilterDashboardPanelID_")),h=c.innerText,p=s.item(a)._node;p.setAttribute("rdFilterColumn",l),p.setAttribute("rdFilterPanelID",h),p.onmouseover=function(){rdDbHighlightFilteredPanel(this)},p.onmouseout=function(){rdDbUnHighlightFilteredPanels(this)},r=rdDoesSpanExist(p.innerText,t);var d;o&&o.item(a)&&(d=o.item(a)._node,d&&!d.checked&&(r=!0));if(r==0){var v="";if(u>0){var m=e.parentNode.appendChild(document.createElement("SPAN"));m.innerText=", ",n&&n[a]&&(v=n[a].substring(0,n[a].indexOf("[")),m.innerText+=v)}var p=e.parentNode.appendChild(document.createElement("SPAN")),g=i.item(a).get("parentNode").all("span[id^='lblFilterCaption_rdGlobalAf']").item(0)._node.innerText;p.innerText=g,p.setAttribute("rdFilterColumn",l),p.setAttribute("rdFilterPanelID",h),p.onmouseover=function(){rdDbHighlightFilteredPanel(this)},p.onmouseout=function(){rdDbUnHighlightFilteredPanels(this)};var y=Y.all("div[id^='rdDashboardPanel-']");for(var b=0;b<y.size();b++){var w=y.item(b)._node,E=y.item(b).one("span[class='rdGlobalFilterColumnIDsClass']");if(E){E=E._node;var S=E.innerText,x=S.split(",");if(x.indexOf(l)!=-1)if(h==""||w.id.indexOf(h)==-1){var T=document.getElementById("rdPanelGlobalFilterCaption_"+Y.LogiInfo.Dashboard.prototype.rdGetPanelInstanceId(w)),N="";T.innerText.length>0&&(N=", "),T.innerText+=N+v+g,T.parentNode.parentNode.style.display=""}}}u+=1}r=!1}e&&setTimeout(function(){e.innerText=""},1)}function rdDoesSpanExist(e,t){for(var n=0;n<t.length;n++){if(t[n].getAttribute("id")=="rdGlobalFilterCaption")continue;var r=t[n].getAttribute("innerText"),i=t[n].innerText;if(r==e)return!0;if(i&&i==e)return!0}return!1}function rdDbHighlightFilteredPanel(e){e.style.transition="border-color 0.2s",e.className="rdDashboardCaptionGlobalFiltered";var t=e.getAttribute("rdFilterColumn"),n=e.getAttribute("rdFilterPanelID"),r=Y.all("div[id^='rdDashboardPanel-']");for(var i=0;i<r.size();i++){var s=r.item(i)._node,o=r.item(i).one("span[class='rdGlobalFilterColumnIDsClass']");if(o){o=o._node;var u=o.innerText,a=u.split(",");a.indexOf(t)!=-1&&(n==""||s.id.indexOf(n)==-1)&&(s.style.transition="border-color 0.2s",s.className+=" rdDashboardPanelGlobalFiltered")}}}function rdDbUnHighlightFilteredPanels(e){e.className="";var t=Y.all("div[id^='rdDashboardPanel-']");for(var n=0;n<t.size();n++){var r=t.item(n)._node;r.className=r.className.replace(" rdDashboardPanelGlobalFiltered","")}}function rdResetGalleryPanels(){var e=document.getElementById("ppChangeDashboard");if(!e)return;e.removeAttribute("data-rdLazyLoadComplete")}function rdEnableGalleryPanels(e,t){var n=document.getElementsByName("rdGalleryEnabled");for(var r=0;r<n.length;r++){var i=n[r];i.id=="rdHiddenRequestForwarding"&&i.parentNode.removeChild(i)}var s=document.getElementById("rdGalleryEnabled");s||(s=document.createElement("INPUT"),s.type="hidden",s.id="rdGalleryEnabled",s.name=s.id,document.rdForm.appendChild(s)),s.value=e?"True":"False",n=document.getElementsByName("rdGalleryParentID");for(var r=0;r<n.length;r++){var i=n[r];i.id=="rdHiddenRequestForwarding"&&i.parentNode.removeChild(i)}var o=document.getElementById("rdGalleryParentID");e?(o||(o=document.createElement("INPUT"),o.type="hidden",o.id="rdGalleryParentID",o.name=o.id,document.rdForm.appendChild(o)),o.value=t):o.parentNode.removeChild(o)}function rdShowAddGalleryPanels(e,t){rdEnableGalleryPanels(!0,e);var n=document.getElementById("ppChangeDashboard");if(!n.getAttribute("data-rdLazyLoadComplete")){var r=function(){var e=document.getElementById("ppChangeDashboard");e.setAttribute("data-rdLazyLoadComplete","True");var t=function(){rdEnableGalleryPanels(!1)},n=Y.one(e),r=n.all("#rdPopupPanelX").get("node")[0];r.on("click",t),r=n.one("#ppDoneButton"),r&&r.on("click",t),rdShowAddGalleryPanels(this.id,this.report)}.bind({id:e,report:t});return rdAjaxRequestWithFormVars("rdAjaxCommand=RefreshElement&rdRefreshElementID=ppChangeDashboard,rdStopAjaxReplace,"+e+"&rdReport="+t,"false","",null,null,r,["","",""])}var i=document.getElementById("rdAddPanelsList");if(i){var s=3*(Y.one("body").get("winHeight")/4)>400?3*(Y.one("body").get("winHeight")/4):400;i.style.height=s+"px",i.style.overflow="auto"}ShowElement(e,"ppChangeDashboard","Show")}var rdNewPanelCnt=0,rdVisibleTopPosition=0;YUI.add("dashboard",function(Y){var FreeForm=Y.LogiXML.Dashboard.FreeForm;Y.namespace("LogiInfo").Dashboard=Y.Base.create("Dashboard",Y.Base,[],{initializer:function(e){var t=document.getElementById("rdDashboardAdjustable"),n=document.getElementById("rdFreeformLayout");n!=null&&n.id.toLowerCase()=="rdhiddenrequestforwarding"&&(n=null),this.set("bIsFreeformLayout",n!=null);if(!t)return;rdDbEnableGlobalFilterHighlighting();var r=document.getElementById("lstColumnCount");r?this.columnLayout=r.value:this.columnLayout="Free-form",this.refreshing=!1;var i=e&&e.reinitializing;!i&&LogiXML.Ajax.AjaxTarget&&LogiXML.Ajax.AjaxTarget().on("reinitialize",function(){if(this.refreshing)return;this.layoutChanged()&&this.rdRefreshDashboard()},this);if(t.innerHTML=="False"){this.set("bDashboardAdjustable",!1);var s="rdDashboardPanel";this.get("bIsFreeformLayout")&&(this.rdSizeUnAdjustablePanels(s),FreeForm.rdResizeDashboardContainer())}if(t.innerHTML!="False"){!i&&LogiXML.Ajax.AjaxTarget&&LogiXML.Ajax.AjaxTarget().on("reinitialize",function(){rdSetUndoRedoVisibility()},this),rdSetUndoRedoVisibility();var o;if(typeof rdMobileReport=="undefined"){var u=Y.all("div.rdDashboardPanel"),a=u.size();a>0&&FreeForm.addPanelClickEvents();for(o=0;o<a;o++)this.initializeDashboardPanel(u.item(o).get("id"),this,!1)}var f=document.getElementsByTagName("TD");for(o=0;o<f.length;o++){var l=f[o];if(l.id.indexOf("rdDashboardColumn")==0){var c=Y.one(l).plug(Y.Plugin.Drop);c.drop.on("drop:hit",this.DashboardColumn_onDropHit,this)}}var h=document.getElementsByTagName("LI");for(o=0;o<h.length;o++){var p=h[o];if(p.parentNode.parentNode.id.indexOf("rdTabs-")==0&&p.className!="selected"&&p.id!="rdTabAddNewTab"){var c=Y.one('li[id="'+p.id+'"]').plug(Y.Plugin.Drop);c.drop.on("drop:hit",this.Tab_onDropHit,this)}}this.rdAddRefreshEventForAddPanelsPopupCloseButton(),FreeForm.rdResizeDashboardContainer(),typeof rdMobileReport=="undefined"&&this.rdPositiontabSettingsCog();var d=Y.one("#rdTabAddNewTab");if(Y.Lang.isValue(d))if(typeof rdMobileReport=="undefined"){var v=d.one("a");v.addClass("hide-tab");var m=v.one("span");m.addClass("rdDashboardCommand")}else{var g=d.getDOMNode().previousSibling,y=175;g.style.width=y+"px",g.style.wordWrap="break-word",g.firstChild.style.paddingLeft="2px",g.firstChild.style.paddingRight="2px",g.firstChild.style.width=y-4+"px",g.firstChild.style.wordWrap="break-word",g.firstChild.style.backgroundRepeat="repeat-x",g.firstChild.firstChild.style.paddingLeft="2px",g.firstChild.firstChild.style.paddingRight="2px",g.firstChild.firstChild.style.width=y-8+"px",g.firstChild.firstChild.style.wordWrap="break-word",this.rdPositiontabSettingsCog(!1)}this.subscribeToWindowResize();if(this.get("bIsFreeformLayout")){var b=Y.all("div.rdAutoPositionPanel");if(b.size()>0){var w=this;setTimeout(function(){w.initializeAutoPositionPanels(b)},100)}}a<1&&this.rdShowAddDashboardPanels()}},layoutChanged:function(){var e=LogiXML.Dashboard.pageDashboard,t=!!e.get("bIsFreeformLayout"),n=!!document.getElementById("rdFreeformLayout"),r=document.getElementById("lstColumnCount"),i;return r?i=r.value:i="Free-form",t!=n||e.columnLayout!=i},subscribeToWindowResize:function(){window.LogiXML.visualizationWindowResize||(window.LogiXML.visualizationWindowResize=Y.on("windowresize",function(){var e=Y.all("div.rdDashboardPanel");e.each(function(e){var t=e.one("div.panelBody"),n=e.one("logi-visualization,logi-crosstab-table");n&&FreeForm.resizeVisualizationToFitPanel(e,n),Y.LogiXML.ChartDrillToBreadcrumb&&Y.LogiXML.ChartDrillToBreadcrumb.reflowItem&&e.all(".rdChartDrillToBreadcrumb").each(Y.LogiXML.ChartDrillToBreadcrumb.reflowItem)})}))},rdClientSideEnableUndo:function(){var e=document.getElementById("lblAutoBookmark");e&&e.value==""&&rdSetUndoRedoVisibility()},initializeDashboardPanel:function(e,t,n){n&&rdDbRefreshGlobalFilterHighlighting();if(!e)return;var r=document.getElementById(e);if(!r)return;Y.DD.DDM.getNode(Y.one(r)).destroy();var i=Y.one(r);if(r.className.indexOf("yui-resize")!=-1||e.indexOf("rdDashboardPanel-")!=0)return;t||(t=LogiXML.Dashboard.pageDashboard);var s=e.replace("rdDashboardPanel-","rdDashboardPanelTitle-"),o=new Y.DD.Drag({node:i});i.addClass("dragHandleOnly"),t.get("bIsFreeformLayout")&&(o.plug(Y.Plugin.DDConstrained,{tickX:10,tickY:10,constrain:[]}),FreeForm.initializePanelResizer(i),FreeForm.rdResizeDashboardContainer(),i.setStyle("left",FreeForm.rdRoundTo10(i.getStyle("left"))),i.setStyle("top",FreeForm.rdRoundTo10(i.getStyle("top")))),o.on("drag:start",t.DashboardPanel_onDragStart,t),o.on("drag:end",t.DashboardPanel_onDragEnd,t),o.on("drag:over",t.DashboardPanel_onDragOver,t);var u=i.one('tr[id="'+s+'"]');i.dd.addHandle(u).plug(Y.Plugin.DDWinScroll,{scrollDelay:100,horizontal:!1}),u.setStyle("cursor","move"),t.get("bIsFreeformLayout")?i.setStyle("opacity",".92"):i.setStyle("opacity","1")},initializeAutoPositionPanels:function(e){var t=this.rdCalculateBottomValue(),n=[],r={},i,s;e.each(function(e){i=e.one("input[id^=rdAutoPositionIndex]"),s=i.get("value"),n.push(parseInt(s)),r[s]=e}),n.sort();var o,u;for(var a=0,f=n.length;a<f;a++)o=r[n[a]],o.setStyle("top",FreeForm.rdRoundTo10(t+10)+"px"),o.removeClass("rdAutoPositionPanel"),u=o.getDOMNode(),t=u.offsetTop+u.offsetHeight;if(rdVisibleTopPosition>0){var l=Y.one("#rdDivDashboardpanels");l&&(rdVisibleTopPosition+=l.getDOMNode().offsetTop),window.scrollTo(0,rdVisibleTopPosition),rdVisibleTopPosition=0}},DashboardPanel_onDragStart:function(e){var t=e.target.get("dragNode");this.get("bIsFreeformLayout")?(FreeForm.freezeDashboardContainer(),FreeForm.showPanelonTop(t),t.setStyle("opacity",".75")):t.setStyles({zIndex:1,opacity:.75}),this.rdSetAppletVisibility("hidden");var n=Y.one(".rdDashboardPanelContainer");n&&n.simulate("mousedown")},DashboardPanel_onDragEnd:function(e){var t=e.target.get("dragNode");if(this.get("bIsFreeformLayout")){FreeForm.unFreezeDashboardContainer();var n=t.getStyle("top").replace("px",""),r=t.getStyle("left").replace("px","");n<0&&t.setStyle("top","0px"),r<0&&t.setStyle("left","0px"),t.setStyle("opacity",".92"),FreeForm.rdSaveFreeformLayoutPanelPosition("rdDivDashboardpanels",!1,!0)}else{t.setStyles({zIndex:0,opacity:1,left:0,top:0}),t.all(".rdChartCanvas").each(Y.LogiXML.ChartCanvas.reflowChart),Y.LogiXML.ChartDrillToBreadcrumb&&Y.LogiXML.ChartDrillToBreadcrumb.reflowItem&&t.all(".rdChartDrillToBreadcrumb").each(Y.LogiXML.ChartDrillToBreadcrumb.reflowItem);if((t.get("id")||"").indexOf("NGPviz")>=0){var i=t.one("div.panelBody");i.setStyle("width",Y.one("#lastHoveredDropZoneWidth").get("value"));var s=i.all("div.rdLogiVisualization");if(s.size()>0){var o=t.one(".rdLogiVisualization logi-visualization,.rdLogiVisualization logi-crosstab-table");o&&LogiXML.Dashboard.FreeForm.resizeVisualizationToFitPanel(t,o)}}}var u=t.getXY();this.get("bIsTouchDevice")&&setTimeout(function(){Y.LogiInfo.Dashboard.rdResetDashboardPanelAfterDDScroll(t.getDOMNode(),u)},1e3),this.rdSetDropZone(null),this.rdSetAppletVisibility("")},DashboardPanel_onDragOver:function(e){var t=1,n=e.drop.get("node"),r=e.target.get("node"),i=n.getDOMNode(),s=r.getDOMNode();if(!this.get("bIsFreeformLayout")&&n.get("id").indexOf("rdDashboardColumn")==0){var o,u,a,f;for(var l=0;l<i.childNodes.length;l++)if(i.childNodes[l].id.indexOf("rdDashboardDropZone")!=-1){o=i.childNodes[l];var c=this.rdGetDbPanelHeight(s),h=this.rdGetDbPanelHeight(o);u?Math.abs(c-h)<a&&(u=o,a=Math.abs(c-h)):(u=o,a=Math.abs(c-h))}if(u){this.rdSetDropZone(u);var p=document.getElementById("lastHoveredDropZoneWidth");if(!p){var d=document.createElement("input");d.setAttribute("id","lastHoveredDropZoneWidth"),d.setAttribute("type","hidden"),document.body.appendChild(d),p=d}p.setAttribute("value",Y.one(u).get("clientWidth"))}}else i.tagName=="LI"?i.parentNode.parentNode.id.indexOf("rdTabs-")==0&&this.rdSetDropZone(i):this.rdSetDropZone(null)},DashboardColumn_onDropHit:function(e){if(!this.get("rdDropZoneId"))return;var t=document.getElementById(this.get("rdDropZoneId"));if(!t)return;if(t.tagName=="TABLE"){var n=e.drag.get("node");n.setStyles({left:0,top:0});if(n.get("id").replace("rdDashboardPanel","rdDashboardDropZone")==this.get("rdDropZoneId")){this.rdSetDropZone(null);return}var r=document.getElementById(n.get("id").replace("rdDashboardPanel","rdDashboardDropZone")),i=document.getElementById(n.get("id"));t.nextSibling?(t.parentNode.insertBefore(r,t.nextSibling),t.parentNode.insertBefore(i,t.nextSibling)):(t.parentNode.appendChild(i),t.parentNode.appendChild(r)),this.rdSetDropZone(null),this.rdSaveDashboardOrder(i.id);var s=n.one("logi-visualization,logi-crosstab-table"),o=Y.one("#lastHoveredDropZoneWidth");if(s){if(o){var u=n.one(".chartfx-wrapper");u.setStyle("width",o.get("value"))}FreeForm.resizeVisualizationToFitPanel(n,s)}var a=n.one(".rdChartCanvas");a&&(a.setStyle("width",null),Y.LogiXML.ChartCanvas.reflowAllCharts())}},Tab_onDropHit:function(e){if(!this.get("rdDropZoneId"))return;var t=document.getElementById(this.get("rdDropZoneId"));if(!t)return;var n=e.drag.get("node"),r=n.get("id"),s=Y.one("#rdDashboardSingleInstanceOnlyPanelsList");if(s!=null){var o=s.getDOMNode().value.split(",");for(i=0;i<o.length;i++){var u=o[i];if(u==r.substring(r.indexOf("rdDashboardPanel-")+"rdDashboardPanel-".length,r.lastIndexOf("_")))return}}this.rdMovePanelToTab(r,e.target.get("node").get("id"),t)},rdAddDashboardPanel:function(e,t,n){e.indexOf("NGPviz")>=0&&(bIsNgpViz=!0);var r=document.getElementById("rdFreeformLayout");r!=null&&r.id.toLowerCase()=="rdhiddenrequestforwarding"&&(r=null);var i="&rdReport="+document.getElementById("rdDashboardDefinition").value;i+="&PanelID="+e;var s=document.getElementById("rdActiveTabId_rdDashboardTabs");Y.Lang.isValue(s)&&(i+="&TabID="+s.value),this.rdCalculatezIndexValue();if(r){var o=this.rdCalculateBottomValue();i+="&rdFreeformLayout=True",i+="&rdNewFreeformLayoutPanel=True",rdNewPanelCnt>0?o+=400*rdNewPanelCnt:rdVisibleTopPosition=o,i+="&rdAutoPosition=True",i+="&rdFreeformLayoutStyle=Position:absolute;Left:10px;Top:"+(o+10)+"px;z-index:"+this.get("zIndex")+";",bIsNgpViz&&(i+="height:400px;"),i+="&rdDashboardTabStyle=Width:"+Y.DOM.winWidth()+"px;Height:"+(Y.DOM.winHeight()-Y.DOM.region(Y.DOM.byId("rdDashboardList")).top-50)+"px;"}else{var u=Y.one(".rdDashboardPanelContainer");i+="&rdDashboardTabStyle=Width:"+u.get("offsetWidth")+"px;"}rdNewPanelCnt+=1,this.rdClientSideEnableUndo(),rdAjaxRequestWithFormVars("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=AddDashboardPanel"+i);if(typeof n=="undefined"){var a=document.getElementById("lblCount_Row"+t);a.innerHTML=parseInt(a.innerHTML)+1;var f=document.getElementById("divCount_Row"+t);f.className=f.className.replace("rdDashboardHidden","");var l=document.getElementById("divAdded_Row"+t);l.className=l.className.replace("rdDashboardHidden","");if(document.getElementById("hiddenMultiInstance_Row"+t).value=="False"){var c=document.getElementById("lblAddPanel_Row"+t);c.className="rdDashboardHidden",f.className="rdDashboardHidden";if(Y.Lang.isNull(Y.one("#rdUseGalleryFile"))){var h=document.getElementById("lblDeletePanel_Row"+t);h.className="rdDashboardHidden"}}}else{var p=Y.one("#"+n),a=p.one("#lblCount_Row"+t).getDOMNode();a.innerHTML=parseInt(a.innerHTML)+1;var f=p.one("#divCount_Row"+t).getDOMNode();f.className=f.className.replace("rdDashboardHidden","");var l=p.one("#divAdded_Row"+t).getDOMNode();l.className=l.className.replace("rdDashboardHidden","");if(p.one("#hiddenMultiInstance_Row"+t).getDOMNode().value=="False"){var c=p.one("#lblAddPanel_Row"+t).getDOMNode();c.className="rdDashboardHidden",f.className="rdDashboardHidden";var h=p.one("#lblDeletePanel_Row"+t).getDOMNode();h.className="rdDashboardHidden"}}},rdCalculateBottomValue:function(){var e=Y.one("#rdDivDashboardpanels")||Y.one("#rdDivDashboardPanelTable"),t,n;if(Y.Lang.isNull(e))return 0;t=e.all(".rdDashboardPanel");var r=0,i,s,o,u;for(n=0;n<t.size();n++){o=t.item(n);if(o.hasClass("rdAutoPositionPanel"))continue;u=o.getDOMNode(),i=u.offsetTop,s=u.offsetHeight,n==0?r=i+s:r=Math.max(i+s,r)}return r},rdCalculatezIndexValue:function(){var e=Y.one("#rdDivDashboardPanelTable"),t=e.all(".rdDashboardPanel"),n=t.size(),r,i;if(n===0){this.set("zIndex",this.get("zIndex")+1);return}for(r=0;r<n;r++){i=t.item(r);var s=i.getComputedStyle("zIndex");this.get("zIndex")<=s&&this.set("zIndex",parseInt(s)+1)}},rdRemoveDashboardPanel:function(e,t){var n=document.getElementById("rdFreeformLayout");n!=null&&n.id.toLowerCase()=="rdhiddenrequestforwarding"&&(n=null);var r=document.getElementById(e);if(r){var i=document.getElementById(e.replace("rdDashboardPanel","rdDashboardDropZone"));r.parentNode.removeChild(r),i&&i.parentNode.removeChild(i);var s=e.replace("rdDashboardPanel-",""),o=document.getElementsByTagName("INPUT");for(var u=0;u<o.length;u++){var a=o[u];a.parentNode.innerHTML.indexOf("&quot;,"+s+"&quot;")!=-1&&(a.checked=!1)}var f="&rdReport="+document.getElementById("rdDashboardDefinition").value;f+="&PanelInstanceID="+this.rdGetPanelInstanceId(r),n&&(FreeForm.rdResizeDashboardContainer(),f+="&rdFreeformLayout=True"),f+="&DashboardID="+document.getElementById("DashboardIdentifier").value,this.rdClientSideEnableUndo(),rdAjaxRequestWithFormVars("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=RemoveDashboardPanel"+f),rdResetGalleryPanels()}},rdDeleteCustomDashboardPanel:function(e,t,n,r){var i="&rdReport="+document.getElementById("rdDashboardDefinition").value;i+="&sPanelID="+e;var s=document.getElementById("rdActiveTabId_rdDashboardTabs");Y.Lang.isValue(s)&&(i+="&TabID="+s.value),rdAjaxRequestWithFormVars("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=DeleteCustomDashboardPanel"+i);var o=document.getElementById("rdDashboardPanelList"),u=-1,a=Number(t)-1,f=o.rows;for(var l=0;l<f.length;l++){var c=f[l];if(!c.id)continue;u++;if(u==a){c.style.display="none";break}}},rdSetDropZone:function(e){if(this.get("rdDropZoneId")){var t=document.getElementById(this.get("rdDropZoneId"));t&&(t.tagName=="TABLE"?t.firstChild.firstChild.firstChild.className="rdDashboardDropZone":t.firstChild.firstChild.firstChild.className=t.firstChild.firstChild.firstChild.className.replace(" rdDashboardDropTabActive",""))}e?(this.set("rdDropZoneId",e.id),e.tagName=="TABLE"?e.firstChild.firstChild.firstChild.className="rdDashboardDropZoneActive":e.firstChild.firstChild.firstChild.className=e.firstChild.firstChild.firstChild.className+" rdDashboardDropTabActive"):this.set("rdDropZoneId",null)},rdSaveDashboardOrder:function(e){var t=document.getElementById("rdDashboardPanelOrder");t.value="";var n=document.getElementsByTagName("DIV");for(var r=0;r<n.length;r++){var i=n[r];if(i.id.indexOf("rdDashboardPanel")==0){t.value+=","+this.rdGetPanelInstanceId(i);var s=i.parentNode.id.replace("rdDashboardColumn","");t.value+=":"+s}}var o="&rdReport="+document.getElementById("rdDashboardDefinition").value;e&&(o+="&rdReloadPanelID="+e),window.status="Saving dashboard panel positions.",this.rdClientSideEnableUndo(),rdAjaxRequestWithFormVars("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=UpdateDashboardPanelOrder"+o)},rdSaveDashboardParams:function(e,t,n){if(typeof n=="undefined"&&document.activeElement.id.indexOf("rdDashboardPanelRename-")!=-1)return;var r=rdValidateForm();if(r){alert(r);return}var i=e.replace("rdDashboardPanel-",""),s=document.getElementById(e),o=Y.one("#rdDashboardPanelRenameDiv-"+i);Y.Lang.isNull(o)||o.setStyle("display","none");var u=Y.one("#rdDashboardPanelCaptionDiv-"+i);u.setStyle("display","");var a=Y.one("#rdPanelSettingsCog_"+i);a.setStyle("display","");if(!Y.Lang.isNull(o)){var f=encodeHtmlInput(o.one("#"+o.get("id").replace("rdDashboardPanelRenameDiv-","rdDashboardPanelRename-")).get("value"));if(u.one("#rdDashboardCaptionID").getHTML()!=f)u.one("#rdDashboardCaptionID").setHTML(f);else if(typeof t!="undefined")return}var l={parameters:"",ids:""};l=this.rdGetRecursiveInputValues(s,l),l=this.rdGetRecursiveInputValues(document.getElementById("ppPanelParams-"+i),l),l.parameters+="&rdReport="+document.getElementById("rdDashboardDefinition").value,l.parameters.indexOf("&InstanceID")==-1&&(l.parameters+="&InstanceID="+this.rdGetPanelInstanceId(s)),typeof t!="undefined"&&(l.parameters+="&bPanelRename=true"),window.status="Saving dashboard panel parameters.";var c=Y.one(s),h=Y.bind(FreeForm.initializePanel,window,c,c.getData("resizer"));rdAjaxRequestWithFormVars("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=SaveDashboardParams&PanelID="+i+l.parameters+"&ParamIDs="+l.ids,null,null,null,null,h)},rdEditDashboardPanel:function(e){var t=document.getElementById(e),n=e.substring(17),r=document.getElementById("rdDashboardPanelCaptionDiv-"+n),i=document.getElementById("rdDashboardCancel-"+n);try{r&&i&&(i.outerHTML?i.outerHTML.indexOf("rdIgnore")!=-1&&ShowElement(this.id,r,"Show"):new XMLSerializer&&(new XMLSerializer).serializeToString(i).indexOf("rdIgnore")!=-1&&ShowElement(this.id,r,"Show"))}catch(s){}this.rdPreventDragFromRename("rdDashboardPanelRename-"+n)},rdGetRecursiveInputValues:function(e,t){for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(!(!r.nodeName||r.nodeName.toLowerCase()!=="shape"&&r.nodeName.toLowerCase()!=="#text"))break;if(r.getAttribute("data-checkboxlist")){l=r.id+"="+rdGetSelectedValuesFromCheckboxList(r.id),t.parameters.indexOf(l)<0&&(t.parameters+="&"+l);var i=t.ids.split(":"),s=!1;for(var n=0;n<i.length;n++)i[n]===r.id&&(s=!0);s||(t.ids+=":"+r.id);break}if(!Y.Lang.isNull(r.id)&&t.ids.indexOf(r.id)>-1&&r.id.length>0){var o=t.ids.split(":"),u=!1;for(var a=0;a<o.length;a++){var f=o[a];if(f===r.id){u=!0;break}}if(u)continue}switch(r.type){case"hidden":case"text":case"email":case"number":case"tel":case"textarea":case"password":case"select-one":case"rdRadioButtonGroup":case"file":var l=rdGetFormFieldValue(r);t.parameters+="&"+r.name+"="+rdAjaxEncodeValue(l),t.ids+=":"+r.name;break;case"select-multiple":var c=new Array;for(var h=0;h<r.length;h++)r.options[h].selected&&(c[c.length]=r.options[h].value);typeof window.rdInputValueDelimiter=="undefined"&&(window.rdInputValueDelimiter=",");var l=c.join(rdInputValueDelimiter);t.parameters+="&"+r.name+"="+rdAjaxEncodeValue(l),t.ids+=":"+r.name;break;case"checkbox":if(r.checked){var l=rdGetInputValues(r);t.parameters.indexOf(l)<0&&(t.parameters+=l);var i=t.ids.split(":"),s=!1;for(var n=0;n<i.length;n++)i[n]===r.name&&(s=!0);s||(t.ids+=":"+r.name)}break;default:if(r.getAttribute){if(r.getAttribute("type")=="rdRadioButtonGroup"){var l=rdGetFormFieldValue(r);t.ids.indexOf(r.getAttribute("name"))<0&&(t.parameters+="&"+r.getAttribute("name")+"="+rdAjaxEncodeValue(l),t.ids+=":"+r.getAttribute("name"));break}t=this.rdGetRecursiveInputValues(r,t);break}t=this.rdGetRecursiveInputValues(r,t)}}return t},rdRenameDashboardTab:function(e){if(typeof e=="undefined"&&document.activeElement.id.indexOf("txtRenameTab")!=-1)return;var t=Y.one("#rdSettingsCog");t.setStyle("display",""),Y.one("#rdRenameTabDiv").setStyle("display","none");var n=document.getElementById("rdActiveTabId_rdDashboardTabs").value,r=document.getElementById(n),i=Y.one("#txtRenameTab").getDOMNode(),s=i.value,o;r.textContent?o=r.textContent:o=r.innerText;var u=Y.one(r).one("#rdCaption_"+n).getDOMNode();if(s.replace(/ /g,"").length==0){document.getElementById("txtRenameTab").value=o;return}u.textContent?u.textContent=s:u.innerText=s;var a="&rdReport="+document.getElementById("rdDashboardDefinition").value;a+="&TabID="+n,a+="&NewName="+rdAjaxEncodeValue(s),bSubmitFormAfterAjax=!0,this.rdClientSideEnableUndo(),rdAjaxRequestWithFormVars("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=RenameDashboardTab"+a),LogiXML.Dashboard.pageDashboard.rdPositiontabSettingsCog()},rdShowRenameTab:function(){var e=document.getElementById("rdActiveTabId_rdDashboardTabs").value,t=document.getElementById(e),n=Y.one("#rdSettingsCog");n.setStyle("display","none");var r=Y.one(t).one("#rdCaption_"+e),i=Y.one(t),s=Y.one("#rdRenameTabDiv");s.setStyles({left:i.getX()+5,top:r.getY(),display:"",position:"absolute",width:i.get("scrollWidth")-20});var o=Y.one("#txtRenameTab");o.setStyle("width","100%"),o.focus()},rdShowRenamePanel:function(e,t){var n=Y.one(e),r=Y.one("#rdDashboardPanelRenameDiv-"+t);r.setStyle("display","");var i=Y.one("#rdDashboardPanelCaptionDiv-"+t);i.setStyle("display","none");var s=Y.one("#rdPanelSettingsCog_"+t);s.setStyle("display","none");var o=Y.one("#rdDashboardPanelRename-"+t);o.focus();var u=o.getDOMNode();if(u.createTextRange){var a=u.createTextRange();a.move("character",u.value.length),a.select()}else u.focus(),u.setSelectionRange(u.value.length,u.value.length);Y.one("body").on("keydown",this.rdHandleRenameKeyDown)},rdHandleRenameKeyDown:function(e){e&&e.keyCode==13&&e.target.get("id").indexOf("rdDashboardPanelRename")>-1&&(e.preventDefault(),e.target.blur())},rdMoveDashboardTab:function(e){var t=document.getElementById("rdActiveTabId_rdDashboardTabs").value,n=document.getElementById(t),r=document.getElementById("rdTabPanel_"+t),i=!1;switch(e){case"Left":var s=n.previousSibling,o=r.previousSibling;s&&o&&(n.parentNode.insertBefore(n.parentNode.removeChild(n),s),r.parentNode.insertBefore(r.parentNode.removeChild(r),o),i=!0);break;case"Right":var s=n.nextSibling,o=r.nextSibling;s&&o&&s.getAttribute("id")!="rdTabAddNewTab"&&(s.nextSibling?(n.parentNode.insertBefore(n.parentNode.removeChild(n),s.nextSibling),r.parentNode.insertBefore(r.parentNode.removeChild(r),o.nextSibling),i=!0):(n.parentNode.appendChild(n.parentNode.removeChild(n)),r.parentNode.appendChild(r.parentNode.removeChild(r)),i=!0))}if(i){var u="&rdReport="+document.getElementById("rdDashboardDefinition").value;u+="&TabID="+t,u+="&Direction="+e,this.rdClientSideEnableUndo(),rdAjaxRequest("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=MoveDashboardTab"+u)}},rdMovePanelToTab:function(e,t,n){var r=document.getElementById(e);if(r){var i=document.getElementById(e.replace("rdDashboardPanel","rdDashboardDropZone"));r.parentNode.removeChild(r),i&&i.parentNode.removeChild(i),Y.Lang.isNull(n.firstChild)||(n.firstChild.firstChild.firstChild.className=n.firstChild.firstChild.firstChild.className.replace(" rdDashboardDropTabActive",""));var s="&rdReport="+document.getElementById("rdDashboardDefinition").value;s+="&PanelInstanceID="+this.rdGetPanelInstanceId(r),s+="&TabID="+t,this.rdClientSideEnableUndo(),rdAjaxRequest("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=MoveDashboardPanelToTab"+s)}},rdPositiontabSettingsCog:function(e){if(typeof e!="undefined"){setTimeout(this.rdPositiontabSettingsCog,500);return}var t=Y.one("#rdSettingsCog");if(!t)return;var n=Y.one(".selected");if(Y.Lang.isNull(n)){t.setStyle("display","");return}typeof rdMobileReport=="undefined"&&n.get("firstChild").setStyle("cursor","move");var r=Y.one("#rdAddTabCog"),i;if(!Y.Lang.isNull(n)){var s=Y.DOM.region(n.getDOMNode());if(typeof rdMobileReport=="undefined"){t.setStyles({display:""});var o=t.one("img").getDOMNode(),i=o.getAttribute("rdRegionTop"),u=o.getAttribute("rdExtraMarginLeft"),a=Y.DOM.region(t.one("img").getDOMNode()),f=Y.DOM.region(Y.one("#rdTabs ul").getDOMNode());i==null&&(i=a.top,u=a.left-f.left,o.setAttribute("rdRegionTop",i),o.setAttribute("rdExtraMarginLeft",u)),Y.Lang.isNull(r)?t.setStyles({"margin-left":5,"margin-top":0,position:"absolute"}):t.setStyles({"margin-left":s.left+s.width-f.left-u-a.width-4,"margin-top":s.top-i+4,position:"absolute"})}else t.setStyles({left:s.left+s.width-24,top:s.top+4,position:"absolute",display:""})}var l=Y.one("#rdTabs ul");if(!Y.Lang.isNull(r)){r.setStyles({display:""});var c=Y.DOM.region(l.getDOMNode());r.setStyles({"margin-left":l.get("scrollWidth")+15,"margin-top":c.top-i,position:"absolute"})}},rdAddNewTab:function(){var e=Y.one("#rdTabs-rdDashboardTabs").getData("tabs");document.getElementById("rdActiveTabIndex_rdDashboardTabs").value="0",document.getElementById
("rdActiveTabId_rdDashboardTabs").value="rdTabAddNewTab";var t=Y.all(Y.one("input[name=rdDashboardTabs]"));for(i=0;i<t.size();i++){var n=t.item(i);typeof n.get("value")!="undefined"&&n.set("value","rdTabAddNewTab")}e.TabsTarget().fire("selectedTabChanged"),this.rdRefreshDashboard()},rdRefreshDashboard:function(callback){var nodeDashboardId=Y.one("#DashboardIdentifier"),dashboardTabs=document.getElementById("rdActiveTabId_rdDashboardTabs"),sAjaxUrl;Y.Lang.isNull(dashboardTabs)?sAjaxUrl="rdAjaxCommand=RefreshElement&rdRefreshElementID="+nodeDashboardId.get("value")+",rdDivDashboardpanels"+"&rdRefreshDashboard=True&rdReport="+document.getElementById("rdDashboardDefinition").value+"&rdRequestForwarding=Form":sAjaxUrl="rdAjaxCommand=RefreshElement&rdRefreshElementID="+nodeDashboardId.get("value")+",rdDashboardTabs"+"&rdRefreshDashboard=True&rdReport="+document.getElementById("rdDashboardDefinition").value+"&rdRequestForwarding=Form";var waitCfg=["","",""],eleWaitCfg=document.getElementById("rdWaitCfg");if(eleWaitCfg)try{var sScript=LogiXML.getScriptFromLink(eleWaitCfg.parentElement);if(sScript){waitCfg=eval(sScript.substr(0,sScript.indexOf("]")+1));if(sScript.indexOf("SubmitForm(")==0)return}}catch(e){}var afterRefresh=function(){LogiXML.Dashboard.pageDashboard.initializer({reinitializing:!0}),typeof this.callback=="function"&&this.callback()}.bind({callback:callback});LogiXML.Dashboard.pageDashboard.refreshing=!0,rdAjaxRequest(sAjaxUrl,!1,null,!1,afterRefresh,waitCfg);if(bIsNgpViz!==undefined&&bIsNgpViz==1&&!window.Logi){var href=window.location.href;href&&href.indexOf&&href.indexOf(!0)?(href=href.replace("&rdNewBookmark=True",""),window.location.replace(href)):window.location=window.location}},rdAddDashboardPanels:function(){rdNewPanelCnt>0&&(rdNewPanelCnt=0,LogiXML.Dashboard.pageDashboard.rdRefreshDashboard()),window.location.href.indexOf("&rdCommand=Undo")>-1&&(window.location.href=window.location.href.replace("&rdCommand=Undo","")),window.location.href.indexOf("&rdCommand=Redo")>-1&&(window.location.href=window.location.href.replace("&rdCommand=Redo","")),ShowElement(null,"ppChangeDashboard","Hide")},rdAddRefreshEventForAddPanelsPopupCloseButton:function(){var e=Y.one("#ppChangeDashboard"),t=e.all("#rdPopupPanelX").get("node")[0];typeof this.rdAddDashboardPanels=="undefined"?t.on("click",LogiXML.Dashboard.pageDashboard.rdAddDashboardPanels):t.on("click",this.rdAddDashboardPanels)},rdShowAddDashboardPanels:function(){rdShowAddGalleryPanels(Y.one("#DashboardIdentifier").get("value"),document.getElementById("rdDashboardDefinition").value)},rdRefreshDashboardPanel:function(e,t){var n=function(){LogiXML.Dashboard.pageDashboard.initializeDashboardPanel(this.sPanelId,null,!0)}.bind({sPanelId:t}),r="rdAjaxCommand=RefreshElement&rdRefreshElementID="+t+",rdGlobalAfContainer"+"&rdReport="+document.getElementById("rdDashboardDefinition").value+"&rdRequestForwarding=Form&rdRefreshDashboard=True";rdAjaxRequest(r,!1,null,!1,n,["","","","0"])},rdAddRefreshEventForPanelEditPopupCloseButton:function(e,t){if(typeof t=="undefined"||t==="")return;var n=Y.one("#"+e.replace("rdDashboardPanel-","ppPanelParams-")),r=n.all("#rdPopupPanelX").get("node")[0];typeof this.rdRefreshDashboardPanel=="undefined"?r.on("click",LogiXML.Dashboard.pageDashboard.rdRefreshDashboardPanel,null,e):r.on("click",this.rdRefreshDashboardPanel,null,e)},rdSetDashboardColumns:function(e){var t=document.getElementById("ActiveTabIdentifier").value,n=document.getElementById(t),r=document.getElementById("lstColumnCount"),i;r?i=r.value:i="Free-form";var s=rdGetFormFieldValue(document.getElementById("rdRadioButtonGroupradWideColumn"));if(typeof e=="undefined"){var o="&rdReport="+document.getElementById("rdDashboardDefinition").value;o+="&TabID="+t,o+="&NewColumnCount="+i,o+="&NewWideColumn="+s,rdAjaxRequestWithFormVars("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=SetDashboardTabColumns"+o)}if(i=="Free-form"){document.getElementById("divFreeformPanels").style.display="";var u=document.getElementById("rdFreeformLayout");u!=null&&u.id.toLowerCase()=="rdhiddenrequestforwarding"&&(u=null),u==null&&(u=document.createElement("INPUT"),u.setAttribute("TYPE","HIDDEN"),u.setAttribute("ID","rdFreeformLayout"),u.setAttribute("NAME","rdFreeformLayout"),u.style.display="none",n.appendChild(u));return}var a=document.getElementById("divFreeformPanels");a&&(a.style.display="none");var u=document.getElementById("rdFreeformLayout");u&&u.parentNode.removeChild(u)},rdGetPanelInstanceId:function(e){return e.id.substr(e.id.lastIndexOf("_")+1)},rdRemoveDashboardParams:function(){var e=document.getElementById("rdDashboardParams");while(e)e.parentNode.removeChild(e),e=document.getElementById("rdDashboardParams")},rdMoveMobileDashboardPanel:function(e,t,n){ShowElement(this.id,n,"Toggle");var r=document.getElementById(e),i=r.nextSibling,s=i.nextSibling,o=null,u=null,a=null,f=null;r.previousSibling!=null&&r.previousSibling.previousSibling!=null&&r.previousSibling.previousSibling.previousSibling!=null&&(o=r.previousSibling.previousSibling.previousSibling),r.nextSibling!=null&&r.nextSibling.nextSibling!=null&&r.nextSibling.nextSibling.nextSibling!=null&&(u=r.nextSibling.nextSibling.nextSibling,a=u.nextSibling,f=a.nextSibling);switch(t){case"MoveUp":if(o!=null){s.parentNode.insertBefore(s,o),i.parentNode.insertBefore(i,s),r.parentNode.insertBefore(r,i),this.rdSaveDashboardOrder();break};case"MoveDown":if(u!=null){f.parentNode.insertBefore(f,r),a.parentNode.insertBefore(a,f),u.parentNode.insertBefore(u,a),this.rdSaveDashboardOrder();break};case"Edit":this.rdEditDashboardPanel(e);break;case"Remove":confirm("Are you sure?")&&this.rdRemoveDashboardPanel(e);break;default:this.rdMovePanelToTab(e,t,s)}},rdNavigateBetweenDashboardTabs:function(e,t){ShowElement(this.id,t,"Hide"),document.getElementById("rdActiveTabIndex_rdDashboardTabs").value="0",document.getElementById("rdActiveTabId_rdDashboardTabs").value=e;var n=document.getElementById("rdDashboardDefinition").value;SubmitForm("rdPage.aspx?rdReport="+n+"&rdRequestForwarding=Form","","false")},rdShowChangePanelMenu:function(e,t){ShowElement(this.id,e,"Toggle");try{var n=document.getElementById(e),r=document.getElementById(t),s=r.previousSibling,o=r.nextSibling.nextSibling.nextSibling;if(s.id.match("rdDashboardDropZone-0-0")){var u=n.getElementsByTagName("td");for(i=0;i<u.length;i++){var a=u[i];a.outerHTML.match("MoveUp")&&a.getAttribute("id")&&a.getAttribute("id").match("rdDataMenuTable_Row")&&(a.parentNode.style.display="none")}}else{var u=n.getElementsByTagName("td");for(i=0;i<u.length;i++){var a=u[i];a.outerHTML.match("MoveUp")&&a.getAttribute("id")&&a.getAttribute("id").match("rdDataMenuTable_Row")&&(a.parentNode.style.display="")}}if(!o){var u=n.getElementsByTagName("td");for(i=0;i<u.length;i++){var a=u[i];a.outerHTML.match("MoveDown")&&a.getAttribute("id")&&a.getAttribute("id").match("rdDataMenuTable_Row")&&(a.parentNode.style.display="none")}}else{var u=n.getElementsByTagName("td");for(i=0;i<u.length;i++){var a=u[i];a.outerHTML.match("MoveDown")&&a.getAttribute("id")&&a.getAttribute("id").match("rdDataMenuTable_Row")&&(a.parentNode.style.display="")}}}catch(f){}},rdSizeUnAdjustablePanels:function(e){var t=Y.Selector.query("."+e,Y.DOM.byId("rdDivDashboardpanels"));for(var n=0;n<t.length;n++){var r=t[n];FreeForm.initializePanel(Y.one(r),null);var i=Y.one("#"+r.id.replace("rdDashboardPanel-","rdDashboard2PanelContent_")).getDOMNode();i.style.overflow="visible",r.style.overflow="hidden"}},rdSetDashboardPanelOpacity:function(e,t){var n=Y.all(".rdDashboardPanel");for(var r=0;r<n.size();r++){var i=n.item(r);if(i.get("id")==e.get("id"))continue;i.setStyle("opacity",t)}},rdResizePanelContentOnEditCancelSave:function(e,t){if(document.getElementById("rdFreeformLayout")==null)return;var n=this,r=document.getElementById(t[0]),i=document.getElementById(t[1]),s=t[2],o=i.firstChild,u=o.firstChild.firstChild,a=u.offsetHeight,f=u.nextSibling,l=0;if(f.style.display=="none"){if(s=="Edit"){setTimeout(function(){n.rdResizePanelContentOnEditCancelSave(e,t)},10);return}}else if(s=="Save"||s=="Cancel"){setTimeout(function(){n.rdResizePanelContentOnEditCancelSave(e,t)},10);return}l=navigator.appVersion.match("MSIE 8.0")!=null?f.clientHeight:f.offsetHeight;var c=r.offsetHeight+a+l+12;i.style.height=(c<20?20:c)+"px",i.style.width=o.offsetWidth+"px",FreeForm.rdResizeDashboardContainer()},rdPreventDragFromRename:function(e){var t=document.getElementById(e);t&&(t.onmousedown=function(e){return e=e||window.event,e.cancelBubble=!0,!0})},rdGetDbPanelHeight:function(e){return e.offsetParent?this.rdGetDbPanelHeight(e.offsetParent)+e.offsetTop:e.offsetTop},rdSetAppletVisibility:function(e){var t=document.getElementsByTagName("applet");for(var n=0;n<t.length;n++){var r=t[n];r.style.visibility=e}t=document.getElementsByTagName("object");for(var n=0;n<t.length;n++){var r=t[n];r.style.visibility=e}t=document.getElementsByTagName("embed");for(var n=0;n<t.length;n++){var r=t[n];r.style.visibility=e}}},{NAME:"dashboard",ATTRS:{rdDropZoneId:{},bIsFreeformLayout:{value:!1},bIsTouchDevice:{value:LogiXML.features.touch},bDashboardAdjustable:{value:!0},zIndex:{value:0}},rdResetDashboardPanelAfterDDScroll:function(e,t){var n=Y.one(e);n.setXY(t)}})},"1.0.0",{requires:["dd-drop-plugin","dd-plugin","dd-scroll","dashboard-freeform"]});var sColorPicker="1",sPanelInstanceId="",elePanel=null,eleParamsPopup=null,bIsNgpViz=!1;YUI.add("dashboard-freeform",function(e){var t=e.namespace("LogiXML.Dashboard.FreeForm"),n="dashboardChart",r=function(t){return t=e.one(t),e.Lang.isValue(t)?o(t,"w"):NaN},i=function(t){return t=e.one(t),e.Lang.isValue(t)?o(t,"h"):NaN},s=function(e){var t;return window.getComputedStyle?t=window.getComputedStyle(e,null).getPropertyValue("display"):t=e.currentStyle.display,t=="inline"},o=function(e,t){return t=t.toLowerCase(),t==="w"||t==="width"?e.get("clientWidth")-parseInt(e.getComputedStyle("paddingLeft"),10)-parseInt(e.getComputedStyle("paddingRight"),10):t==="h"||t==="height"?e.get("clientHeight")-parseInt(e.getComputedStyle("paddingTop"),10)-parseInt(e.getComputedStyle("paddingBottom"),10):NaN};t.initializePanelResizer=function(n){var r=e.one(n),i=e.one("#rdResizerAttrs_"+r.get("id")),s,o;if(!e.Lang.isValue(i))return;o=r.all("img.dashboardChart,div.rdChartCanvas"),s=e.rdResize.AddYUIResizerHandles(r.get("id"),i),r.setData("resizer",s),t.initializePanel(r,s),t.addResizeEventHandlers(s,r,o.size()===1)},t.initializePanel=function(n,r){var i=n.all("img.dashboardChart,div.rdChartCanvas"),s=r||n.getData("resizer");i.size()!==1?t._initializeMultiContentPanel(n,i):t._initializeSingleChartPanel(n,i.item(0),s),i.each(function(r){LogiXML.Ajax.AjaxTarget().on("reinitialize",e.bind(t._reinitializeChart,this,"#"+r.get("id"),"#"+n.get("id")))},this);var o=n.one(".rdLogiVisualization logi-visualization,.rdLogiVisualization logi-crosstab-table");o&&t.resizeVisualizationToFitPanel(n,o)},t.bNeedsResizing=function(t,n){if(!t||!n||!e.one("#rdFreeformLayout"))return!1;if(t.hasClass("rdChartCanvas")&&!e.Lang.isValue(t.getData("rdChartCanvas")))return!0;var r=t.get("src");return r&&r.indexOf("rd1x1Trans.gif")!=-1?!0:!1},t._reinitializeChart=function(n,r){if(LogiXML.Dashboard.pageDashboard.refreshing||LogiXML.Dashboard.pageDashboard.get("bIsFreeformLayout")===!1)return LogiXML.Ajax.AjaxTarget().detach("reinitialize",arguments.callee);var i=e.one(n),s=e.one(r);if(!t.bNeedsResizing(i,s))return;t.resizeChartToFitPanel(s,i),typeof s.getData("resizer")!="undefined"&&s.getData("resizer").addTarget(i)},t._initializeChartImage=function(t,n,r){var i=t.get("src");i&&(i=i.replace("rdTemplate/rd1x1Trans.gif","rdTemplate/rdChart2.aspx"),e.Lang.isValue(n)&&e.Lang.isValue(r)&&(i=i+"&rdResizeWidth="+n+"&rdResizeHeight="+r),t.set("src",i))},t._isFirstPanelLoad=function(e){var t=e.getDOMNode().style;return t.width===""&&t.height===""},t._initializeSingleChartPanel=function(n,r,i){var s=t._isFirstPanelLoad(n);s?(r.once("load",function(){t.resizePanelBodytoFitPanel(n);var r=e.one("#rdResizerAttrs_"+n.get("id"));n.get("offsetWidth")<r.getAttribute("rdMinWidth")?n.setStyle("width",r.getAttribute("rdMinWidth")):n.setStyle("width",n.get("offsetWidth")),n.get("offsetHeight")<r.getAttribute("rdMinHeight")?n.setStyle("height",r.getAttribute("rdMinHeight")):n.setStyle("height",n.get("offsetHeight")),t.rdSaveFreeformLayoutPanelPosition("rdDivDashboardpanels")}),t._initializeChartImage(r),r.removeAttribute("width")):(t.resizePanelBodytoFitPanel(n),t.resizeChartToFitPanel(n,r),t.rdResizeDashboardContainer()),typeof i!="undefined"&&i.addTarget(r)},t._initializeMultiContentPanel=function(n,r){var i=t._isFirstPanelLoad(n);i||t.resizePanelBodytoFitPanel(n),r.each(function(r){i&&r.once("load",function(){var r=e.one("#rdResizerAttrs_"+n.get("id"));n.get("offsetWidth")<r.getAttribute("rdMinWidth")?n.setStyle("width",r.getAttribute("rdMinWidth")):n.setStyle("width",n.get("offsetWidth")),n.get("offsetHeight")<r.getAttribute("rdMinHeight")?n.setStyle("height",r.getAttribute("rdMinHeight")):n.setStyle("height",n.get("offsetHeight")),t.rdResizeDashboardContainer()}),t._initializeChartImage(r),r.removeAttribute("width")}),r.isEmpty()&&t.rdResizeDashboardContainer()},t.addResizeEventHandlers=function(e,n,r){e.on("resize:start",t.onPanelResizeStart,this,n,r,e),e.on("resize:resize",t.onPanelResize,this,n,r,e),e.on("resize:end",t.onPanelResizeEnd,this,n,r,e)},t.resizeChartToFitPanel=function(r,i){var o=e.one(i),u=e.one(r),a=u.one(".panelBody"),f,l,c;if((!o.hasClass(n)||o.get("tagName")!=="IMG")&&!o.hasClass("rdChartCanvas"))return;var h=u.all("img.dashboardChart,div.rdChartCanvas");f=u.get("children");var p=e.one("#rdDebugChart"),d=o.ancestor();if(h.size()==1){c=a.get("clientHeight"),l=a.get("clientWidth"),e.Lang.isValue(p)&&p.get("tagName")==="IMG"&&(c-=30);var v=[".rdBookmarkLinkbackContainer"],m;for(var g=0;g<v.length;g++){m=r.one(v[g]);if(m){var y=m.getDOMNode();if(s(y)){var b=y.getBoundingClientRect();c-=b.top-b.bottom}else c-=m.get("clientHeight")}}c<=5&&(c=5),l<=5&&(l=5),t.hideOrShoeChartCanvasTooltips(a,!1),i.set("width",l),i.set("height",c),i.set("offsetWidth",l),i.set("offsetHeight",c),d.hasClass("chartfx-wrapper")&&(d.set("offsetWidth",l),d.set("offsetHeight",c)),a.setStyle("overflow","scroll"),c-=a.get("scrollHeight")-a.get("clientHeight"),c<=5&&(c=5),i.set("height",c),i.set("offsetHeight",c),d.hasClass("chartfx-wrapper")&&d.set("offsetHeight",c),l-=a.get("scrollWidth")-a.get("clientWidth"),l<=5&&(l=5);if(!o.hasClass("rdChartCanvas")){i.set("width",l),i.set("offsetWidth",l),d.hasClass("chartfx-wrapper")&&d.set("offsetWidth",l);var w=i,E,S,x,T;E=i.get("src"),S=E.split("?"),x=S[1],T=e.QueryString.parse(x),T.hasOwnProperty("rdResizeWidth")?(T.rdResizeWidth=l,T.rdResizeHeight=c,E=S[0]+"?"+e.QueryString.stringify(T),i.set("src",E)):t._initializeChartImage(i,l,c)}else e.Lang.isValue(i.getData("rdChartCanvas"))?i.fire("setSize",{width:l,height:c,finished:!0,notify:!1}):(i.setAttribute("data-width",l),i.setAttribute("data-height",c));a.setStyle("overflow","hidden"),t.hideOrShoeChartCanvasTooltips(a,!0)}},t.resizeVisualizationToFitPanel=function(n,r){var i=e.one(r),s=e.one(n),o=s.one(".panelBody"),u,a,f=(n.get("id")||"").indexOf("NGPviz")>=0,l=s.one("#rdDebugChart");a=o.get("clientHeight"),u=o.get("clientWidth"),e.Lang.isValue(l)&&l.get("tagName")==="IMG"&&(a-=l.get("offsetWidth"));var c=[".rdDashboardFilterCaption",".rdDashboardGlobalFilterCaption",".rdDrillFilterCaption"],h;for(var p=0;p<c.length;p++)h=n.one(c[p]),h&&h.one("span").get("innerHTML")&&(a=a-h.get("offsetHeight")-2);a<=5&&(a=5),u<=5&&(u=5),t.hideOrShoeChartCanvasTooltips(o,!1),r.set("width",u),r.set("height",a),r.set("offsetWidth",u),r.set("offsetHeight",a),o.setStyle("overflow","scroll"),f||(a-=o.get("scrollHeight")-o.get("clientHeight")),a<=5&&(a=5),r.set("height",a),r.set("offsetHeight",a),f||(u-=o.get("scrollWidth")-o.get("clientWidth")),u<=5&&(u=5);if(r.get("tagName")==="LOGI-VISUALIZATION"||r.get("tagName")==="LOGI-CROSSTAB-TABLE"){e.LogiXML.rdLogiVisualization.resize(r,u,a,"px","px"),r.get("parentNode").setAttribute("data-skip-initial-resizing","true");if(f){r.get("parentNode").setStyle("width",u),r.get("parentNode").setStyle("height",a),r.get("parentNode").get("parentNode").setStyle("width",u),r.get("parentNode").get("parentNode").setStyle("height",a);var d=r.get("id");if(window.Logi&&window.Logi.Platform&&d){var v=window.Logi.Platform.select("#"+d);v&&v.setSize&&v.setSize(u,a)}}}o.setStyle("overflow","hidden"),t.hideOrShoeChartCanvasTooltips(o,!0)},t.hideOrShoeChartCanvasTooltips=function(e,t){if(!e)return;var n=e.all(".highcharts-tooltip"),r=0,i=n.size();for(r=0;r<i;r++)t?n.item(r).show():n.item(r).hide()},t.resizePanelBodytoFitPanel=function(t){var n=e.one(t),i=n.one(".panelBody"),s=i.ancestor("td"),o=i.ancestor("tr"),u=n.one(".panelInnerTable"),a=u.one(".panelTitle"),f=u.one(".rdDashboardParams"),l=document.getElementById("rdDashboardAdjustable").innerHTML=="False",c,h;if(e.Lang.isValue(n.getData("resizer"))||l){c=n.get("clientWidth")-(u.get("offsetWidth")-r(s)),i.set("offsetWidth",c),h=n.get("clientHeight")-parseInt(u.getComputedStyle("marginTop"),10)-parseInt(u.getComputedStyle("marginBottom"),10)-(a.getStyle("display")==="none"?0:a.get("offsetHeight"))-(f.getStyle("display")==="none"?0:f.get("offsetHeight"))-parseInt(o.getComputedStyle("paddingTop"),10)-parseInt(o.getComputedStyle("paddingBottom"),10)-parseInt(s.getComputedStyle("paddingTop"),10)-parseInt(s.getComputedStyle("paddingBottom"),10)-parseInt(i.getComputedStyle("marginBottom"),10);var p=[".rdDashboardFilterCaption",".rdDashboardGlobalFilterCaption",".rdDrillFilterCaption"],d;for(var v=0;v<p.length;v++)d=t.one(p[v]),d&&(h=h-d.get("clientHeight")-parseInt(d.getComputedStyle("paddingTop"),10)-parseInt(d.getComputedStyle("paddingBottom"),10));i.set("offsetHeight",h)}else n.setStyle("height","")},t.addPanelClickEvents=function(){var n=e.one("#rdDivDashboardpanels");e.Lang.isValue(n)&&n.delegate("click",t.onPanelClick,".rdDashboardPanel",this),LogiXML.Ajax&&LogiXML.Ajax.AjaxTarget&&LogiXML.Ajax.AjaxTarget().on("refreshed_rdDivDashboardpanels",t.addPanelClickEvents)},t.onPanelResizeStart=function(n,r,i){var s=e.one(r),o=s.all("img.dashboardChart,div.rdChartCanvas");o.size()==1?s.setData("oneChart",!0):s.setData("oneChart",!1);var u=r.ancestor("#rdDivDashboardpanels");t.freezeDashboardContainer(),t.showPanelonTop(r),r.setStyle("opacity",.75),r.setData("resizeCurrentWidth",r.get("offsetWidth")),r.setData("resizeCurrentHeight",r.get("offsetHeight"))},t.onPanelResize=function(n,r,i,s){var o=r.one("img.dashboardChart,div.rdChartCanvas"),u=r.one(".panelBody"),a=r.get("offsetWidth")-r.getData("resizeCurrentWidth"),f=r.get("offsetHeight")-r.getData("resizeCurrentHeight"),l=e.one(r);if(l.getData("oneChart")&&o){var c=o.ancestor(),h,p;if(o.hasClass("rdChartCanvas")){var d=o.one("*");d!=null?(h=d.get("offsetWidth")+a,p=d.get("offsetHeight")+f):(h=o.get("offsetWidth")+a,p=o.get("offsetHeight")+f)}else h=o.get("width")+a,p=o.get("height")+f;h<=5&&(h=5),p<=5&&(p=5),c.hasClass("chartfx-wrapper")&&(c.set("offsetWidth",h),c.set("offsetHeight",p)),o.set("offsetWidth",h),o.set("offsetHeight",p),o.hasClass("rdChartCanvas")&&o.fire("setSize",{width:h,height:p,finished:!1,notify:!1})}u.set("offsetWidth",u.get("offsetWidth")+a),u.set("offsetHeight",t.getPanelBodyAvailableHeight(r)),r.setData("resizeCurrentWidth",r.get("offsetWidth")),r.setData("resizeCurrentHeight",r.get("offsetHeight"))},t.onPanelResizeEnd=function(n,r,i,s){var o=r.ancestor("#rdDivDashboardpanels"),u,a,f,l,c,h=e.one(r);t.unFreezeDashboardContainer(),o.all(".rdDashboardPanel").setStyle("opacity",.92),t.rdSaveFreeformLayoutPanelPosition("rdDivDashboardpanels",!0,null,e.LogiInfo.Dashboard.prototype.rdGetPanelInstanceId(r.getDOMNode()));if(h.getData("oneChart"))u=r.one("img.dashboardChart,div.rdChartCanvas"),t.resizeChartToFitPanel(r,u);else{var p=h.one("logi-visualization,logi-crosstab-table");p&&t.resizeVisualizationToFitPanel(r,p)}},t.getPanelBodyAvailableHeight=function(e){var t=e.one(".panelBody"),n=t.ancestor("TR"),r=0,i=n._node.previousSibling;while(i)r+=i.offsetHeight,i=i.previousSibling;var s=20;return nAvailableHeight=e._node.offsetHeight-r-s,nAvailableHeight<0&&(nAvailableHeight=0),nAvailableHeight},t.onPanelClick=function(n){var r=n.currentTarget,i=e.one("#rdDivDashboardpanels");t.showPanelonTop(r),t.rdSaveFreeformLayoutPanelPosition(i.get("id"))},t.showPanelonTop=function(e){var t=e.ancestor(".dashboardPanelContainer"),n=t.all(".rdDashboardPanel"),r=parseInt(e.getStyle("zIndex"),10),i=0,s=0;n.each(function(e){var t=parseInt(e.getStyle("zIndex"),10);i<t?i=t:i==t&&(s+=1)},this),s>1&&(i+=1),r<i&&(r=i+1,e.setStyle("zIndex",r))},t.rdResizeDashboardContainer=function(){var t=e.one("#rdDivDashboardpanels"),n,r;if(t==null){t=e.one("#rdDivDashboardPanelTable");if(e.Lang.isNull(t))return}n=t.all(".rdDashboardPanel");var i=0,s=0;for(r=0;r<n.size();r++){var o=n.item(r),u=e.DOM.region(o.getDOMNode());r==0?(i=u.right,s=u.bottom):(u.right>i&&(i=u.right),u.bottom>s&&(s=u.bottom))}var a=e.DOM.region(t.getDOMNode());if(n.size()>0){var f=e.Selector.ancestor(n.item(0),".rdTabPanel",!1);e.Lang.isValue(document.getElementById("rdFreeformLayout"))&&(t.setStyle("height",s-a.top+20+"px"),i<e.DOM.viewportRegion().right?(t.setStyle("width",e.DOM.viewportRegion().right-a.left-20+"px"),f&&f.setStyle("width",e.DOM.viewportRegion().right-a.left-20+"px"),e.Lang.isNull(e.one("#divMainContent"))||e.one("#divMainContent").setStyle("width",e.DOM.viewportRegion().right-a.left-20+"px")):(t.setStyle("width",i+"px"),f&&f.setStyle("width",i+10+"px"),e.Lang.isNull(e.one("#divMainContent"))||e.one("#divMainContent").setStyle("width",i+"px")))}else t.setStyle("width","100%"),t.setStyle("height","")},t.rdSaveFreeformLayoutPanelPosition=function(n,r,i,s){t.rdResizeDashboardContainer();var o=e.one("#"+n);if(!e.Lang.isValue(o))return;var u=e.one("#rdDashboardPanelOrder"),a=o.all(".rdDashboardPanel"),f=a.size(),l,c,h="";for(l=0;l<f;l++){c=a.item(l);var p=e.LogiInfo.Dashboard.prototype.rdGetPanelInstanceId(c.getDOMNode());h+=","+p,h+=":0:STYLE=",h+="z-index:"+c.getComputedStyle("zIndex")+";",h+=" position: "+c.getComputedStyle("position")+";",h+=" left: "+t.rdRoundTo10(c.getComputedStyle("left"))+";",h+=" top: "+t.rdRoundTo10(c.getComputedStyle("top"))+";",r&&(s==null||s==p)&&(h+=" width: "+t.rdRoundTo10(c.getComputedStyle("width"))+";",h+=" height: "+t.rdRoundTo10(parseInt(c.getComputedStyle("height"),10))+"px"+";")}u.set("value",h);var d="&rdReport="+document.getElementById("rdDashboardDefinition").value;d+="&rdFreeformLayout=True";var v=e.Selector.ancestor(o,".rdTabPanel");v&&(v.parentNode.setStyle("overflow","hidden"),d+="&rdDashboardTabID="+v.get("id").substring(v.get("id").lastIndexOf("_")+1));var m=e.DOM.region(o.getDOMNode()),g="Width:"+(m.right-m.left)+"px";g+=";Height:"+(m.bottom-m.top)+"px",d+="&rdDashboardTabStyle="+g;if(i||r)d+="&rdClearAutoPosition=True";window.status="Saving dashboard panel positions.",rdAjaxRequestWithFormVars("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=UpdateDashboardPanelOrder"+d)},t.rdRoundTo10=function(e){var t=!1;return typeof e.replace!="undefined"&&e.indexOf("px")!=-1&&(t=!0,e=e.replace("px","")),e=parseInt(e/10)*10,t&&(e+="px"),e},t.freezeDashboardContainer=function(){var t=e.one("#rdDivDashboardpanels"),n=t.getDOMNode().clientWidth,r=t.getDOMNode().clientHeight;t.setStyle("position","absolute"),t.ancestor("div").setStyles({width:n,height:r})},t.unFreezeDashboardContainer=function(){var t=e.one("#rdDivDashboardpanels");t.ancestor("div").setStyles({width:"",height:""}),t.setStyle("position","relative")},t.panelFitToChart=function(){var n=e.all("div.rdDashboardPanel");n.each(function(e){var n=e.one("div.panelBody"),r=n.all("div.rdLogiVisualization");if(r.size()!==1){var i=0;r.each(function(e){i+=parseInt(e.get("clientHeight"))}),i>0&&(n.setStyle("height",i),t.resizePanelBodytoFitPanel(e))}else{var s=e.one("logi-visualization,logi-crosstab-table");s&&s.get("parentNode").getAttribute("data-skip-initial-resizing")!="true"&&t.resizeVisualizationToFitPanel(e,s)}}),t.rdResizeDashboardContainer()},LogiXML.Dashboard.FreeForm=t},"1.0.0",{requires:["node-base","rdResize","querystring","dd-constrain","dd-proxy","dd-drop-plugin","dd-plugin","dd-scroll"]});

/* 
* rdAnalysisGrid/rdAg10Script.js 
*/
function rdAgSwapFilterMode(){document.getElementById("rdAfMode_rdAgAnalysisFilter").value=="Design"?rdAfSetMode("rdAgAnalysisFilter","Simple"):rdAfSetMode("rdAgAnalysisFilter","Design")}function GetColorPicker(e,t){sColorPicker=e}function PickGaugeGoalColor(e){var t=Y.Color.toHex(Y.one("#"+LogiXML.escapeSelector(e.id)).getComputedStyle("backgroundColor")),n=document.getElementById("rdAgGaugeGoalsColor"+sColorPicker);n.value=t;var r=document.getElementById("rectColor"+sColorPicker);r.style.backgroundColor=t,ShowElement(this.id,"ppColors","Hide")}function rdchangeList(e,t,n,r,i,s){var o=document.getElementById(e),u;o.selectedIndex!=-1&&(u=o.options[o.selectedIndex].text),rdemptyList(e),rdfillList(e,t,n,r,u,i,s)}function rdemptyList(e){var t=document.getElementById(e);while(t.options.length)t.options[0]=null;for(var n=0;n<t.childNodes.length;n++)if(t.childNodes[n].nodeName=="optgroup"||t.childNodes[n].nodeName=="OPTGROUP")t.childNodes[n].parentNode.removeChild(t.childNodes[n]),n-=1}function rdfillList(e,t,n,r,i,s,o){if(!r||r=="")return;var u=document.getElementById("rdAgAggrFunctionList"),a;if(u.value!=""){var f=u.value;a=f.split("|")}r.toLowerCase()=="boolean"?(t=["COUNT","DISTINCTCOUNT"],n=["Count","Distinct Count"],a.length>0&&(n=[a[3],a[4]])):r.toLowerCase()=="text"||r.toLowerCase()=="date"||r.toLowerCase()=="datetime"?(t=["COUNT","DISTINCTCOUNT","MIN","MAX"],n=["Count","Distinct Count","Minimum","Maximum"],a.length>0&&(n=[a[3],a[4],a[5],a[6]])):(t=["SUM","AVERAGE","STDEV","COUNT","DISTINCTCOUNT","MIN","MAX"],n=["Sum","Average","Standard Deviation","Count","Distinct Count","Minimum","Maximum"],a.length>0&&(n=a));if(rdAgIsActiveSQL()){var l=document.getElementById("rdAgAggrColumn");if(l&&l.selectedIndex>=0){var c=rdAgGetCustomAggregates(l.options[l.selectedIndex].value,r);for(var h=0;h<c.length;h++){var p=c[h];t.indexOf(p.id)<0&&(t.push(p.id),n.push(p.name))}t.indexOf("Custom")<0&&(t.push("Custom"),n.push(rdAgCustAggShowPopupCaption()))}}var d=document.getElementById(e),v=t,m=n,g=null;for(h=0;h<v.length;h++){if(s[h]!=""&&s[h]){if(g==null||g.getAttribute("Label")!=s[h]){var g=document.createElement("optgroup");g.setAttribute("Label",s[h]),g.setAttribute("Class",o[h]),d.appendChild(g)}option=new Option(m[h],v[h]),option.innerHTML==""&&(option.innerHTML=m[h]),g.appendChild(option)}else option=new Option(m[h],v[h]),d.options[d.length]=option;m[h]==i&&(d.selectedIndex=h)}}function rdGetFormulaSelection(){return _rdGetFormulaSelection(document.rdForm.rdAgCalcFormula)}function rdGetCustAggFormulaSelection(){return _rdGetFormulaSelection(document.rdForm.rdAgCustAggFormula)}function _rdGetFormulaSelection(e){if(document.selection){e.focus();var t=document.selection.createRange(),n=t.text.length;t.moveStart("character",-e.value.length);var r=t.text.length-n;return{start:r,end:r+n}}return e.selectionStart||e.selectionStart=="0"?{start:e.selectionStart,end:e.selectionEnd}:{start:0,end:0}}function rdSetFormulaSelection(e,t,n){if(n.setSelectionRange)n.focus(),n.setSelectionRange(e,t);else if(n.createTextRange){var r=n.createTextRange();r.collapse(!0),r.moveEnd("character",t),r.moveStart("character",e),r.select()}}function rdInsertIntoFormula(e){return _rdInsertIntoFormula(e,rdFormulaTextSelection,document.rdForm.rdAgCalcFormula)}function rdInsertIntoCustAggFormula(e){return _rdInsertIntoFormula(e,rdCustAggFormulaTextSelection,document.rdForm.rdAgCustAggFormula)}function _rdInsertIntoFormula(e,t,n){var r=e.value;e.selectedIndex=0;var i=n.value;t&&t.end<=i.length?(i=i.substring(0,t.start)+r+i.substring(t.end),n.value=i,rdSetFormulaSelection(t.start+r.length,t.start+r.length,n)):(n.value+=r,rdSetFormulaSelection(n.value.length,n.value.length,n))}function rdAgGetAggregateColumnID(e,t){var n=document.getElementById("rdAgActiveAggregates");if(!n||!n.value)return!1;var r=0,i=n.value,s=LogiXML.getUrlParameter(i,"AggrColumn_"+r);while(s){if(s==e){var o=LogiXML.getUrlParameter(i,"AggrFunction_"+r);if(o==t)return LogiXML.getUrlParameter(i,"AggrColumnID_"+r)}r++,s=LogiXML.getUrlParameter(i,"AggrColumn_"+r)}return!1}function rdAgGetActiveAggregates(){var e=document.getElementById("rdAgActiveAggregates");if(!e||!e.value)return[];var t=0,n=e.value,r=[],i=LogiXML.getUrlParameter(n,"AggrColumn_"+t);while(i)r.push({dataColumn:i,func:LogiXML.getUrlParameter(n,"AggrFunction_"+t),aggrID:LogiXML.getUrlParameter(n,"AggrColumnID_"+t),agColID:LogiXML.getUrlParameter(n,"agColID_"+t)}),t++,i=LogiXML.getUrlParameter(n,"AggrColumn_"+t);return r}function rdAgIsActiveSQL(){var e=document.getElementById("rdAgActiveSQL");return!e||!e.value?!1:e.value=="True"}function rdAgCustAggClose(){if(!rdAgCustAggRefresh)return;var e=null,t=document.getElementById("rdAgWaitPage");t&&t.value&&(e=JSON.parse(t.value));var n="rdPage.aspx?rdReport="+encodeURIComponent(document.getElementById("rdAgReportId").value)+"&rdAgCommandID="+LogiXML.getGuid()+"&rdRequestForwarding=Form"+"&rdSubmitScroll";SubmitForm(n,"",!1,!1,!1,e)}function rdAgCustAggHookClose(e){var t=document.getElementById("rdPopupPanelTitle_rdAgCustAggPopup").getElementsByTagName("A")[0];rdAgCustAggListener&&LogiXML.removeListener(rdAgCustAggListener),rdAgCustAggListener=LogiXML.addListener(t,"click",rdAgCustAggClose),e&&(rdAgCustAggRefresh=!0)}function rdAgRestoreCustomAggregate(e,t){document.rdForm.rdAgCustAggName.value=document.getElementById("lblCustAggName_Row"+e).innerText,document.rdForm.rdAgCustAggFormula.value=document.getElementById("lblCustAggFormula_Row"+e).innerText,document.rdForm.rdAgCustAggFormats.value=t;var n=document.getElementById("rdAgCustAggDataTypes").getElementsByTagName("INPUT"),r=document.getElementById("lblCustAggDataTypes_Row"+e).innerText.replace(/ /g,"").split(","),i=!1,s=document.getElementById("rdAgCustAggDataTypes_check_all");for(var o=0;o<n.length;o++){var u=n[o];if(u===s)continue;var a=u.value;u.checked=!!a&&r.indexOf(a)>=0,!i&&!u.checked&&(i=!0)}s.checked=!i}function rdAgShowCustomAggregatePopup(e){return e.options[e.selectedIndex].value=="Custom"?(e.selectedIndex=0,rdAgSetCustAggColumnContext(),rdAgCustAggHookClose(),!0):!1}function rdAgSetCustAggColumnContext(){var e=document.getElementById("rdAgAggrColumn");if(!e||e.selectedIndex<0)return;var t=document.getElementById("rdPopupPanelTitle_rdAgCustAggPopup");if(!t)return;var n=t.getElementsByClassName("rdPopupPanelTitleCaption");if(!n||!n.length)return;var r=e.selectedIndex==0,i=e.options[e.selectedIndex],s=i.innerText,o=i.value,u=i.parentElement.getAttribute("label"),a=document.getElementById("rdAgCustAggDataColumns");n=n[0],n.multiColumnTitle||(n.multiColumnTitle=n.innerText.trim());var f=document.getElementById("dtCustAggs");ShowElement(null,"divCustAggError-NoDataTypeSelected","Hide");var l=function(e){var t=e=="Show"?"Hide":"Show";ShowElement(null,"rdAgCustAggDataTypesFieldBox",e),ShowElement(null,"rdAgCustAggDataTypesLabel",e),ShowElement(null,"colCustAggDataTypes-TH",e),ShowElement(null,"rdAgCreateAndAdd",t),ShowElement(null,"rdAgCreateAndAddLabel",t),ShowElement(null,"colCustAggAdded-TH",t);for(var n=0;n<f.rows.length;n++){var r=f.rows[n],i=r.getAttribute("row");ShowElement(null,"colCustAggDataTypes_Row"+i,e),ShowElement(null,"colCustAggAdded_Row"+i,t)}},c=LogiXML.AnalysisGrid.CURRENT_COLUMN_TOKEN;if(r){n.innerText=n.multiColumnTitle,l("Show");if(a.options[1].value!=c){c;var h=new Option(document.getElementById("rdAgCurrentColumnText").innerText,c,!1);a.options.length<2?a.appendChild(h):a.insertBefore(h,a.options[0].nextSibling)}}else n.innerText=document.getElementById("rdAgOneColCustAggTitle").innerText.replace("{0}",s),l("Hide"),a.options[1].value==c&&a.remove(1);var p=0;for(var d=1;d<f.rows.length;d++){var v=f.rows[d],m=v.cells[0].id,g=m.lastIndexOf("_Row"),y="rdAgCustAggColumnHidden"+m.substr(g);document.getElementById(y).value!=o?v.style.display!="none"&&(v.shownDisplay=v.style.display,v.style.display="none"):(p++,v.style.display=="none"&&(v.style.display=v.shownDisplay))}var b=document.getElementById("rdAgDivCustAggList");p?b.style.display=="none"&&(b.style.display=b.shownDisplay):b.style.display!="none"&&(b.shownDisplay=b.style.display,b.style.display="none");var w=document.getElementById("rdAgCustAggFormula");w||reutrn;var E=document.getElementById("rdAgCustAggDataColumns");if(!E)return;var S=document.getElementById("rdAgCustAggDefaults");if(!w.value){var x=null,T=null;if(r)x="COUNT("+c+")";else{var d=0;for(;d<E.options.length;d++){var N=E.options[d];if(N.parentElement.getAttribute("label")==u&&N.text==s){if(S){var C;for(var k=0;k<S.options.length;k++){C=S.options[k];if(C.value==N.value)break;C=null}if(C){T=C.text;break}}x="SUM("+N.value+")";break}}}if(T)x=T;else{d=1;var L="_Row"+d,A=document.getElementById("rdAgCalcColumnID"+L);while(A){if(A.value==o){x="SUM("+document.getElementById("lblCalcColumnFormula"+L).innerText+")";break}d++,L="_Row"+d,A=document.getElementById("rdAgCalcColumnID"+L)}}w.value=x}}function rdAgGetCustomAggregates(e,t){var n=document.getElementById("dtCustAggs"),r=[],i=LogiXML.AnalysisGrid.CURRENT_COLUMN_TOKEN;for(var s=1;s<n.rows.length;s++){var o=n.rows[s].cells[0].id,u=o.lastIndexOf("_Row"),a=o.substr(u),f="rdAgCustAggColumnHidden"+a,l=document.getElementById(f).value;if(l!=e){if(l!=i)continue;if(!t)continue;var c="lblCustAggDataTypes"+a,h=document.getElementById(c);if(!h)continue;if(h.innerText.replace(/ /g,"").split(",").indexOf(t)<0)continue}f="rdAgCustAggIdHidden"+a,r.push({id:document.getElementById(f).value,name:document.getElementById("lblCustAggName"+a).innerText})}return r}function rdAgCustAggCustomHeaderClick(e){var t=document.getElementById("rdAgAggrColumn");t.selectedIndex=e,LogiXML.AnalysisGrid.rdChangeAggregateOptions();var n=document.getElementById("rdAgAggrFunction");n.selectedIndex=n.options.length-1,rdAgShowCustomAggregatePopup(n)&&ShowElement(null,"rdAgCustAggPopup","Show")}function rdAgAddCustomAggregatesToHeaders(){if(!rdAgIsActiveSQL())return;var e=document.getElementById("dtAnalysisGrid");if(!e)return;var t=e.getElementsByTagName("TH");if(!t||!t.length)return;var n=document.getElementById("rdAgBtnCustAggHidden");if(!n||!n.parentElement||!n.parentElement.nextSibling)return;var r=n.parentElement.nextSibling.getElementsByTagName("LI");if(!r||r.length!=2)return;var i=rdAgGetActiveAggregates(),s="_Row1";for(var o=0;o<t.length;o++){var u=t[o],a=document.getElementById(u.id.substr(0,u.id.length-3)+"_DataColumn"+s);if(!a||!a.value)continue;var f=u.getElementsByClassName("rdPopupMenu"),l=null;for(var c=0;c<f.length;c++){if(f[c].id.indexOf("Aggregate")<0)continue;l=f[c];break}if(!l)continue;var h=l.getElementsByClassName("rdThemePopupMenu");if(!h||!h.length)continue;h=h[0];var p,d,v=a.value,m=LogiXML.AnalysisGrid.rdAgGetColumnDataType(v),g=rdAgGetCustomAggregates(v,m);if(g)for(var c=0;c<g.length;c++){var y=g[c],b=document.createElement("SPAN"),w=null;for(var E=0;E<i.length;E++){w=i[E];if(w.func==y.id&&w.dataColumn==v)break;w=null}w?(p=r[1].cloneNode(!0),d=p.childNodes[0],d.setAttribute("onclick",d.getAttribute("onclick").replace("rdAgAggrRemoveColumn=ReplaceThis","rdAgAggrRemoveColumn="+encodeURIComponent(w.aggrID))),d.id="ppo_Remove"+y.id+"_rdPopupOptionItem"+s,b.id="rdAgHdnAggrRemove_"+v+"_"+y.id+s,d.childNodes[0].innerText="Remove "+y.name):(p=r[0].cloneNode(!0),d=p.childNodes[0],d.setAttribute("onclick",d.getAttribute("onclick").replace("rdAgAggrFunction=ReplaceThis","rdAgAggrFunction="+encodeURIComponent(y.id)).replace("rdAgAggrColumn=ReplaceThis","rdAgAggrColumn="+encodeURIComponent(v))),d.id="ppo_Add"+y.id+"_rdPopupOptionItem"+s,b.id="rdAgHdnAggrAdd_"+v+"_"+y.id+s,d.childNodes[0].innerText=y.name),d.appendChild(b),h.appendChild(p)}var S=document.getElementById("rdAgAggrColumn");if(S){var x=-1;for(var c=0;c<S.options.length;c++)if(S.options[c].value==v){x=c;break}x>=0&&(p=r[0].cloneNode(!0),d=p.childNodes[0],d.id=LogiXML.getGuid(),d.setAttribute("onclick","rdAgCustAggCustomHeaderClick("+x+");"),d.childNodes[0].innerText=rdAgCustAggShowPopupCaption(),h.appendChild(p))}}}function rdAgCustAggShowPopupCaption(){return document.getElementById("rdAgCustAggShowPopupCaption").innerText}function rdAgCustAggPreAdd(e){var t=e;while(e&&e.getAttribute("rdPopupPanel")!="True")e=e.parentNode;if(!e)return!1;var n=document.getElementById("rdAgCustAggDataTypesFieldBox");if(n&&n.style.display!="none"){var r=!1,i=n.getElementsByTagName("input");for(var s=0;s<i.length;s++){var o=i[s];if(o.type.toLowerCase()=="checkbox"&&o.checked){r=!0;break}}if(!r)return ShowElement(null,"divCustAggError-NoDataTypeSelected","Show"),t.blur(),!1}var u={id:e.id,left:e.style.left,top:e.style.top},a=function(){var e=document.getElementById(this.id);if(!e)return;e.style.left=this.left,e.style.top=this.top,ShowElement(null,this.id,"Show"),e.style.left=this.left,e.style.top=this.top,LogiXML.Ajax.AjaxTarget().detach("refreshed_"+this.id,arguments.callee)}.bind(u);return LogiXML.Ajax.AjaxTarget().on("refreshed_"+u.id,a),!0}function rdAgCustAggPopup_AfterRefresh(){rdAgSetCustAggColumnContext(),ShowElement(null,"rdAgCustAggPopup","Show"),rdAgCustAggHookClose(!0)}function rdAgGetFormats(){if(rdAgFormats==null){rdAgFormats=[];var e=document.getElementById("rdAgCalcFormats");if(e)for(var t=0;t<e.options.length;t++){var n=e.options[t];rdAgFormats.push({value:n.value,html:n.outerHTML})}}return rdAgFormats}function rdAgFilterDataTypeChanged(e){if(!e){e=document.getElementById("rdAgCalcDataTypes");if(!e)return}var t=document.getElementById("rdAgCalcFormats");if(!t)return;var n=rdAgGetFormats();if(!n||!n.length)return;var r="",i=t.value,s=-1,o=0;switch(e.value){case"Number":for(var u=0;u<n.length;u++){var a=n[u];if(!a.value||a.value.indexOf("/")<0)r+=a.html,a.value==i&&(s=o),o++}break;case"Text":for(var u=0;u<n.length;u++){var a=n[u];a.value||(r+=a.html,a.value==i&&(s=o),o++)}break;case"Date":for(var u=0;u<n.length;u++){var a=n[u];if(!a.value||a.value.indexOf("MM/")>=0&&a.value.indexOf(":")<0)r+=a.html,a.value==i&&(s=o),o++}break;case"DateTime":for(var u=0;u<n.length;u++){var a=n[u];if(!a.value||a.value.indexOf("MM/")>=0)r+=a.html,a.value==i&&(s=o),o++}break;case"Boolean":for(var u=0;u<n.length;u++){var a=n[u];if(!a.value||a.value.indexOf("True")>=0)r+=a.html,a.value==i&&(s=o),o++}}t.innerHTML=r,t.selectedIndex=s}YUI.add("analysis-grid",function(Y){Y.namespace("LogiInfo").AnalysisGrid=Y.Base.create("AnalysisGrid",Y.Base,[],{initializer:function(){!Y.Lang.isValue(Y.one("hideAgMenu"))&&Y.Lang.isValue(document.getElementById("rdAgCurrentOpenPanel"))&&(location.href.indexOf("AcChartAdd")>-1||location.href.indexOf("AxAdd")>-1?this.rdAgShowMenuTab("",!0):this.rdAgShowMenuTab(document.getElementById("rdAgCurrentOpenPanel").value,!0)),!Y.Lang.isValue(Y.one("hideAgMenu"))&&Y.Lang.isValue(document.getElementById("rdAgCurrentOpenTablePanel"))&&this.rdAgShowTableMenuTab(document.getElementById("rdAgCurrentOpenTablePanel").value,!0);var e=Y.one("#rdChartError");Y.Lang.isValue(e)&&this.rdAgShowChartAdd(e.get("value")),Y.Lang.isValue(Y.one("#rdAgDraggablePanels"))&&this.rdInitDraggableAgPanels(),document.getElementById("rdAgCurrentOpenTablePanel")&&document.getElementById("rdAgCurrentOpenTablePanel").value==""&&window.location.search.indexOf("rdAgCurrentOpenTablePanel=None")==-1&&this.rdAgShowTableMenuTab("Layout"),document.getElementById("rdAllowChartBasedOnCurrentColumns")&&document.getElementById("rdAllowChartBasedOnCurrentColumns").value=="False"&&this.rdSetPanelDisabledClass("Chart"),document.getElementById("rdAllowCrosstabBasedOnCurrentColumns")&&document.getElementById("rdAllowCrosstabBasedOnCurrentColumns").value=="False"&&this.rdSetPanelDisabledClass("Crosstab"),rdSetUndoRedoVisibility(),setTimeout(rdAgAddCustomAggregatesToHeaders,10)},CURRENT_COLUMN_TOKEN:"@CurrentColumn",btnAddAggregate_Click:function(){var ddlFunc=document.getElementById("rdAgAggrFunction"),ddlColumn=document.getElementById("rdAgAggrColumn"),sFunction=ddlFunc.options[ddlFunc.selectedIndex].value,sColumn=ddlColumn.options[ddlColumn.selectedIndex].value,hdn=Y.one("[id^=rdAgHdnAggrAdd_"+sColumn+"_"+sFunction+"_Row]");if(!hdn)return!1;var a=hdn._node.parentNode,script=LogiXML.getScriptFromLink(a);return script&&eval(script),!1},btnEditAggregate_Click:function(e){var t=e.parentNode,n=t.getElementsByTagName("INPUT"),r=null,i=null;for(var s=0;s<n.length;s++){var o=n[s];o.id.indexOf("rdAgActiveAggrColumn")==0?r=o.value:o.id.indexOf("rdAgActiveAggrFunction")==0&&(i=o.value)}if(!r||!i)return;var u=document.getElementById("rdAgAggrColumn");u.value=r,LogiXML.AnalysisGrid.rdChangeAggregateOptions();var a=document.getElementById("rdAgAggrFunction");a.value=i;if(i.indexOf("rdAgCustAgg_")==0){var f=document.getElementById("dtCustAggs");n=f.getElementsByTagName("INPUT");for(var s=0;s<n.length;s++){var o=n[s];if(o.id.indexOf("rdAgCustAggIdHidden_")==0&&o.value==i){var l=o.id.substr(19);document.rdForm.rdAgCustAggName.value=document.getElementById("lblCustAggName"+l).innerText,document.rdForm.rdAgCustAggFormula.value=document.getElementById("lblCustAggFormula"+l).innerText,document.rdForm.rdAgCustAggFormats.value="",rdAgSetCustAggColumnContext(),ShowElement(a.id,"rdAgCustAggPopup","","");break}}}},btnReplaceAggregate_Click:function(rdAgAggrRemoveColumn){var ddlFunc=document.getElementById("rdAgAggrFunction"),ddlColumn=document.getElementById("rdAgAggrColumn"),sFunction=ddlFunc.options[ddlFunc.selectedIndex].value,sColumn=ddlColumn.options[ddlColumn.selectedIndex].value,hdn=Y.one("[id^=rdAgHdnAggrAdd_"+sColumn+"_"+sFunction+"_Row]");if(!hdn)return!1;var a=hdn._node.parentNode,script=LogiXML.getScriptFromLink(a);if(script){if(script.indexOf("'rdAgAggrRemoveColumn'")<0){var i1=script.indexOf("'"),i2=script.indexOf("'",i1+1),scriptStart=script.substr(0,i1+1),href=script.substring(i1+1,i2),scriptEnd=script.substr(i2);href=LogiXML.setUrlParameter(href,"rdAgAggrRemoveColumn",rdAgAggrRemoveColumn),href=LogiXML.setUrlParameter(href,"rdAgCommand","AggrReplace"),script=scriptStart+href+scriptEnd}else script=script.replace("'rdAgAggrRemoveColumn'","'"+rdAgAggrRemoveColumn+"'");script&&eval(script)}return!1},rdAgCustAggContext:null,rdAgShowMenuTab:function(e,t,n,r){var i=!1,s=document.getElementById("rdStartTable"),o=document.getElementById("rdAgDataColumnDetails");o.value==""&&(e="QueryBuilder",i=!0);var u=!0;if(e.length==0)u=!1;else{var a=document.getElementById("col"+e),f=document.getElementById("row"+e);a&&a.className.indexOf("rdAgSelectedTab")!=-1&&a.selectionInitialized&&(u=!1),t&&location.href.indexOf("rdAgLoadSaved")!=-1&&(u=!1)}i&&(u=!0),r&&r==1&&(u=!0);var l=!1;document.getElementById("rdAgCurrentOpenPanel").value==e&&(l=!0),document.getElementById("rdAgCurrentOpenPanel").value="";if(document.getElementById("colQueryBuilder")){if(!u||e!="QueryBuilder")this.rdSetClassNameById("colQueryBuilder","rdAgUnselectedTab"),this.rdSetDisplayById("rowQueryBuilder","none");document.getElementById("colQueryBuilder").selectionInitialized=!0}if(document.getElementById("colCalc")){if(!u||e!="Calc")this.rdSetClassNameById("colCalc","rdAgUnselectedTab"),this.rdSetDisplayById("rowCalc","none");document.getElementById("colCalc").selectionInitialized=!0}if(document.getElementById("colFilter")){if(!u||e!="Filter")this.rdSetClassNameById("colFilter","rdAgUnselectedTab"),this.rdSetDisplayById("rowFilter","none");document.getElementById("colFilter").selectionInitialized=!0}u&&(document.getElementById("rdAgCurrentOpenPanel").value=e,a&&(a.className="rdAgSelectedTab"),f&&(f.style.display=""),!t&&f&&f.firstChild&&!l&&rdFadeElementIn(f.firstChild,400)),this.rdSetMenuClasses(i);var c=0,h="";while(document.getElementById("iclQbColumns"+c)!=null){var p=rdGetInputValues(document.getElementById("iclQbColumns"+c));p=decodeURIComponent(p.substring(p.lastIndexOf("=")+1)),h+=p,c+=1}h==""&&c>0&&this.rdSetMenuClasses(!0),typeof window.rdRepositionSliders!="undefined"&&rdRepositionSliders(),e=="Filter"&&typeof n!="undefined"&&(Y.one("#rdAfFilterColumnID_rdAgAnalysisFilter").get("options").each(function(){var e=this.get("value");e==n&&this.set("selected",!0)}),document.getElementById("rdAfMode_rdAgAnalysisFilter").value=="Design"?rdAfUpdateEditControls("rdAgAnalysisFilter"):(document.getElementById("rdAfMode_rdAgAnalysisFilter").value="Design",rdAfUpdateUi(!0,"rdAgAnalysisFilter","Design")),Y.one("#rowsAnalysisGrid").scrollIntoView()),rdResizeCurrentIFrame()},rdSetMenuClasses:function(e){this.rdSetPanelModifiedClass("QueryBuilder"),this.rdSetPanelModifiedClass("Calc"),this.rdSetPanelModifiedClass("Filter"),this.rdSetPanelModifiedClass("TableEdit"),e&&(this.rdSetPanelDisabledClass("Calc"),this.rdSetPanelDisabledClass("Filter"),this.rdSetPanelDisabledClass("TableEdit"),this.rdSetPanelDisabledClass("Chart"),this.rdSetPanelDisabledClass("Crosstab"))},rdAgToggleTablePanel:function(e){var t=rdGetCookie("rdPanelExpanded_Table");e||(t!="True"?(t="True",rdSetCookie("rdPanelExpanded_Table","True")):(t="False",rdSetCookie("rdPanelExpanded_Table","False")));if(t!="False"){var n=document.getElementById("divPanelClosed_Table");n&&(n.style.display="none");var r=document.getElementById("divPanelOpen_Table");r&&(r.style.display="");var i=document.getElementById("rowContentTable");i&&(i.style.display="");var s=document.getElementById("rowsTableMenuOptions");s&&(s.style.display="");var o=document.getElementById("rowTableControls");o&&(o.style.display="");var u=document.getElementById("colAddToDashboardDataTable");u&&(u.style.display="");var a=document.getElementById("colTableMenu");a&&(a.style.display="");var f=document.getElementById("colTableExportControls");f&&(f.style.display="");var f=document.getElementById("colAddToDashboardDataTable");f&&(f.style.display="")}else{var n=document.getElementById("divPanelClosed_Table");n&&(n.style.display="");var r=document.getElementById("divPanelOpen_Table");r&&(r.style.display="none");var i=document.getElementById("rowContentTable");i&&(i.style.display="none");var s=document.getElementById("rowsTableMenuOptions");s&&(s.style.display="none");var o=document.getElementById("rowTableControls");o&&(o.style.display="none");var u=document.getElementById("colAddToDashboardDataTable");u&&(u.style.display="none");var l=document.getElementById("colTableMenu");l&&(l.style.display="none");var f=document.getElementById("colTableExportControls");f&&(f.style.display="none")}typeof window.rdRepositionSliders!="undefined"&&rdRepositionSliders(),e||this.rdSavePanelState("Table",t)},rdAgToggleCrosstabPanel:function(e,t){var n=rdGetCookie("rdPanelExpanded_"+e);t||(n!="True"?(n="True",rdSetCookie("rdPanelExpanded_"+e,"True")):(n="False",rdSetCookie("rdPanelExpanded_"+e,"False")));if(n=="True"){var r=document.getElementById("divPanelClosed_"+e);r&&(r.style.display="none");var i=document.getElementById("divPanelOpen_"+e);i&&(i.style.display="");var s=document.getElementById("rowContentAnalCrosstab_"+e);s&&(s.style.display="");var o=document.getElementById("colAnalCrosstabAddDashboard_"+e);o&&(o.style.display="");var u=document.getElementById("colCrosstabExportControls_"+e);u&&(u.style.display="");var a=document.getElementById("colAxEdit_"+e);a&&(a.style.display="")}else{var r=document.getElementById("divPanelClosed_"+e);r&&(r.style.display="");var i=document.getElementById("divPanelOpen_"+e);i&&(i.style.display="none");var s=document.getElementById("rowContentAnalCrosstab_"+e);s&&(s.style.display="none");var o=document.getElementById("colAnalCrosstabAddDashboard_"+e);o&&(o.style.display="none");var u=document.getElementById("colCrosstabExportControls_"+e);u&&(u.style.display="none");var a=document.getElementById("colAxEdit_"+e);a&&(a.style.display="none")}if(!document.getElementById("cellAxCrosstab_"+e)){var o=document.getElementById("colAnalCrosstabAddDashboard_"+e);o&&(o.style.display="none");var u=document.getElementById("colCrosstabExportControls_"+e);u&&(u.style.display="none")}typeof window.rdRepositionSliders!="undefined"&&rdRepositionSliders(),t||this.rdSavePanelState(e,n)},rdAgGetColumnList:function(e,t,n,r,i,s){var o=document.getElementById("rdAgDataColumnDetails");if(o.value!=""){var u=o.value,a=u.split(",");if(a.length>0){var f,l=0,c="";for(f=0;f<a.length;f++){var h=a[f];s==0&&h.indexOf("^")>-1&&(h="");if(h.length>1&&h.indexOf(":")>-1){var p=h.split(":")[1].split("|")[0];n==""?(c=h.split(":")[0],e[f]=c.split(";")[0],t[f]=c.split(";")[1],f==1&&(e[0]="",t[0]=""),h.indexOf("|")>-1?(r[f]=h.split("|")[1].split("-")[0],h.indexOf("^")>-1?i[f]=h.split("-")[1].split("^")[0]:i[f]=h.split("|")[1].split("-")[1]):(r[f]="",i[f]="")):n=="number"&&p=="Number"&&(c=h.split(":")[0],e[l]=c.split(";")[0],t[l]=c.split(";")[1],l++,h.indexOf("|")>-1?(r[l]=h.split("|")[1].split("-")[0],i[l]=h.split("|")[1].split("-")[1]):(r[l]="",i[l]=""))}}n=="number"&&(e.unshift(""),t.unshift(""))}}},rdAgGetColumnDataType:function(e){var t=document.getElementById("rdAgDataColumnDetails");if(t.value!=""){var n=t.value,r=n.split(",");if(r.length>0){var i;for(i=0;i<r.length;i++){var s=r[i];if(s.length>1&&s.indexOf(":")>-1){var o=s.split(":")[0];o=o.split(";")[0];if(o==e)return s.split(":")[1].split("|")[0]}}}}},rdAgToggleChartPanel:function(e,t){var n=rdGetCookie("rdPanelExpanded_"+e);t||(n!="True"?(n="True",rdSetCookie("rdPanelExpanded_"+e,"True")):(n="False",rdSetCookie("rdPanelExpanded_"+e,"False")));if(n=="True"){var r=document.getElementById("divPanelClosed_"+e);r&&(r.style.display="none");var i=document.getElementById("divPanelOpen_"+e);i&&(i.style.display="");var s=document.getElementById("rowContentAnalChart_"+e);s&&(s.style.display="");var o=document.getElementById("colAnalChartAddDashboard_"+e);o&&(o.style.display="");var u=document.getElementById("colAcEdit_"+e);u&&(u.style.display="")}else{var r=document.getElementById("divPanelClosed_"+e);r&&(r.style.display="");var i=document.getElementById("divPanelOpen_"+e);i&&(i.style.display="none");var s=document.getElementById("rowContentAnalChart_"+e);s&&(s.style.display="none");var o=document.getElementById("colAnalChartAddDashboard_"+e);o&&(o.style.display="none");var u=document.getElementById("colAcEdit_"+e);u&&(u.style.display="none")}if(!document.getElementById("rdAcChart_"+e)){var o=document.getElementById("colAnalChartAddDashboard_"+e);o&&(o.style.display="none")}typeof window.rdRepositionSliders!="undefined"&&rdRepositionSliders(),t||this.rdSavePanelState(e,n)},rdSavePanelState:function(e,t){var n="&rdReport="+document.getElementById("rdAgReportId").value;n+="&rdAgPanelID="+e,n+="&rdAgId="+document.getElementById("rdAgId").value,n+="&rdAgPanelEpanded="+t,rdAjaxRequestWithFormVars("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=UpdateAgPanelState"+n)},rdChangeAggregateOptions:function(){var e=[],t=[],n=[],r=[];this.rdAgGetColumnList(e,t,"",n,r,!1);var i=document.getElementById("rdAgAggrColumn"),s=i.options[i.selectedIndex].value,o=document.getElementById("rdAgBtnAddAggr"),u;s==this.CURRENT_COLUMN_TOKEN?(u="all",o.originalVisibility||(o.originalVisibility=o.style.visibility),o.style.visibility="hidden"):(u=this.rdAgGetColumnDataType(s),o.style.visibility=="hidden"&&(o.style.visibility=o.originalVisibility)),rdchangeList("rdAgAggrFunction",e,t,u,"","");if(this.rdAgCustAggContext&&this.rdAgCustAggContext!=s){var a=document.getElementById("rdAgCustAggFormula");a&&a.value&&(a.value=""),a=document.getElementById("rdAgCustAggName"),a&&a.value&&(a.value="")}this.rdAgCustAggContext=s},rdAgTableTogglePanelMenu:function(e){var t=rdGetCookie("rdTablePanelMenuExpanded");e||(t!="True"?(t="True",rdSetCookie("rdTablePanelMenuExpanded","True")):(t="False",rdSetCookie("rdTablePanelMenuExpanded","False")));if(t=="False"){var n=document.getElementById("rowTableMenu");n&&(n.style.display="none")}else{var n=document.getElementById("rowTableMenu");n&&(n.style.display="")}typeof window.rdRepositionSliders!="undefined"&&rdRepositionSliders()},rdAgChartTogglePanelMenu:function(e,t){var n=rdGetCookie("rdChartPanelMenuExpanded_"+e);t||(n!="True"?(n="True",rdSetCookie("rdChartPanelMenuExpanded_"+e,"True")):(n="False",rdSetCookie("rdChartPanelMenuExpanded_"+e,"False")));if(n=="False"){var r=document.getElementById("divAcChartTypes_"+e);r&&(r.style.display="none");var i=document.getElementById("divChartLists_"+e);i&&(i.style.display="none");var s=document.getElementById("divAcControls_"+e);s&&(s.style.display="none")}else{var r=document.getElementById("divAcChartTypes_"+e);r&&(r.style.display="");var i=document.getElementById("divChartLists_"+e);i&&(i.style.display="");var s=document.getElementById("divAcControls_"+e);s&&(s.style.display="")}typeof window.rdRepositionSliders!="undefined"&&rdRepositionSliders()},rdAgCrosstabTogglePanelMenu:function(e,t){var n=rdGetCookie("rdCrosstabPanelMenuExpanded_"+e);t||(n!="True"?(n="True",rdSetCookie("rdCrosstabPanelMenuExpanded_"+e,"True")):(n="False",rdSetCookie("rdCrosstabPanelMenuExpanded_"+e,"False")));if(n=="False"){var r=document.getElementById("divAxControls_"+e);r&&(r.style.display="none")}else{var r=document.getElementById("divAxControls_"+e);r&&(r.style.display="");var i=document.getElementById("divAxEditSelected_"+e);i&&(i.style.display="");var s=document.getElementById("divAxEditUnselected_"+e);s&&(s.style.display="none")}typeof window.rdRepositionSliders!="undefined"&&rdRepositionSliders()},rdAgShowTableMenuTab:function(e,t,n){var r=!1,i=!0;e=e.replace(/,/g,"");if(e.length==0)i=!1;else{var s=document.getElementById("lblHeading"+e),o=document.getElementById("row"+e);s&&s.className.indexOf("rdAgCommandHighlight")!=-1&&(i=!1),t&&location.href.indexOf("rdAgLoadSaved")!=-1&&(i=!1)}r&&(i=!0),document.getElementById("rdAgCurrentOpenTablePanel").value="",this.rdSetClassNameById("lblHeadingGroup","rdAgCommandIdle"),this.rdSetClassNameById("lblHeadingAggr","rdAgCommandIdle"),this.rdSetClassNameById("lblHeadingPaging","rdAgCommandIdle"),this.rdSetClassNameById("lblHeadingSortOrder","rdAgCommandIdle"),this.rdSetClassNameById("lblHeadingLayout","rdAgCommandIdle"),this.rdSetDisplayById("rowLayout","none"),this.rdSetDisplayById("rowSortOrder","none"),this.rdSetDisplayById("rowGroup","none"),this.rdSetDisplayById("rowAggr","none"),this.rdSetDisplayById("rowPaging","none"),i&&s&&(document.getElementById("rdAgCurrentOpenTablePanel").value=e,s.className="rdAgCommandHighlight",o&&(o.style.display=""),!t&&o&&o.firstChild&&rdFadeElementIn(o.firstChild,400)),e=="Group"&&this.rdAgGetGroupByDateOperatorDiv(),e=="Aggr"&&this.rdChangeAggregateOptions()},rdSetClassNameById:function(e,t){var n=document.getElementById(e);n&&(n.className=t)},rdSetDisplayById:function(e,t){var n=document.getElementById(e);n&&(n.style.display=t)},rdSetPanelModifiedClass:function(e){var t=Y.one("#col"+e);Y.Lang.isValue(t)&&t.one("table").hasClass("rdHighlightOn")&&(t._node.style.fontWeight="bold")},rdSetPanelDisabledClass:function(e){var t=Y.one("#col"+e);t!=null&&t.addClass("rdAgDisabledTab")},rdAgGetGroupByDateOperatorDiv:function(){document.rdForm.rdAgPickDateColumnsForGrouping.value.indexOf(document.rdForm.rdAgGroupColumn.value+",")!=-1&&document.rdForm.rdAgGroupColumn.value.length!=0?Y.Lang.isValue(Y.one("#divGroupByDateOperator"))&&ShowElement(this.id,"divGroupByDateOperator","Show"):Y.Lang.isValue(Y.one("#divGroupByDateOperator"))&&(ShowElement(this.id,"divGroupByDateOperator","Hide"),document.rdForm.rdAgDateGroupBy.value="")},rdInitDraggableAgPanels:function(){var e=!1,t=document.getElementById("rdAgDraggablePanels");t!=null&&(e=!0);var n=this.rdGetDraggableAgPanels();for(r=0;r<n.length;r++)Y.DD.DDM.getNode(n[r]).destroy();if(n.length>1)for(var r=0;r<n.length;r++){var i=n[r];if(e){var s=Y.one("#"+LogiXML.escapeSelector(i.id)),o=new Y.DD.Drag({node:s}),u=s.plug(Y.Plugin.Drop);s.addClass("dragHandleOnly");var a=null,f=[0,0],l=!1;o.on("drag:start",this.Panel_onDragStart,this),o.on("drag:drag",this.Panel_onDrag,this),o.on("drag:over",this.Panel_onDragOver,this),o.on("drag:drophit",this.Panel_onDropHit,this),o.on("drag:end",this.Panel_onDragEnd,this);var c=Y.Selector.query("table.rdAgContentHeadingRow",i).length==0?Y.Selector.query("td.rdAgContentHeading",i)[0].id:Y.Selector.query("table.rdAgContentHeadingRow",i)[0].id,h="#"+LogiXML.escapeSelector(c),p=Y.one(h);o.addHandle(h).plug(Y.Plugin.DDWinScroll,{horizontal:!1,vertical:!0,scrollDelay:100,windowScroll:!0}),p.setStyle("cursor","move")}}},Panel_onDragStart:function(e){pnlDragged=e.target.get("dragNode").getDOMNode(),this.rdSetDraggableAgPanelsZIndex(pnlDragged,e.target.panels),Y.DOM.setStyle(pnlDragged,"opacity",".65"),originalPanelPosition=Y.DOM.getXY(pnlDragged),bDoNothingMore=!1,this.set("targetPanel",null)},Panel_onDragOver:function(e){this.set("targetPanel",e.drop.get("node").getDOMNode());var t=this.get("targetPanel");pnlDragged=e.target.get("dragNode").getDOMNode();if(t.id.match("rdDivAgPanelWrap_")){var n=Y.DOM.region(pnlDragged),r=Y.DOM.region(t),i=r.height;eleTargetPanelHandle=t.nextSibling,originalPanelPosition[1]<n.top?n.top>r.top+Math.round(i/2)?t.nextSibling.firstChild.firstChild
.firstChild.className="rdAgDropZoneActive":t.previousSibling.firstChild.firstChild.firstChild.className="rdAgDropZoneActive":n.top<r.top+Math.round(i/2)?t.previousSibling.firstChild.firstChild.firstChild.className="rdAgDropZoneActive":t.nextSibling.firstChild.firstChild.firstChild.className="rdAgDropZoneActive"}},Panel_onDrag:function(e){this.rdNeutralizeDropZoneColor();var t=this.get("targetPanel");Y.Lang.isValue(t)||(pnlDragged.previousSibling.firstChild.firstChild.firstChild.className="rdAgDropZoneActive")},Panel_onDropHit:function(e){this.rdMoveAgPanels(pnlDragged,this.get("targetPanel"),originalPanelPosition,bDoNothingMore),pnlDragged.style.cssText="",Y.DOM.setStyle(pnlDragged,"opacity","1"),bDoNothingMore=!0},Panel_onDragEnd:function(e){var t=this;this.rdMoveAgPanels(pnlDragged,this.get("targetPanel"),originalPanelPosition,bDoNothingMore),pnlDragged.style.cssText="",Y.DOM.setStyle(pnlDragged,"opacity","1"),LogiXML.features.touch&&setTimeout(function(){t.rdResetAGPanelAfterDDScroll(pnlDragged)},1e3)},rdMoveAgPanels:function(e,t,n,r){if(!r){var i=Y.DOM.region(e),s=e.nextSibling;if(t){var o=Y.DOM.region(t),u=o.height,a=t.nextSibling;t.id.match("rdDivAgPanelWrap_")&&(n[1]<i.top?(i.top>o.top+Math.round(u/2)?a.nextSibling?(t.parentNode.insertBefore(e,a.nextSibling),t.parentNode.insertBefore(s,a.nextSibling.nextSibling)):(t.parentNode.appendChild(e),t.parentNode.appendChild(s)):(t.parentNode.insertBefore(e,t),t.parentNode.insertBefore(s,t)),this.rdSaveDraggableAgPanelPositions()):(i.top<o.top+Math.round(u/2)?(t.parentNode.insertBefore(e,t),t.parentNode.insertBefore(s,t)):a.nextSibling?(t.parentNode.insertBefore(e,a.nextSibling),t.parentNode.insertBefore(s,a.nextSibling.nextSibling)):(t.parentNode.appendChild(e),t.parentNode.appendChild(s)),this.rdSaveDraggableAgPanelPositions()))}else{var f=this.rdGetDraggableAgPanels(),i=Y.DOM.region(e);n[1]<i.top?e.id!=f[f.length-1].id&&i.top>Y.DOM.region(f[f.length-1]).bottom&&(f[0].parentNode.appendChild(e),f[0].parentNode.appendChild(s),this.rdSaveDraggableAgPanelPositions()):e.id!=f[0].id&&i.top<Y.DOM.region(f[0]).top&&(f[0].parentNode.insertBefore(e,f[0]),f[0].parentNode.insertBefore(s,f[0]),this.rdSaveDraggableAgPanelPositions())}this.rdNeutralizeDropZoneColor(),e.style.top="0px",e.style.left="0px"}},rdSaveDraggableAgPanelPositions:function(){var e="&rdReport="+document.getElementById("rdAgReportId").value;e+="&rdAgPanelOrder=";var t=this.rdGetDraggableAgPanels();for(var n=0;n<t.length;n++){var r=t[n];e.indexOf(r.id.replace("rdDivAgPanelWrap_","")+",")<0&&(e+=r.id.replace("rdDivAgPanelWrap_","")+",")}e+="&rdAgId="+document.getElementById("rdAgId").value,window.status="Saving dashboard panel positions.",rdAjaxRequestWithFormVars("rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=UpdateAgPanelOrder"+e)},rdGetDraggableAgPanels:function(){var e=new Array,t=document.getElementById("rdDivAgPanels");if(t==null)return e;var n=t.getElementsByTagName("div");for(i=0;i<n.length;i++){var r=n[i];if(r.id&&r.id.indexOf("rowMenu")<0&&r.id.indexOf("rowTitle")<0&&r.id.indexOf("rdDivAgPanelWrap_row")>-1)if(Y.Lang.isValue(r.firstChild.firstChild))r.firstChild.firstChild.firstChild.style.display!="none"&&e.push(r);else{var s=Y.one(r).getDOMNode(),o=s.previousSibling;s.parentNode.removeChild(s),o.parentNode.removeChild(o),r=Y.one("#"+LogiXML.escapeSelector(r.id)).getDOMNode(),e.push(r)}}return e},rdSetDraggableAgPanelsZIndex:function(e,t){t=this.rdGetDraggableAgPanels();for(var n=0;n<t.length;n++){var r=t[n];r.id==e.id?Y.DOM.setStyle(r,"zIndex",1e3):Y.DOM.setStyle(r,"zIndex",0)}},rdResetAGPanelAfterDDScroll:function(e){var t=Y.one(e);t.setStyles({left:0,top:0})},rdNeutralizeDropZoneColor:function(){var e=Y.Selector.query("td.rdAgDropZoneActive",Y.DOM.byId("rdDivAgPanels"));for(var t=0;t<e.length;t++){var n=e[t];n.className="rdAgDropZone"}},rdShowColorRangePopup:function(e,t,n,r){var s=t.split("|");for(i=1;i<11;i++){var o=document.getElementById("rdAgRangeValue"+i);o&&(i<s.length?(o.value=s[i-1].split(":")[0],this.rdSetPickerColor("rdAgRangeColor"+i,s[i-1].split(":")[1])):(o.value="",this.rdSetPickerColor("rdAgRangeColor"+i,"")))}var u=document.getElementById("rdAgColorRangeFullRow");u&&n=="True"&&(u.checked=!0);var a=document.getElementById("lblColorRangeHelp"),f=document.getElementById("lblColorListHelp"),l=document.getElementById("lblColorRangeHeader"),c=document.getElementById("lblColorListHeader");r=="Number"?(a.style.display="",f.style.display="none",l.style.display="",c.style.display="none"):(a.style.display="none",f.style.display="",l.style.display="none",c.style.display=""),s.length>6&&(ShowElement(this.id,"rowMore","Hide"),ShowElement(this.id,"rowColor6","Show"),ShowElement(this.id,"rowColor7","Show"),ShowElement(this.id,"rowColor8","Show"),ShowElement(this.id,"rowColor9","Show"),ShowElement(this.id,"rowColor10","Show")),document.getElementById("rdAgColorRangeColumnID").value=e,ShowElement(this.id,"panelColorRanges","Show")},rdSetPickerColor:function(e,t){t=t.trim();if(t==""){var n=Y.one("input#"+e)._node;n.value="";var r=Y.one("#rectColorIndicator_"+e)._node;r.style.backgroundColor=""}else{var i=Y.one("div#"+e),s=i.getData("rdInputColorPicker");s.setValue(t),s.updatePicker()}}},{NAME:"analysisgrid",ATTRS:{targetPanel:{value:null}},rdSaveColumnWidths:function(){if(!LogiXML||!LogiXML.ResizableColumns||!LogiXML.ResizableColumns.getWidths||!document.rdForm)return;var e=document.getElementsByName("rdColumnWidths");e&&e.length>0?e=e[0]:(e=document.createElement("input"),e.type="hidden",e.name="rdColumnWidths",document.rdForm.appendChild(e));var t=LogiXML.ResizableColumns.getWidths();e.value=JSON.stringify(t)}})},"1.0.0",{requires:["dd-drop-plugin","dd-plugin","dd-scroll","dd-constrain"]});var sColorPicker="1",rdFormulaTextSelection,rdCustAggFormulaTextSelection,rdAgCustAggRefresh=!1,rdAgCustAggListener=null,rdAgFormats=null;document.addEventListener("DOMContentLoaded",function(){var e=document.getElementById("rdAgImgCustAgg");if(!e||!e.value)return;var t=document.getElementById("rdPopupPanelTitle_rdAgCustAggPopup");if(!t)return;var n=t.getElementsByClassName("rdPopupPanelTitleCaption");if(!n||!n.length)return;n[0].style.backgroundImage="url('"+e.value+"')",rdAgFilterDataTypeChanged()});

/* 
* rdOlapGrid/rdOgScript.js 
*/
function rdOgShowTabsState(e){rdOgShowTabState("Dimension",e),rdOgShowTabState("Measure",e),rdOgShowTabState("CalculatedMeasure",e),rdOgShowTabState("Filter",e),rdOgShowTabState("Chart",e),rdOgShowTabState("Heatmap",e)}function rdOgShowTabState(e,t){var n=document.getElementById("row"+e);if(n){var r=document.getElementById("col"+e);r&&(n.style.display=="none"?(r.setAttribute("CLASS","rdOgUnselectedTab"),r.setAttribute("className","rdOgUnselectedTab")):(r.setAttribute("CLASS","rdOgSelectedTab"),r.setAttribute("className","rdOgSelectedTab"),n.style.display="",t==e&&rdFadeElementIn(n.firstChild,400)))}}function rdOgHideRemainingTabs(e){var t=new Array("Dimension","Measure","CalculatedMeasure","Filter");for(i=0;i<t.length;i++){var n=document.getElementById("row"+t[i]);n&&n.id!=e&&n.style.display!="none"&&ShowElement(n.parentNode.id,n.id,"Hide")}}function rdOgBatchCommand(e,t,n,r){document.rdForm.rdOgBatchCommands.value+=e+","+n+";";var i=rdFindLink(r),s=i.firstChild;switch(e){case"DimAddLeft":i.href=i.href.replace("DimAddLeft","DimDelLeft"),s.src=s.src.replace("AddLeft","DelDim").replace("AddTop","DelDim"),s.title="Remove this Dimension from the table.";break;case"DimAddTop":i.href=i.href.replace("DimAddTop","DimDelTop"),s.src=s.src.replace("AddLeft","DelDim").replace("AddTop","DelDim"),s.title="Remove this Dimension from the table.";break;case"DimDelLeft":i.href=i.href.replace("DimDelLeft","DimAddLeft"),s.src=s.src.replace("DelDim","AddLeft").replace("AddTop","AddLeft"),s.title="Move this Dimension to the Left axis.";break;case"DimDelTop":i.href=i.href.replace("DimDelTop","DimAddTop"),s.src=s.src.replace("DelDim","AddTop").replace("AddLeft","AddTop"),s.title="Move this Dimension to the Top axis.";break;case"MeasureAdd":i.href=i.href.replace("Add","Del"),s.src=s.src.replace("AddMeasure","DelDim"),s.title="Remove this Measure from the table.";break;case"MeasureDel":i.href=i.href.replace("Del","Add"),s.src=s.src.replace("DelDim","AddMeasure"),s.title="Add this Measure to the table."}if(e.indexOf("Dim")!=-1){var o,u;if(e.indexOf("DimAdd")==0){e.indexOf("Left")!=-1?o=i.nextSibling.nextSibling:o=i.previousSibling.previousSibling,u=o.firstChild,o.href=o.href.replace("DimDel","DimAdd");switch(e){case"DimAddLeft":u.src=u.src.replace("DelDim","AddTop"),u.title="Move this Dimension to the Top axis.";break;case"DimAddTop":u.src=u.src.replace("DelDim","AddLeft"),u.title="Move this Dimension to the Left axis."}}if(e=="DimAddLeft"){var a=document.getElementById("divDimensionError-NoLeft");a&&(a.style.display="none")}}if(e.indexOf("Dim")!=-1){var f=document.getElementById("divBatchUpdateTableDims");f.style.display=""}else{var f=document.getElementById("divBatchUpdateTableMeasures");f.style.display=""}}function rdFindLink(e){var t=document.getElementsByTagName("A");for(var n=0;n<t.length;n++){var r=t[n].getAttribute("onclick");if(r!=undefined){r=r.replace('"',/"/g);if(r.indexOf(e)!=-1)return t[n]}}}function rdOgBatchDrilldownAll(e){document.rdForm.rdOgBatchCommands!=null&&(document.rdForm.rdOgBatchCommands.value="");var t=document.getElementsByTagName("A"),n=null,r="";for(var i=0;i<t.length;i++){var s=LogiXML.getScriptFromLink(t[i],!0);if(LogiXML.getUrlParameter(s,"rdOgCommand")=="Drill"&&LogiXML.getUrlParameter(s,"rdOlapTableID")=="otOlapGrid"&&LogiXML.getUrlParameter(s,"rdDrilldownDimension")==e&&LogiXML.getUrlParameter(s,"rdDrilledDown")=="False"&&s.indexOf("rdOgBlank.gif")==-1){var o=LogiXML.getUrlParameter(s,"rdDrilldownPosition");n||(n=LogiXML.removeUrlParameter(s,"rdDrilldownPosition")),r+=o+","}}r.length!=0&&(hiddenDrilldownPosition=document.createElement("INPUT"),hiddenDrilldownPosition.type="HIDDEN",hiddenDrilldownPosition.id="rdDrilldownPosition",hiddenDrilldownPosition.name="rdDrilldownPosition",hiddenDrilldownPosition.value=r,document.rdForm.appendChild(hiddenDrilldownPosition),SubmitForm(n,"","false","",!1))}function rdInitFilterClicks(){if(location.href.indexOf("rdShowFilterPopup")==-1)return;rdFiltersHandler=new rdOgFilterPanelHandler,rdFiltersHandler.initFilterHandler()}function rdOgFilterMember(e,t){rdFiltersHandler.filterMemberClicked(e,t)}function rdOgFilterPanelHandler(){this.rdFiltersDict=null,this.initFilterHandler=function(){if(location.href.indexOf("rdShowFilterPopup")==-1)return;var e=document.getElementById("hiddenFilterDimension"),t=document.getElementById("rdFilterClickHistory");this.rdFiltersDict=this.clicksStringToDictionary(t.value);var n=1;eleChk=document.getElementById("chkFilter_Row"+n);while(eleChk){var r=this.getOgFilterPosFromRow(n),i=this.rdFiltersDict.lookupEnc(r);switch(i){case"some":eleChk.setAttribute("rdCheckState","some");break;case"true":eleChk.setAttribute("rdCheckState","true");break;case"false":eleChk.setAttribute("rdCheckState","false");break;default:n==1?eleChk.setAttribute("rdCheckState","true"):eleChk.setAttribute("rdCheckState",this.getParentCheckedState(r,n))}n+=1,eleChk=document.getElementById("chkFilter_Row"+n)}var s=n-1;this.updateParentStates(s),this.updateCheckboxAppearance()},this.filterMemberClicked=function(e,t){var n=document.getElementById("chkFilter_Row"+e),r=this.getOgFilterPosFromRow(e);n.checked==0&&n.getAttribute("rdCheckState")=="some"&&(n.checked=!0);var i=1,s=document.getElementById("chkFilter_Row"+i);while(s){if(s.id!="chkFilter_Row"+i)break;var o=this.getOgFilterPosFromRow(i);o==r?s.setAttribute("rdCheckState",s.checked.toString()):o.indexOf(r)==0&&s.setAttribute("rdCheckState",n.checked.toString()),i+=1,s=document.getElementById("chkFilter_Row"+i)}var u=i-1;for(i-=1;i>0;i--){var s=document.getElementById("chkFilter_Row"+i),o=this.getOgFilterPosFromRow(i);this.rdFiltersDict.lookupEnc(o)&&this.rdFiltersDict.deleteEnc(o),this.rdFiltersDict.deleteEnc(o);var a=s.getAttribute("rdCheckState"),f=new rdOgPosEntry(o,a);this.rdFiltersDict.addPos(f)}this.updateParentStates(u),this.updateCheckboxAppearance(),this.rdFiltersDict.deleteChildPos(r);var l=document.getElementById("rdFilterClickHistory");l.value=this.clicksDictionaryToString(this.rdFiltersDict),document.getElementById("chkFilter_Row1").getAttribute("rdCheckState")=="false"?ShowElement(null,"lblFilterDone","Hide"):ShowElement(null,"lblFilterDone","Show")},this.updateParentStates=function(e){for(i=e-1;i>0;i--){var t=document.getElementById("chkFilter_Row"+i),n=this.getOgFilterPosFromRow(i),r=this.getDescendantCheckedState(t,n);switch(r){case"?":break;default:if(t.getAttribute("rdCheckState")!=r){t.setAttribute("rdCheckState",r),this.rdFiltersDict.deleteEnc(n);var s=t.getAttribute("rdCheckState"),o=new rdOgPosEntry(n,s);this.rdFiltersDict.addPos(o)}}}},this.updateCheckboxAppearance=function(){var e=1,t=document.getElementById("chkFilter_Row"+e);while(t){switch(t.getAttribute("rdCheckState")){case"some":this.setCheckboxOpacity(t,.3),t.checked=!0;break;case"true":this.setCheckboxOpacity(t,1),t.checked=!0;break;case"false":this.setCheckboxOpacity(t,1),t.checked=!1}e+=1,t=document.getElementById("chkFilter_Row"+e)}},this.getDescendantCheckedState=function(e,t){var n="?",r=1,i=document.getElementById("chkFilter_Row"+r);while(i){if(i.id!="chkFilter_Row"+r)break;var s=this.getOgFilterPosFromRow(r);if(s!=t&&s.indexOf(t)==0)if(n=="?")n=i.getAttribute("rdCheckState");else if(n!=i.getAttribute("rdCheckState"))return"some";r+=1,i=document.getElementById("chkFilter_Row"+r)}return n},this.getParentCheckedState=function(e,t){for(t-=1;t>0;t--){var n=this.getOgFilterPosFromRow(t);if(e.indexOf(n)==0){var r=document.getElementById("chkFilter_Row"+t);return r.getAttribute("rdCheckState")}}return"true"},this.setCheckboxOpacity=function(e,t){Y.one(e).setStyle("opacity",t)},this.getOgFilterPosFromRow=function(e){var t=document.getElementById("lblFilterPosition_Row"+e),n=t.innerHTML;return n},this.clicksDictionaryToString=function(e){var t="";for(i=0;i<e.rdKeys.length;i++){var n=e.rdKeys[i],r=e[n];t+=r.enc+"_rdClk_"+r.state+"_rdEnd_"}return t},this.clicksStringToDictionary=function(e){var t=new rdOgPosDictionary,n=e.split(/_rdEnd_/);for(var r=0;r<n.length;r++)if(n[r].length>0){var i=n[r].split(/_rdClk_/),s=i[0],o=i[1],u=new rdOgPosEntry(s,o);t.addPos(u)}return t}}function rdOgRemoveSpecChars(e){var t=e;return t=t.replace(/&amp;/g,"&"),t=t.replace(/&lt;/g,"<"),t=t.replace(/&gt;/g,">"),t=t.replace(/&quot;/g,'"'),t=t.replace(/&apos;/g,"'"),t=t.replace(/&copy;/g,""),t=t.replace(/&reg;/g,""),t}function rdOgPosEntry(e,t){this.enc=e,this.dec=rdOgRemoveSpecChars(e),this.state=t}function rdOgPosDictionary(){this.rdKeys=new Array,this.lookupDec=function(e){var t="";try{var n=this[e];n&&(t=n.state)}catch(r){}return t},this.lookupEnc=function(e){var t=rdOgRemoveSpecChars(e);return this.lookupDec(t)},this.deleteDec=function(e){this[e]=null,this.adjustKeys()},this.deleteEnc=function(e){var t=rdOgRemoveSpecChars(e),n=this[t];if(n){var t=n.dec;this.deleteDec(t)}},this.deleteChildPos=function(e){var t=0;for(t=this.rdKeys.length-1;t>-1;t--){var n=this.rdKeys[t],r=this[n];sPosition=r.enc,sPosition!=e&&sPosition.indexOf(e)!=-1&&this.deleteEnc(sPosition)}},this.adjustKeys=function(){var e=new Array;for(var t=0;t<this.rdKeys.length;t++)this[this.rdKeys[t]]!=null&&(e[e.length]=this.rdKeys[t]);this.rdKeys=e},this.addPos=function(e){this[e.dec]=e,this.rdKeys[this.rdKeys.length]=e.dec}}var rdFiltersHandler;

/* 
* rdElementSeeker/rdElementSeeker.js 
*/
YUI.add("element-seeker",function(e){e.namespace("LogiInfo").ElementSeeker=e.Base.create("ElementSeeker",e.Base,[],{HOVER_CLASS:"studioElementSeekerHover",initializer:function(){this.rdIdeIdx=null,this.active=!1,this.listeners=null,this.ons=null,this.boundHover=null,this.boundClick=null,this.highlighterWidth=1,this.highlighterTop=document.createElement("div"),this.highlighterTop.style.display="none",this.highlighterTop.style.width="0",this.highlighterTop.style.height=this.highlighterWidth+"px",this.highlighterTop.style.position="absolute",this.highlighterTop.style.zIndex=9999,this.highlighterTop.className=this.HOVER_CLASS,this.highlighterRight=document.createElement("div"),this.highlighterRight.style.display="none",this.highlighterRight.style.width=this.highlighterWidth+"px",this.highlighterRight.style.height="0",this.highlighterRight.style.position="absolute",this.highlighterRight.style.zIndex=9999,this.highlighterRight.className=this.HOVER_CLASS,this.highlighterBottom=document.createElement("div"),this.highlighterBottom.style.display="none",this.highlighterBottom.style.width="0",this.highlighterBottom.style.height=this.highlighterWidth+"px",this.highlighterBottom.style.position="absolute",this.highlighterBottom.style.zIndex=9999,this.highlighterBottom.className=this.HOVER_CLASS,this.highlighterLeft=document.createElement("div"),this.highlighterLeft.style.display="none",this.highlighterLeft.style.width=this.highlighterWidth+"px",this.highlighterLeft.style.height="0",this.highlighterLeft.style.position="absolute",this.highlighterLeft.style.zIndex=9999,this.highlighterLeft.className=this.HOVER_CLASS,document.body.appendChild(this.highlighterTop),document.body.appendChild(this.highlighterRight),document.body.appendChild(this.highlighterBottom),document.body.appendChild(this.highlighterLeft),this.sendStudioMessageDirect("Ping")},showIcon:function(){var e=document.getElementsByClassName("rdElementSeekerImage"),t;for(var n=0;n<e.length;n++)t=e[n],t.style.display=""},stopBubble:function(e){return e=e||window.event,e?(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),!1):!1},activate:function(e,t){if(t!==!0&&window.parent&&window.parent!==window.self&&window.parent.LogiXML&&window.parent.LogiXML.ElementSeeker)return window.parent.LogiXML.ElementSeeker.activate(e);if(this.active)return this.cancel(),!1;this.listeners=[],this.ons=[];var n=this.hover.bind(this),r=this.click.bind(this);this.boundHover=n,this.boundClick=r;var i=function(e){if(e.id=="rdElementSeeker_Action")return;e.addEventListener?(e.addEventListener("mouseover",n),e.addEventListener("click",r)):(e.attachEvent("onmouseover",n),e.attachEvent("onclick",r)),this.listeners.push(e)}.bind(this),s=function(e){if(e.id=="rdElementSeeker_Action")return;var t,n,r=!1;for(var i=e.attributes.length-1;i>=0;i--)t=e.attributes[i],t.name.toLowerCase().indexOf("on")===0&&(e.setAttribute("rdOrigOns_"+t.name,t.value),e.removeAttribute(t.name),r=!0);r&&this.ons.push(e);for(var i=0;i<e.childNodes.length;i++){var o=e.childNodes[i];o.tagName&&s(o)}}.bind(this);for(var o=0;o<document.body.childNodes.length;o++){var u=document.body.childNodes[o];u.tagName&&(s(u),i(u))}rdAddCssClass(document.body,"elementSeekerCursor"),rdAddCssClass(document.body.parentNode,"elementSeekerCursor");var a=document.getElementsByTagName("iframe");for(var o=0;o<a.length;o++){var f=a[o].contentWindow.LogiXML;f&&f.ElementSeeker&&f.ElementSeeker.activate(e,!0)}var l=[".rdChartCanvas","table[id^=rdPopupPanelTable_popupEditAgViz]"];for(var c=0;c<l.length;c++){var h=document.querySelectorAll(l[c]);for(var o=0;o<h.length;o++){var p=h[o],d=p.ownerDocument.createElement("div");p.tagName.toLowerCase()=="table"&&(d=p.ownerDocument.createElement("thead"));var v=p.getBoundingClientRect();d.className="es-overflow-wrapper",d.style.top="0px",d.style.left="0px",d.style.position="absolute",d.style.zIndex="9999",d.style.width=v.width+"px",d.style.height=v.height+"px",p.appendChild(d),i(d)}}return this.setImageActive(!0),this.active=!0,this.stopBubble(e)},addPage:function(e){this.pages=this.pages||[],this.pages.push({rdReport:e,doc:document})},setImageActive:function(e){var t=document.getElementsByClassName("rdElementSeekerImage"),n,r;e=e?!0:!1;for(var i=0;i<t.length;i++){n=t[i],n.src=n.src.replace("Hover","");var s=n.src.lastIndexOf(".");s<0?r=n.src.toLowerCase().indexOf("active")===n.src.length-6:r=s>=6&&n.src.substr(s-6,6).toLowerCase()==="active";if(r==e)continue;e?(n.title="Click in a highlighted region.",s<0?n.src=n.src+"Active":s==0?n.src="Active"+n.src:n.src=n.src.substr(0,s)+"Active"+n.src.substr(s)):(n.title="Seek an element in Logi Studio.",s<0?n.src=n.src.substr(0,n.src.length-6):s==6?n.src=n.src.substr(s):n.src=n.src.substr(0,s-6)+n.src.substr(s))}},cancel:function(e){if(e!==!0&&window.parent&&window.parent!==window.self&&window.parent.LogiXML&&window.parent.LogiXML.ElementSeeker)return window.parent.LogiXML.ElementSeeker.cancel();this.clear();if(!this.active)return;if(this.ons){var t;for(var n=0;n<this.ons.length;n++){t=this.ons[n];for(var r=t.attributes.length-1;r>=0;r--)attr=t.attributes[r],attr.name.length>10&&attr.name.toLowerCase().indexOf("rdorigons_")===0&&(t.setAttribute(attr.name.substr(10),attr.value),t.removeAttribute(attr.name))}this.ons=null}if(this.listeners){var t,i=this.boundHover,s=this.boundClick;for(var n=0;n<this.listeners.length;n++)t=this.listeners[n],t.removeEventListener?(t.removeEventListener("mouseover",i),t.removeEventListener("click",s)):(t.detachEvent("onmouseover",i),t.detachEvent("onclick",s));this.listeners=null}var o=document.getElementsByClassName(this.HOVER_CLASS);for(var n=0;n<o.length;n++)o[n].style.display="none";rdRemoveCssClass(document.body,"elementSeekerCursor"),rdRemoveCssClass(document.body.parentNode,"elementSeekerCursor");var u=document.getElementsByTagName("iframe");for(var n=0;n<u.length;n++){var a=u[n].contentWindow.LogiXML;a&&a.ElementSeeker&&a.ElementSeeker.cancel(!0)}var f=document.getElementsByClassName("es-overflow-wrapper");while(f[0])f[0].parentNode.removeChild(f[0]);this.setImageActive(!1),this.active=!1},clear:function(){},hover:function(e){e=e||window.event;var t=e.target;while(t){if(t.getAttribute&&t.getAttribute("rdIdeIdx")){this.setActiveElement(t);break}t=t.parentNode}return this.stopBubble(e)},setActiveElement:function(e){this.clear();var t=e;t.tagName.indexOf("RDCONDELEMENT")!=-1&&(t=t.firstChild.firstChild),t.firstChild&&t.firstChild.tagName=="RDINTERACTIVEPAGING"&&(t=t.firstChild.firstChild),console.log(t.tagName);var n=t.getBoundingClientRect(),r=n.right-n.left,i=n.bottom-n.top,s=n.top,o=n.left,u=e.offsetElement||document.body;while(u){if(u===document.body){s+=document.body.scrollTop+document.body.parentNode.scrollTop,o+=document.body.scrollLeft+document.body.parentNode.scrollLeft;break}s+=u.scrollTop,o+=u.scrollLeft,u=u.offsetParent}this.rdIdeIdx=e.getAttribute("rdIdeIdx"),this.highlighterTop.style.width=r+"px",this.highlighterTop.style.top=s+"px",this.highlighterTop.style.left=o+"px",this.highlighterTop.style.display="block",this.highlighterRight.style.height=i+"px",this.highlighterRight.style.top=s+"px",this.highlighterRight.style.left=o+r-this.highlighterWidth+"px",this.highlighterRight.style.display="block",this.highlighterBottom.style.width=r+"px",this.highlighterBottom.style.top=s+i-this.highlighterWidth+"px",this.highlighterBottom.style.left=o+"px",this.highlighterBottom.style.display="block",this.highlighterLeft.style.height=i+"px",this.highlighterLeft.style.top=s+"px",this.highlighterLeft.style.left=o+"px",this.highlighterLeft.style.display="block"},click:function(e){e=e||window.event;var t=e.target;return!t||t.id==="rdElementSeeker_Image"?this.stopBubble(e):(this.cancel(),this.sendStudioMessageDirect("Seek"),this.rdIdeIdx=null,this.stopBubble(e))},sendStudioMessageDirect:function(t){var n;switch(t){case"Seek":n=this.rdIdeIdx;break;case"Ping":n="0";break;default:return}if(n===null)return;var r=function(){if(!this.pages||!this.pages.length)return setTimeout(r,300);var i;for(var s=0;s<this.pages.length;s++){var o=this.pages[s];if(o.doc===document){i=o.rdReport;break}}var u=LogiXML.getUrlParameter(location.href.toString(),"rdMobile"),a=window.document.implementation.createDocument("","",null),f=a.createElement("ServerMessage"),l=document.getElementsByName("rdParentReport")[0];l&&(i=l.value),f.setAttribute("ReportID",i||""),f.setAttribute("rdIdeIdx",n),f.setAttribute("Type",t),u&&f.setAttribute("IsMobileReport",u),a.appendChild(f);var c=(new XMLSerializer).serializeToString(a),h=document.getElementById("rdElementSeekerUrl").value;try{e.io(h,{method:"POST",data:c,headers:{"Content-Type":"text/plain"},on:t=="Seek"?{success:function(){},failure:function(){console.log('The Element Seeker connection was refused because this application is not open in Studio. To disable the Element Seeker, open this application in Studio, then select "No Element Seeker" in the Debug menu.')}}:{success:this.showIcon,failure:function(){console.log('The Element Seeker connection was refused because this application is not open in Studio. To disable the Element Seeker, open this application in Studio, then select "No Element Seeker" in the Debug menu.')}}})}catch(p){console.log(p)}}.bind(this);r()},onMouseOver:function(e){if(LogiXML.ElementSeeker.active)return;e.setAttribute("src","rdTemplate/rdElementSeeker/rdElementSeekerHover.png")},onMouseOut:function(e){if(LogiXML.ElementSeeker.active)return;e.setAttribute("src","rdTemplate/rdElementSeeker/rdElementSeeker.png")}},{NAME:"elementseeker",ATTRS:{}})},"1.0.0",{requires:[]});

/* 
* rdZoomChart/rdZoomChart.js 
*/
YUI.add("zoomchart",function(Y){var Lang=Y.Lang,TRIGGER="rdZoomChart",ZOOMOUT_PREFIX="rdZoomChartZoomOut_",ZOOMOUT_OFFSET_TOP=2,ZOOMOUT_OFFSET_LEFT=-2,ZOOMOUT_PREFIX="rdZoomChartZoomOut_",CHART_INPUT_PREFIX="rdZoomChartInputChart_",CHART_DETAIL_PREFIX="rdZoomChartDetailChart_",CHART_RESIZED_PREFIX="rdZoomChartMainChart_",CONTAINER_PREFIX="rdZoomChartContainer_",INNER_CONTAINER_PREFIX="rdZoomChartInnerContainer_",RESIZER_HEIGHT_PREFIX="rdZoomChartResizerHeight_",RESIZER_WIDTH_PREFIX="rdZoomChartResizerWidth_",INPUT_CHART_PREFIX="rdZoomChartControlChart_",RESIZER_PRM_NAME="rdZoomChartResizer_";LogiXML.Ajax.AjaxTarget&&LogiXML.Ajax.AjaxTarget().on("reinitialize",function(){Y.LogiXML.ZoomChart.createElements(!0)}),Y.LogiXML.Node.destroyClassKeys.push(TRIGGER),Y.namespace("LogiXML").ZoomChart=Y.Base.create("ZoomChart",Y.Base,[],{_handlers:{},_uid:null,initializer:function(e){this._parseHTMLConfig();var t=this.get("configNode"),n=this.get("chartType"),r=this.get("mainChart");t.setStyles({display:"inline-block"}),this._uid=t.getAttribute("id")+" "+this._yuid,t.setData(TRIGGER,this),this.setZoomOutBtn();var i=this;n=="none"&&(r.on("inputChart:runAction",function(){i._clearHandlers(!0)}),r.on("inputChart:ready",function(){i.setZoomOutBtn(!0)}))},destructor:function(){var e=this.get("configNode");this._clearHandlers(),e.setData(TRIGGER,null)},_clearHandlers:function(){var e=this;Y.each(this._handlers,function(e){e&&(e.detach(),e=null)})},_oldHeight:0,_oldWidth:0,resizer:null,resizeStart:function(e){if(!this._handlers.resizeStart)return;var t=this.get("configNode"),n=t.get("parentNode"),r=this.get("chartType"),i=r=="none"?this.get("mainChart"):this.get("bottomChart");this.set("resizerWrapper",n),this._oldHeight=n.get("offsetHeight"),this._oldWidth=n.get("offsetWidth");var s=i.getData("inputchart");s&&typeof s.destroy=="function"&&s.destroy()},resize:function(e){if(!this._handlers.resize)return;var t=this.get("configNode"),n=this.get("elementId"),r=this.get("resizerWrapper"),i=this.get("chartType"),s=r.get("offsetHeight"),o=r.get("offsetWidth"),u=s-this._oldHeight,a=o-this._oldWidth,f=this.get("mainChart"),l=this.get("bottomChart");if(u!=0||a!=0){var c=f.get("offsetHeight"),h=f.get("offsetWidth");f.setStyles({height:c+u,width:h+a});if(l){var p=l.get("offsetWidth");l.setStyles({width:p+a})}this._oldHeight=r.get("offsetHeight"),this._oldWidth=r.get("offsetWidth")}},resizeEnd:function(e){if(!this._handlers.resizeEnd)return;var configNode=this.get("configNode"),elementId=this.get("elementId"),wrapper=this.get("resizerWrapper"),chartType=this.get("chartType"),mainChart=this.get("mainChart"),bottomChart=this.get("bottomChart"),resizerHeight=this.get("resizerHeight"),resizerWidth=this.get("resizerWidth"),submitAction=this.get("submitAction");resizerHeight&&resizerWidth&&(resizerHeight.set("value",mainChart.get("offsetHeight")),resizerWidth.set("value",mainChart.get("offsetWidth"))),chartType=="bottom"&&configNode.setAttribute("id",mainChart.getAttribute("id")),LogiXML.String.isNotBlank(submitAction)&&(Y.Node.create('<input type="hidden" name="'+RESIZER_PRM_NAME+elementId+'" value="True" />').appendTo(configNode),e.preventPostback||eval(submitAction))},initResizer:function(){var e=this.get("configNode"),t=this,n=e.get("parentNode").one("#rdResizerAttrs_rdZoomChartInnerContainer_"+this.get("elementId"));if(!n)return;n.appendTo(e),n.setAttribute("id","rdResizerAttrs_"+e.getAttribute("id")),Y.on("domready",this.createResizer,this)},createResizer:function(){var e=this.get("configNode");this.resizer=LogiXML.Resize._rdInitCustomResizer(e.getDOMNode()),this._handlers.resizeStart=this.resizer.on("resize:start",this.resizeStart,this),this._handlers.resize=this.resizer.on("resize:resize",this.resize,this),this._handlers.resizeEnd=this.resizer.on("resize:end",this.resizeEnd,this),e.get("parentNode").all(".yui3-resize-handles-wrapper").setStyle("visibility","visible")},attachResizeEvents:function(){},setZoomOutBtn:function(e){if(e===undefined||e===null)e=!1;var t=this.get("configNode"),n=t.one("#"+ZOOMOUT_PREFIX+this.get("elementId")),r=this.get("mainChart"),i=t.one("#"+INNER_CONTAINER_PREFIX+this.get("elementId"));if(!n)return;var s=r.getXY(),o=r.get("offsetWidth"),u=n.get("offsetWidth"),a=n.get("offsetHeight"),f=o-u+ZOOMOUT_OFFSET_LEFT,l=0+ZOOMOUT_OFFSET_TOP;i&&i.setStyles({position:"relative",display:"inline-block"}),n.setStyles({position:"absolute",display:"block",left:f+"px",top:l+"px"}),n.remove(),r.get("parentNode").get("parentNode").append(n),n.on("click",this._clearHandlers,this)},_parseHTMLConfig:function(){var e=this.get("configNode"),t=e.getAttribute("id"),n="none",r=e.one("#"+CHART_RESIZED_PREFIX+t);r&&(r.setAttribute("id",r.getAttribute("id").replace(CHART_RESIZED_PREFIX,"")),e.setAttribute("id",CONTAINER_PREFIX+"id")),t.indexOf(CONTAINER_PREFIX)===0||r?(t=t.replace(CONTAINER_PREFIX,""),n="bottom",this.set("mainChart",e.one("#"+t)),this.set("bottomChart",e.one("#"+CHART_INPUT_PREFIX+t))):this.set("mainChart",e.one("#"+CHART_INPUT_PREFIX+t)),this.set("elementId",t),this.set("chartType",n),this.set("resizerHeight",e.one("#"+RESIZER_HEIGHT_PREFIX+t)),this.set("resizerWidth",e.one("#"+RESIZER_WIDTH_PREFIX+t));var i=e.one("#"+INPUT_CHART_PREFIX+t);i&&this.set("submitAction",i.getAttribute("data-submitaction"))},ajaxPing:function(){},getGuid:function(){var e=function(){return((1+Math.random())*65536|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}},{NAME:"ZoomChart",ATTRS:{configNode:{value:null,setter:Y.one},chartType:{value:null},mainChart:{value:null},bottomChart:{value:null},resizerWrapper:{value:null},elementId:{value:null},resizerHeight:{value:null},resizerWidth:{value:null},submitAction:{value:null}},createElements:function(e){e||(e=!1);var t;Y.all("."+TRIGGER).each(function(n){t=n.getData(TRIGGER),t||(t=new Y.LogiXML.ZoomChart({configNode:n,isAjax:e}))})}})},"1.0.0",{requires:["base","event","node-custom-destroy"]});

/* 
* rdInputSlider/rdInputSlider.js 
*/
function rdInputSliderSet(e,t){var n=Y.one("#"+e);if(Y.Lang.isValue(n)){var r=n.getData("sliderInstance"),i=parseInt(t);r.setValue(i)}}function rdShowHiddenInputSliders(e){Y.Lang.isValue(LogiXML.InputSlider.rdInputSliderLoad)?_rdShowHiddenInputSliders(e):setTimeout(function(){rdShowHiddenInputSliders(e)},100)}function _rdShowHiddenInputSliders(e){var t=e.innerHTML,n=t.indexOf("rdInputSliderBg_");while(n!=-1){if(t.substring(n-5,n+5).indexOf("id=")!=-1){var r=t.substring(n+16,t.indexOf(" ",n));r.indexOf('"')!=-1&&(r=r.substring(0,r.indexOf('"'))),Y.Lang.isValue(Y.one("#rdInputSliderBg_"+r).one(".yui3-dd-draggable"))||LogiXML.InputSlider.rdInputSliderLoad(r)}n=t.indexOf("rdInputSliderBg_",n+1)}}YUI.add("inputslider",function(e){var t=e.namespace("LogiXML.InputSlider");t.initialize=function(){LogiXML.InputSlider._rdInitInputSliders(),LogiXML.Ajax.AjaxTarget().on("reinitialize",function(e){LogiXML.InputSlider._rdInitInputSliders()})},t._rdInitInputSliders=function(){var t=e.all(".yui3-slider-rail");for(var n=0;n<t.size();n++)t.item(n).one(".yui3-dd-draggable")===null&&LogiXML.InputSlider.rdInputSliderLoad(t.item(n).getDOMNode().parentNode.id.replace("rdInputSliderBg_",""))},t.rdInputSliderLoad=function(n){var r=document.getElementById(n);if(!LogiXML.isNodeVisible(e.one(r.parentNode)))return;if(r){var i,s=r.getAttribute("SliderOrientation"),o=r.getAttribute("Slider2Id"),u=parseInt(r.getAttribute("SliderLength")),a=parseInt(r.getAttribute("DecimalPoints")),f=Math.pow(10,a),l=parseFloat(r.getAttribute("ThumbSeparationValue")),c=parseInt(r.getAttribute("TickCount")),h=parseInt(r.getAttribute("MinConstraint")),p=parseInt(r.getAttribute("MaxConstraint")),d=r.getAttribute("BackgroundImageUrl"),v=parseInt(r.getAttribute("SliderThumbOffsetLeft")),m=parseInt(r.getAttribute("SliderThumbOffsetTop")),g;if(!o)s&&s=="Vertical"?i=new e.rdSlider({id:n,axis:"y",min:h*f,max:p*f,length:u}):i=new e.rdSlider({id:n,min:h*f,max:p*f,length:u}),i.set("decimalfactor",f),c&&i.set("tickCount",c),i.renderRail=function(){return e.one("#rdBackground_"+n)},i.renderThumb=function(){return this.rail.one("#rdThumb_"+n)},i.render("#rdInputSliderBg_"+n),v&&i.thumb.setStyle("paddingLeft",v),m&&i.thumb.setStyle("paddingTop",m),r.value.length==0&&(r.value=h),i.setValue(r.value*f);else{var y=r.parentNode.nextSibling.firstChild;s&&s=="Vertical"?i=new e.DualSlider({id:n,axis:"y",min:h*f,max:p*f,length:u}):i=new e.DualSlider({id:n,min:h*f,max:p*f,length:u}),i.set("decimalfactor",f),i.set("slider2ID",o),c&&i.set("tickCount",c),i.set("thumbSeparation",l*f),i.renderRail=function(){return e.one("#rdBackground_"+n)},i.renderThumb=function(){return this.rail.one("#rdThumb_"+n)},i.renderThumb2=function(){return this.rail.one("#rdThumb_"+o)},i.render("#rdInputSliderBg_"+n),v&&(i.thumb.setStyle("paddingLeft",v),i.thumb2.setStyle("paddingLeft",v)),m&&(i.thumb.setStyle("paddingTop",m),i.thumb2.setStyle("paddingTop",m)),r.value.length==0&&(r.value=h),parseInt(r.value)+l>p&&(r.value=p-l),i.setValue(r.value*f),y.value.length==0&&(y.value=p),parseInt(r.value)+l>y.value&&(y.value=Math.min(parseInt(r.value)+l,p)),i.setValue2(y.value*f)}i.after(["valueChange","value2Change"],t._afterValueChange),i.after(["slideEnd","railMouseDown"],t._afterSlideEnd);if(d){var b=document.createElement("img");b.onload=function(e){t.loadCustomBackground(e,i,d,b,s)},b.src=d}e.one(r).setData("sliderInstance",i)}},t.loadCustomBackground=function(e,t,n,r,i){if(r.width>0){t.rail.setStyle("backgroundImage",'url("'+n+'")');switch(i){case"Horizontal":t.rail.setStyle("height",r.height+"px");break;case"Vertical":t.rail.setStyle("width",r.width+"px")}}},t._afterValueChange=function(e){var t=e.currentTarget,n=t.get("id"),r=document.getElementById(n);e.attrName=="value2"&&(r=document.getElementById(t.get("slider2ID")));if(r){r.value=e.newVal/t.get("decimalfactor");var i=document.getElementById(n+"_ondrag");i&&i.onchange()}},t._afterSlideEnd=function(t){var n=t.currentTarget,r=n.get("id");n.syncUI();var i=document.getElementById(r+"_onchange");e.Lang.isValue(i)?i.onchange():(i=document.getElementById(r+"_onChange"),e.Lang.isValue(i)&&i.onchange())},LogiXML.InputSlider=t},"1.0.0",{requires:["slider","rdslider","dualslider"]});

/* 
* rdInputCheckboxList/rdInputCheckboxList.js 
*/
YUI.add("rd-inputCheckList-plugin",function(Y){document.querySelectorAll||function(e,t){e=document,t=e.createStyleSheet(),e.querySelectorAll=function(n,r,i,o,u){u=e.all,r=[],n=n.split(",");for(i=n.length;i--;){t.addRule(n[i],"k:v");for(o=u.length;o--;)u[o].currentStyle.k&&r.push(u[o]);t.removeRule(0)}return r}}(),Y.namespace("LogiXML").rdInputCheckList=Y.Base.create("rdInputCheckList",Y.Plugin.Base,[],{_noneSelectedText:"Select options",_selectedText:"# selected",_multiple:!0,_isDropdown:!1,_isOpen:!1,_isHierarchical:!1,_valueDelimiter:",",_saveInLocalStorage:!1,_columns:1,_checkAllIsVisible:!1,_maxLevel:0,_leafNodes:0,_listCaptionsElementId:"",_onchangeHandlers:[],_actions:[],initializer:function(){this._container=this.get("host"),this._id=this._container.getAttribute("id");if(!Y.Lang.isValue(this._container)||!Y.Lang.isValue(this._id))return;var e=this._container.getAttribute("data-dropdown");Y.Lang.isString(e)&&e.toLowerCase()==="true"&&(this._isDropdown=!0);var t=this._container.getAttribute("data-multiple");this._multiple=LogiXML.String.isBlank(t)?!0:t=="False"?!1:!0,this._checkAllBtn=Y.one("#"+this._id+"_check_all"),this._inputs=Y.all('input[type="checkbox"][id^="'+this._id+'_rdList"]');if(this._inputs.size()>0&&this._inputs._nodes[0]&&this._inputs._nodes[0].getAttribute("rdLevel")){this._isHierarchical=!0;var n=document.querySelectorAll('[rdLeaf][id^="'+this._id+'_rdList"]');this._leafNodes=n.length}this._inputs.size()>0&&this._inputs.item(0).get("id").indexOf("check_all")!=-1&&(this._inputs=this._inputs.slice(1,this._inputs.size())),this._checkAllBtn&&(this._multiple==0||this._inputs.size()<=1?this._checkAllBtn.get("parentNode").hide():this._checkAllIsVisible=!0),this._noneSelectedText=this._container.getAttribute("data-noneselected-caption"),this._selectedText=this._container.getAttribute("data-selected-caption");if(this._isDropdown===!0){this._dropDownHandler=Y.one("#"+this._id+"_handler"),this._caption=this._dropDownHandler.one("span.rd-checkboxlist-caption"),this._img=this._dropDownHandler.one("span.rd-checkboxlist-icon"),this._spacer=Y.Node.create('<img style="height:1px;" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" alt="""" />'),this._container.append(this._spacer),this._docClickHandle=Y.one("document").on("mousedown",function(e){this.onDocMouseDown(e)},this),this._dropDownHandle=this._dropDownHandler.on("click",function(e){this.togglePopup(e)},this),this._isIE=this.detectIE(),this._sLastDropdownQF="",this._dataTRNode=Y.one("#"+this._id+"_container>tbody>tr")._node;var r=this._container.getAttribute("data-columns"),i=Y.Node.create('<input type="text" id="'+this._id+'_QK"/>');this._dropdownQFHandler=i.on("keyup",function(e){this.quickFilterForDropdown(e)},this),this._dropdownInput=i._node;var s=Y.Node.create('<tr><td colspan="'+r+'"></td></tr>');s._node.firstChild.appendChild(this._dropdownInput),this._dataTRNode.parentNode.insertBefore(s._node,this._dataTRNode)}this._checkAllIsVisible===!0&&(this._handleCheckAll=this._checkAllBtn.on("click",function(e){this.onCheckAllClicked(e)},this)),this._inputsHandle=this._inputs.on("click",function(e){this.onCheckboxClicked(e)},this);if(Y.Lang.isValue(LogiXML)&&Y.Lang.isValue(LogiXML.Ajax)){var o=this._id;LogiXML.Ajax.AjaxTarget().on("reinitialize",function(e){var t=Y.one("#"+o);Y.Lang.isValue(t)&&t.plug(Y.LogiXML.rdInputCheckList)})}var u=["data-action-onclick","data-action-onchange"],a,f=u.length,l;this._actions=[];for(a=0;a<f;a++)l=this._container.getAttribute(u[a]),LogiXML.String.isNotBlank(l)&&l.indexOf("javascript:")==0&&(l=l.substring("javascript:".length)),this._actions.push(l.replace(/'/g,'"'));var c=this._container.getAttribute("data-list-captions-element-id");if(c&&c.value!==""){this._listCaptionsElementId=c;var h=Y.one("#"+this._id),p="#"+this._id+"_check_all",d='input[type="checkbox"]:not('+p+")",v=this.populateHiddenCaption,m=this._id;this._onchangeHandlers.push(h.delegate("change",function(){v(m)},d)),this.populateHiddenCaption(this._id)}var g=document.getElementById(this._id+"_rdExpandedCollapsedHistory").value;g!=""&&this.restoreCheckboxState(g);var y=document.querySelectorAll("[rdExpanded]");if(this._isHierarchical)for(a=0;a<y.length;a++)y[a].getAttribute("rdLevel")=="1"&&this.initializeExpandCollapse(y[a],!1);this.onCheckboxClicked(null),document.getElementById(this._id+"_hideWaiting").style.display="",this._isDropdown&&this._container.ancestor(".rdResponsiveColumn")&&this._dropDownHandler.setStyle("max-width","100%")},destructor:function(){this._handleCheckAll&&(this._handleCheckAll.detach(),this._handleCheckAll=null),this._dropDownHandle&&(this._dropDownHandle.detach(),this._dropDownHandle=null),this._inputsHandle&&(this._inputsHandle.detach(),this._inputsHandle=null),this._docClickHandle&&(this._docClickHandle.detach(),this._docClickHandle=null),this._dropdownQFHandler&&(this._dropdownQFHandler.detach(),this._dropdownQFHandler=null);if(this._onchangeHandlers){var e=0;length=this._onchangeHandlers.length;for(;e<length;e++)this._onchangeHandlers[e].detach();this._onchangeHandlers=null}},setCheckboxOpacity:function(e,t){e.getAttribute("rdChecked")=="some"?Y.one(e).setStyle("opacity","0.3"):Y.one(e).setStyle("opacity","1.0")},onCheckAllClicked:function(e){var t=e.currentTarget.get("checked"),n=this._listCaptionsElementId!=="",r=this._listCaptionsElementId;n&&Y.one("#"+this._listCaptionsElementId).set("value",""),this._inputs.each(function(e){var n=e.getAttribute("rdLevel");e.set("checked",t),n!=""&&(t?(e.set("rdChecked","all"),Y.one(e).setStyle("opacity","1.0")):(e.set("rdChecked","none"),Y.one(e).setStyle("opacity","1.0")))}),this.populateHiddenCaption(this._id),this.onCheckboxClicked({checkall:!0})},open:function(){if(this._isOpen===!0)return;var e=this._dropDownHandler.get("offsetWidth"),t=this._dropDownHandler.getXY();t[1]+=this._dropDownHandler.get("offsetHeight");var n="",r=Y.one(this._container),i=r.ancestor(".rdDashboardPanel");i&&i.getDOMNode()&&(i.getDOMNode().setAttribute("oldOpacity",i.getDOMNode().style.opacity),i.getDOMNode().style.opacity=null,n="fixed"),this._container._node.style.removeProperty("position"),this._container.setStyles({position:n||"absolute",display:"block"}),this._container.setXY(t),this.setPopupWidth(),this._isOpen=!0;var s=this._container.ancestor(".rdResponsiveColumn");s&&s.ancestor(".rd-gridsystem-scrollbar-horizontalScrollbar")&&s.setStyle("overflow-x","visible"),window.resizeCurrentIframe&&resizeCurrentIframe()},close:function(e){if(this._isOpen){this._container.hide(),this._isOpen=!1;var t=Y.one(this._container),n=t.ancestor(".rdDashboardPanel");n&&n.getDOMNode()&&(n.getDOMNode().style.opacity=n.getDOMNode().getAttribute("oldOpacity")),this._sLastDropdownQF.length>0&&(this._dropdownInput.value="",this.actualQuickFilterForDropDown(""))}},togglePopup:function(){this._isOpen?this.close():this.open()},setPopupWidth:function(){var e=this._dropDownHandler.get("offsetWidth");this._spacer.setStyle("width",e+"px");var t=this._container.get("offsetWidth"),n=t-e;n>0&&this._spacer.setStyle("width",e-n+"px")},onDocMouseDown:function(e){this._isOpen&&e.target!==this._dropDownHandler&&!this._dropDownHandler.contains(e.target)&&!this._container.contains(e.target)&&this.close()},populateHiddenCaption:function(e){var t=Y.one("#"+e),n=Y.one("#"+t.getAttribute("data-list-captions-element-id"));if(n){var r="",i="#"+e+"_check_all",s='input[type="checkbox"]:not('+i+")",o=t.all(s);if(o&&o.size()>0){for(var u=0;u<o.size();u++)if(o.item(u).get("checked")&&!o.item(u).hasAttribute("rdExpanded")){var a=o.item(u).ancestor();r+=LogiXML.decodeHtml(a.one("span").get("innerHTML"),!0).concat(", ")}r=r.substring(0,r.length-2)}n.set("value",r)}},populateHiddenInput:function(e){var t=Y.one("#"+e),n=Y.one("#rdICL-"+e),r="",i=[],s="#"+e+"_check_all",o='input[type="checkbox"]:not('+s+")",u=t.all(o);if(u&&u.size()>0){for(var a=0;a<u.size();a++)if(u.item(a).get("checked")&&!u.item(a).hasAttribute("rdExpanded")){var f=u.item(a),l=f.get("value");i.indexOf(l)==-1&&i.push(l)}var c=this._container.getAttribute("data-delimiter");c||(c=this._container.getAttribute("rdinputvaluedelimiter"),c||(c=","));if(LogiXML.rdInputTextDelimiter){var h=this._container.getAttribute("data-qualifier"),p=this._container.getAttribute("data-escape");r=LogiXML.rdInputTextDelimiter.delimit(i,c,h,p)}else r=i.join(c)}n.set("value",r)},uncheckAllChildren:function(e){var t=e.getAttribute("rdLevel");e.setAttribute("rdChecked","none");var n=t,r=e.parentNode.parentNode.nextSibling;while(r){var i;for(var s=0;s<r.childNodes[0].childNodes.length;s++)if(r.childNodes[0].childNodes[s].tagName=="INPUT"){i=r.childNodes[0].childNodes[s];break}if(parseInt(i.getAttribute("rdLevel"),10)<=parseInt(t,10))break;parseInt(i.getAttribute("rdLevel"),10)>=parseInt(t,10)+1&&(i.checked=!1,i.setAttribute("rdChecked","none"),this.uncheckAllChildren(i)),r=r.nextSibling}},uncheckAllParents:function(e){var t=e.getAttribute("rdLevel"),n=parseInt(t,10)-1,r=e.parentNode.parentNode.previousSibling;while(r){var i;for(var s=0;s<r.childNodes[0].childNodes.length;s++)if(r.childNodes[0].childNodes[s].tagName=="INPUT"){i=r.childNodes[0].childNodes[s];break}if(parseInt(i.getAttribute("rdLevel"),10)==n){this.someChildrenChecked(i)===!0?(i.setAttribute("rdChecked","some"),i.checked=!0,this.setCheckboxOpacity(i,"0.3")):(i.checked=!1,i.setAttribute("rdChecked","none"),this.setCheckboxOpacity(i,"0.0")),this.uncheckAllParents(i);break}r=r.previousSibling}},checkAllChildren:function(e){var t=e.getAttribute("rdLevel");e.setAttribute("rdChecked","all");var n=t,r=e.parentNode.parentNode.nextSibling;while(r){var i;for(var s=0;s<r.childNodes[0].childNodes.length;s++)if(r.childNodes[0].childNodes[s].tagName=="INPUT"){i=r.childNodes[0].childNodes[s];break}if(parseInt(i.getAttribute("rdLevel"),10)<=parseInt(t,10))break;parseInt(i.getAttribute("rdLevel"),10)>=parseInt(t,10)+1&&(i.checked=!0,i.setAttribute("rdChecked","all"),this.setCheckboxOpacity(i,"0.0"),this.checkAllChildren(i)),r=r.nextSibling}},initializeExpandCollapse:function(e,t){var n=parseInt(e.getAttribute("rdLevel"),10),r=n+1,i=e.parentNode.parentNode.nextSibling,s;e.getAttribute("rdExpanded")=="true"?s="":(t=!0,s="none");while(i){var o;for(var u=0;u<i.childNodes[0].childNodes.length;u++)if(i.childNodes[0].childNodes[u].tagName=="INPUT"){o=i.childNodes[0].childNodes[u];break}if(parseInt(o.getAttribute("rdLevel"),10)==r)i.style.display=s,this.initializeExpandCollapse(o,t);else if(parseInt(o.getAttribute("rdLevel"),10)>r&&t)i.style.display="none";else if(parseInt(o.getAttribute("rdLevel"),10)<r)break;i=i.nextSibling}},expandCollapseChildren:function(e){var t=parseInt(e.getAttribute("rdLevel"),10),n=t+1,r=e.parentNode.parentNode.nextSibling,i;e.getAttribute("rdExpanded")=="true"?i="":i="none";while(r){var s;for(var o=0;o<r.childNodes[0].childNodes.length;o++)if(r.childNodes[0].childNodes[o].tagName=="INPUT"){s=r.childNodes[0].childNodes[o];break}if(parseInt(s.getAttribute("rdLevel"),10)==n&&i=="")r.style.display=i,s.getAttribute("rdExpanded")=="true"&&this.expandCollapseChildren(s);else if(parseInt(s.getAttribute("rdLevel"),10)>=n&&i=="none")r.style.display=i;else if(parseInt(s.getAttribute("rdLevel"),10)<n)break;r=r.nextSibling}},restoreCheckboxState:function(e){var t=document.getElementById(this._id+"_rdExpandedCollapsedHistory").value.split(",");for(var n=0;n<t.length;n++){var r=t[n].split(":"),i=document.getElementById(r[0]);i&&(r[1]=="expanded"&&i.getAttribute("rdExpanded")=="false"?i.previousSibling.firstChild.firstChild.firstChild.click():i.getAttribute("rdExpanded")=="true"&&r[1]=="collapsed"&&i.previousSibling.firstChild.childNodes[1].firstChild.click())}},checkAllParents:function(e){var t=e.getAttribute("rdLevel"),n=parseInt(t,10)-1,r=e.parentNode.parentNode.previousSibling;while(r){var i;for(var s=0;s<r.childNodes[0].childNodes.length;s++)if(r.childNodes[0].childNodes[s].tagName=="INPUT"){i=r.childNodes[0].childNodes[s];break}if(parseInt(i.getAttribute("rdLevel"),10)==n){this.allChildrenChecked(i)===!0?(i.setAttribute("rdChecked","all"),i.checked=!0,this.setCheckboxOpacity(i,"0.0")):(i.checked=!0,i.setAttribute("rdChecked","some"),this.setCheckboxOpacity(i,"0.3")),this.checkAllParents(i);break}r=r.previousSibling}},allChildrenChecked:function(e){var t=e.getAttribute("rdLevel"),n=t,r=e.parentNode.parentNode.nextSibling;while(r){var i;for(var s=0;s<r.childNodes[0].childNodes.length;s++)if(r.childNodes[0].childNodes[s].tagName=="INPUT"){i=r.childNodes[0].childNodes[s];break}if(parseInt(i.getAttribute("rdLevel"),10)>t&&i.getAttribute("rdChecked")!="all")return!1;if(parseInt(i.getAttribute("rdLevel"),10)<=t)break;r=r.nextSibling}return!0},someChildrenChecked:function(e){var t=parseInt(e.getAttribute("rdLevel"),10),n=e.parentNode.parentNode.nextSibling;while(n){var r;for(var i=0;i<n.childNodes[0].childNodes.length;i++)if(n.childNodes[0].childNodes[i].tagName=="INPUT"){r=n.childNodes[0].childNodes[i];break}if(parseInt(r.getAttribute("rdLevel"),10)>t&&r.getAttribute("rdChecked")!="none")return!0;if(parseInt(r.getAttribute("rdLevel"),10)<=t)break;n=n.nextSibling}return!1},detectIE:function(){return LogiXML.isIE()?!0:window.navigator.userAgent.indexOf("Edge/")>0},actualQuickFilterForDropDown:function(e){var t=this._inputs.size();if(t==0)return;if(this._sLastDropdownQF==e)return;var n=e.length>0,r;this._isIE?("In IE, set display:none is faster than removechild.",r=this._dataTRNode.getAttribute("display"),this._dataTRNode.setAttribute("display","none")):(r=this._dataTRNode.parentNode,r.removeChild(this._dataTRNode));try{var i=this._container.getAttribute("data-columns"),s;n?this._checkAllBtn&&this._checkAllIsVisible&&(this._checkAllBtn.get("parentNode").hide(),this._checkAllIsVisible=!1,this._sLastDropdownQF=e):this._checkAllBtn&&this._checkAllIsVisible==0&&this._multiple&&t>1&&(this._checkAllBtn.get("parentNode").show(),this._checkAllIsVisible=!0);if(i==1)if(n)for(var o=0;o<t;o++){var u=this._inputs.item(o),a=u.get("parentNode"),f=u._node.nextElementSibling.textContent;f.toLowerCase().indexOf(e)>=0?a._isHidden()&&a.show():(a._isHidden()||a.hide(),this._sLastDropdownQF=e)}else for(var o=0;o<t;o++){var u=this._inputs.item(o),a=u.get("parentNode");a._isHidden()&&a.show()}else{var l=this._dataTRNode.firstElementChild;for(var o=0,c=0;o<t;o++){var u=this._inputs.item(o),h=u.get("parentNode"),p=!1;if(n){var f=u._node.nextElementSibling.textContent;p=f.toLowerCase().indexOf(e)>=0}else p=!0;if(p){h._isHidden()&&h.show();var d=h._node.parentNode;d.parentNode.removeChild(d),l.firstElementChild.appendChild(d),c++,c<i?l=l.nextElementSibling:(c=0,l=this._dataTRNode.firstElementChild)}else h._isHidden()||h.hide()}this._sLastDropdownQF=e}n||(this._sLastDropdownQF="")}finally{this._isIE?r?this._dataTRNode.setAttribute("display",r):this._dataTRNode.removeAttribute("display"):r.appendChild(this._dataTRNode)}},quickFilterForDropdown:function(e){var t=this._dropdownInput.value,n=this._container.getAttribute("data-delimiter");n||(n=this._container.getAttribute("rdinputvaluedelimiter"),n||(n=","));var r;if(LogiXML.rdInputTextDelimiter){var i=this._container.getAttribute("data-qualifier"),s=this._container.getAttribute("data-escape");r=LogiXML.rdInputTextDelimiter.getEntries(t,n,i,s)}else{var o=text.split(/\s*,\s*/);r=o[o.length-1]}r.length>0?this.actualQuickFilterForDropDown(r[0].toLowerCase()):this.actualQuickFilterForDropDown("")},onCheckboxClicked:function(e){var checked=[],id=this._id;if(e&&e.currentTarget&&this._isHierarchical){var targetNode=e.currentTarget._node;targetNode.checked===!0&&targetNode.getAttribute("rdChecked")!="some"?(targetNode.setAttribute("rdChecked","all"),this.setCheckboxOpacity(targetNode,"0.0"),this.checkAllChildren(targetNode),this.checkAllParents(targetNode)):targetNode.checked===!1&&targetNode.getAttribute("rdChecked")=="some"?(targetNode.checked=!0,targetNode.setAttribute("rdChecked","all"),this.setCheckboxOpacity(targetNode,"0.0"),this.checkAllChildren(targetNode),this.checkAllParents(targetNode)):(targetNode.setAttribute("rdChecked","none"),this.uncheckAllChildren(targetNode),this.uncheckAllParents(targetNode));var checkboxStateHidden=document.getElementById(id+"_rdCheckboxState");if(checkboxStateHidden){var stateString="";if(LogiXML.rdInputTextDelimiter){var stateArray=[];this._inputs.each(function(e){var t=e._node.value;stateArray.push(e._node.getAttribute("rdLevel")+":"+e._node.getAttribute("rdChecked")+":"+t)}),stateString=LogiXML.rdInputTextDelimiter.delimit(stateArray,",",'"',"\\")}else this._inputs.each(function(e){stateString+=e._node.getAttribute("rdLevel")+":"+e._node.getAttribute("rdChecked")+":"+e._node.value.replace(/,/g,"")+","});checkboxStateHidden.value=stateString}}if(this._isHierarchical){this._inputs.each(function(e){e.get("checked")===!0&&e.get("name")===id&&e.getAttribute("rdLeaf")=="true"&&(checked.push(e),e._node.setAttribute("rdChecked","all"))});if(e==null)for(var i=0;i<checked.length;i++)this.checkAllParents(checked[i]._node)}else this._inputs.each(function(e){e.get("checked")===!0&&e.get("name")===id&&checked.push(e)});var i,caption="",length=checked.length;if(this._multiple==0&&e){for(i=0;i<length;i++)checked[i]!=e.currentTarget&&checked[i].set("checked",!1);checked=[],length=0,e.currentTarget.get("checked")==1&&(checked.push(e.currentTarget),length=1)}if(this._checkAllIsVisible){var inputSize=this._inputs.size();this._isHierarchical&&(inputSize=this._leafNodes),checked.length==inputSize?this._checkAllBtn.set("checked",!0):this._checkAllBtn.set("checked",!1)}if(this._isDropdown==1){for(i=0;i<length;i++)i>0&&(caption+=", "),caption+=checked[i].get("parentNode").one("span").get("text");this.setCaption(caption,checked)}this.populateHiddenInput(this._id);if(e&&this._actions.length>0){this.populateHiddenCaption(this._id);for(i=0;i<this._actions.length;i++)eval(this._actions[i])}},setCaption:function(e,t){if(e==""){this._caption.set("text",this._noneSelectedText);return}this._dropDownHandler.setStyle("position","absolute");var n=getCustomCssProperty(this._dropDownHandler.getAttribute("style"),"width");if(n&&n.indexOf("%")==-1){this._caption.hide();var r=Y.Node.create('<span style="visibility: hidden;">0</span>');this._dropDownHandler.append(r);var i=r.get("offsetHeight");r.set("text",e);var s=r.get("offsetWidth"),o=r.get("offsetHeight");this._dropDownHandler.removeChild(r),r.destroy(),this._caption.show();var u=this._dropDownHandler.get("offsetWidth")-this._img.get("offsetWidth"),a=this._caption.getX()-this._dropDownHandler.getX();u-=a*2,u>s&&i==o?this._caption.set("text",e):this._caption.set("text",this._selectedText.replace("#",t.length).replace("#",this._inputs._nodes.length))}else n&&n.indexOf("%")!=-1&&this._container&&this._container._node&&this._container._node.clientWidth?LogiXML.layout.getTextDimensions(e,{}).width<this._container._node.clientWidth?this._caption.set("text",e):this._caption.set("text",this._selectedText.replace("#",t.length).replace("#",this._inputs._nodes.length)):LogiXML.layout.getTextDimensions(e,{}).width<LogiXML.layout.getTextDimensions("",{},this._dropDownHandler.getAttribute("class")).width?this._caption.set("text",e):this._caption.set("text",this._selectedText.replace("#",t.length).replace("#",this._inputs._nodes.length));this._dropDownHandler.setStyle("position","relative")}},{NAME:"rdInputCheckList",NS:"rdInputCheckList",ATTRS:{}})},"1.0.0",{requires:["base","plugin","json"]}),this.LogiXML===undefined?(this.LogiXML={},this.LogiXML.rd={}):this.LogiXML.rd===undefined&&(this.LogiXML.rd={}),LogiXML.rd.setInputElementListValue=function(e,t){var n=Y.one("#"+e);if(!Y.Lang.isValue(n))return;var r=n.getAttribute("rdInputValueDelimiter");r||(r=",");var i;LogiXML.rdInputTextDelimiter?i=LogiXML.rdInputTextDelimiter.getEntries(t,r,'"',"\\",!1):(t=t.replace(", ",","),i=t.split(r));var s=n.all("[id^="+e+"_rdList]"),o,u=s.size(),a="",f=!1,l=!1,c;for(o=0;o<u;o++){a=s.item(o).getAttribute("type");switch(a){case"checkbox":c=s.item(o);var h,p=c._node&&c._node.tagName=="SPAN"?c._node.nextElementSibling:null;p?h=p.innerText:h=c.get("value"),Y.Array.indexOf(i,h)!=-1?(c.set("checked",!0),l=!0):(c.set("checked",!1),f=!0)}}var d=n.all("[id^="+e+"_check_all]");if(d){var u=d.size();if(u>0){var a=d.item(0).getAttribute("type");"checkbox"==a&&(c=d.item(0),c.set("checked",l&&!f))}}n.rdInputCheckList&&n.rdInputCheckList.populateHiddenInput&&n.rdInputCheckList.populateHiddenInput(e)};

/* 
* rdInputSelectList/rdInputSelectList.js 
*/
YUI.add("rd-inputSelectList-plugin",function(e){e.namespace("LogiXML").rdInputSelectList=e.Base.create("rdInputSelectList",e.Plugin.Base,[],{_listCaptionsElementId:"",_onchangeHandlers:[],initializer:function(){this._container=this.get("host"),this._id=this._container.getAttribute("id");if(!e.Lang.isValue(this._container)||!e.Lang.isValue(this._id))return;var t=this._container.getAttribute("data-list-captions-element-id");if(t&&t.value!==""){this._listCaptionsElementId=t;var n=e.one("#"+this._id),r=e.one("#"+t);if(r&&n){this.populateHiddenCaption(r,n._node);var i=this.populateHiddenCaption;this._onchangeHandlers.push(n.on("change",function(n){i(e.one("#"+t),n._currentTarget)}))}}},destructor:function(){if(this._onchangeHandlers){for(var e=this._onchangeHandlers.length-1;e>=0;e--)this._onchangeHandlers[e].evt.el?this._onchangeHandlers[e].evt.el.id==this._id&&(this._onchangeHandlers[e].detach(),this._onchangeHandlers.splice(e,1)):(this._onchangeHandlers[e].detach(),this._onchangeHandlers.splice(e,1));this._onchangeHandlers=null}},populateHiddenCaption:function(e,t){e.set("value","");if(t&&t.length>0){var n="";for(var r=0;r<t.length;r++)t[r].selected&&(n+=LogiXML.decodeHtml(t[r].innerHTML.concat(", "),!0));n=n.substring(0,n.length-2),e.set("value",n)}}},{NAME:"rdInputSelectList",NS:"rdInputSelectList",ATTRS:{}})},"1.0.0",{requires:["base","plugin","json"]});

/* 
* rdYui/colorHelper.js 
*/
// Color object
window.LogiXML.Color=function(e,t){this.value={h:0,s:0,b:0,a:1},this.origFormat=null,t&&(Y.extend(this.colors,Y.Base,t),this.colors=this.colors.prototype),e&&(e.toLowerCase!==undefined?(e+="",this.setColor(e)):e.h!==undefined&&(this.value=e))},window.LogiXML.Color.prototype={constructor:window.LogiXML.Color,colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32",transparent:"transparent"},_sanitizeNumber:function(e){return typeof e=="number"?e:isNaN(e)||e===null||e===""||e===undefined?1:e.toLowerCase!==undefined?parseFloat(e):1},isTransparent:function(e){return e?(e=e.toLowerCase().trim(),e==="transparent"||e.match(/#?00000000/)||e.match(/(rgba|hsla)\(0,0,0,0?\.?0\)/)):!1},rgbaIsTransparent:function(e){return e.r===0&&e.g===0&&e.b===0&&e.a===0},setColor:function(e){e=e.toLowerCase().trim(),e&&(this.isTransparent(e)?this.value={h:0,s:0,b:0,a:0}:this.value=this.stringToHSB(e)||{h:0,s:0,b:0,a:1})},stringToHSB:function(e){e=e.toLowerCase();var t;typeof this.colors[e]!="undefined"&&(e=this.colors[e],t="alias");var n=this,r=!1;return Y.each(this.stringParsers,function(i,s){var o=i.re.exec(e),u=o&&i.parse.apply(n,[o]),a=t||i.format||"rgba";return u?(a.match(/hsla?/)?r=n.RGBtoHSB.apply(n,n.HSLtoRGB.apply(n,u)):r=n.RGBtoHSB.apply(n,u),n.origFormat=a,!1):!0}),r},setHue:function(e){this.value.h=1-e},setSaturation:function(e){this.value.s=e},setBrightness:function(e){this.value.b=1-e},setAlpha:function(e){this.value.a=parseInt((1-e)*100,10)/100},toRGB:function(e,t,n,r){typeof e=="undefined"&&(e=this.value.h,t=this.value.s,n=this.value.b),e*=360;var i,s,o,u,a;return e=e%360/60,a=n*t,u=a*(1-Math.abs(e%2-1)),i=s=o=n-a,e=~~e,i+=[a,u,0,0,u,a][e],s+=[u,a,a,u,0,0][e],o+=[0,0,u,a,a,u][e],{r:Math.round(i*255),g:Math.round(s*255),b:Math.round(o*255),a:r||this.value.a}},toHex:function(e,t,n,r){var i=this.toRGB(e,t,n,r);return this.rgbaIsTransparent(i)?"transparent":"#"+(1<<24|parseInt(i.r)<<16|parseInt(i.g)<<8|parseInt(i.b)).toString(16).substr(1)},toHSL:function(e,t,n,r){e=e||this.value.h,t=t||this.value.s,n=n||this.value.b,r=r||this.value.a;var i=e,s=(2-t)*n,o=t*n;return s>0&&s<=1?o/=s:o/=2-s,s/=2,o>1&&(o=1),{h:isNaN(i)?0:i,s:isNaN(o)?0:o,l:isNaN(s)?0:s,a:isNaN(r)?0:r}},toAlias:function(e,t,n,r){var i=this.toHex(e,t,n,r);for(var s in this.colors)if(this.colors[s]===i)return s;return!1},RGBtoHSB:function(e,t,n,r){e/=255,t/=255,n/=255;var i,s,o,u;return o=Math.max(e,t,n),u=o-Math.min(e,t,n),i=u===0?null:o===e?(t-n)/u:o===t?(n-e)/u+2:(e-t)/u+4,i=(i+360)%6*60/360,s=u===0?0:u/o,{h:this._sanitizeNumber(i),s:s,b:o,a:this._sanitizeNumber(r)}},HueToRGB:function(e,t,n){return n<0?n+=1:n>1&&(n-=1),n*6<1?e+(t-e)*n*6:n*2<1?t:n*3<2?e+(t-e)*(2/3-n)*6:e},HSLtoRGB:function(e,t,n,r){t<0&&(t=0);var i;n<=.5?i=n*(1+t):i=n+t-n*t;var s=2*n-i,o=e+1/3,u=e,a=e-1/3,f=Math.round(this.HueToRGB(s,i,o)*255),l=Math.round(this.HueToRGB(s,i,u)*255),c=Math.round(this.HueToRGB(s,i,a)*255);return[f,l,c,this._sanitizeNumber(r)]},toString:function(e){e=e||"rgba";var t=!1;switch(e){case"rgb":return t=this.toRGB(),this.rgbaIsTransparent(t)?"transparent":"rgb("+t.r+","+t.g+","+t.b+")";case"rgba":return t=this.toRGB(),"rgba("+t.r+","+t.g+","+t.b+","+t.a+")";case"hsl":return t=this.toHSL(),"hsl("+Math.round(t.h*360)+","+Math.round(t.s*100)+"%,"+Math.round(t.l*100)+"%)";case"hsla":return t=this.toHSL(),"hsla("+Math.round(t.h*360)+","+Math.round(t.s*100)+"%,"+Math.round(t.l*100)+"%,"+t.a+")";case"hex":return this.toHex();case"alias":return this.toAlias()||this.toHex();default:return t}},stringParsers:[{re:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*?\)/,format:"rgb",parse:function(e){return[e[1],e[2],e[3],1]}},{re:/rgb\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,format:"rgb",parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],1]}},{re:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/hsl\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,format:"hsl",parse:function(e){return[e[1]/360,e[2]/100,e[3]/100,e[4]]}},{re:/hsla\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"hsla",parse:function(e){return[e[1]/360,e[2]/100,e[3]/100,e[4]]}},{re:/#?([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,format:"hex",parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),1]}},{re:/^#?([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])$/,format:"hex",parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),1]}}],colorNameToHex:function(e){return typeof this.colors[e.toLowerCase()]!="undefined"?this.colors[e.toLowerCase()]:!1}};

/* 
* rdYui/rdInputColorPicker.js 
*/
YUI.add("rdInputColorPicker",function(Y){"use strict";var Lang=Y.Lang,TRIGGER="rdInputColorPicker";LogiXML.Ajax.AjaxTarget&&LogiXML.Ajax.AjaxTarget().on("reinitialize",function(){Y.LogiXML.rdInputColorPicker.createElements(!0)}),Y.LogiXML.Node.destroyClassKeys.push(TRIGGER),Y.namespace("LogiXML").rdInputColorPicker=Y.Base.create("rdInputColorPicker",Y.Base,[],{_handlers:{},id:null,configNode:null,capacity:10,colors:["#000000","#434343","#666666","#999999","#B7B7B7","#CCCCCC","#D9D9D9","#EFEFEF","#F3F3F3","#FFFFFF","#980000","#FF0000","#FF9900","#FFFF00","#00FF00","#00FFFF","#4A86E8","#0000FF","#9900FF","#FF00FF","#E6B8AF","#F4CCCC","#FCE5CD","#FFF2CC","#D9EAD3","#D0E0E3","#C9DAF8","#CFE2F3","#D9D2E9","#EAD1DC","#DD7E6B","#EA9999","#F9CB9C","#FFE599","#B6D7A8","#A2C4C9","#A4C2F4","#9FC5E8","#B4A7D6","#D5A6BD","#CC4125","#E06666","#F6B26B","#FFD966","#93C47D","#76A5AF","#6D9EEB","#6FA8DC","#8E7CC3","#C27BA0","#A61C00","#CC0000","#E69138","#F1C232","#6AA84F","#45818E","#3C78D8","#3D85C6","#674EA7","#A64D79","#85200C","#990000","#B45F06","#BF9000","#38761D","#134F5C","#1155CC","#0B5394","#351C75","#741B47","#5B0F00","#660000","#783F04","#7F6000","#274E13","#0C343D","#1C4587","#073763","#20124D","#4C1130"],customColors:[],tileTemplate:'<td style="width: 12px;" class="rdColorPanelHolder" id="colColor" onclick="javascript:Y.LogiXML.rdInputColorPicker.PickColor(this,event);"><a href="javascript:void(0)" tabindex="0" id="<%rdTileID%>" onkeydown="Y.LogiXML.rdInputColorPicker.moveFocusOnArrow(event,<%rdColorPickerID%>,<%left%>,<%right%>,<%top%>,<%bottom%>);"><div style="width:11px;height:11px;border-width:1px;border-style:solid;border-color:#FFFFFF;background-color:<%color%>;" class="rdColorPanel"></div></a></td>',allowAlpha:!1,oldValue:"",changeHandler:"",defaults:{horizontal:!1,inline:!1,color:!1,format:!1,input:"input",container:!1,component:".add-on, .input-group-addon",sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},alpha:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"}},slidersHorz:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:100,maxTop:0,callLeft:"setHue",callTop:!1},alpha:{maxLeft:100,maxTop:0,callLeft:"setAlpha",callTop:!1}},template:'<div class="colorpicker colorpicker-dropdown-menu"><div class="colorpicker-saturation"><i><b></b></i></div><div class="colorpicker-hue"><i></i></div><div class="colorpicker-alpha"><i></i></div><div class="colorpicker-color"><div /></div><div class="colorpicker-selectors"></div></div>',align:"right",customClass:null,colorSelectors:null},initializer:function(e){var t=this;this._parseHTMLConfig(),this.configNode.setData(TRIGGER,this);var n=this.configNode.one("#colorPicker_"+this.id),r=Y.one("#rectColorIndicator_"+this.id);n&&(this._handlers.click=n.on("click",this.click,this)),this._handlers.click=r.on("click",this.click,this),r.setStyle("cursor","pointer");var i=rdGetLocalStorage("rdDefaultValue_"+this.id);i&&r.getStyle("backgroundColor")=="transparent"&&r.setStyle("backgroundColor",i),this.element=Y.one("input#"+this.id),this.element.addClass("colorpicker-element"),this.options={},Y.extend(this.options,Y.Base,this.defaults,this.element.getData("color")),this.options=this.options.prototype,this.component=this.options.component,this.component=this.component!==!1?this.element.one(this.component):!1,this.component||(this.component=!1),this.container=this.options.container===!0?this.element:this.options.container,this.container=this.container!==!1?Y.one(this.container):!1,this.input=this.element.get("nodeName").toLowerCase()=="input"?this.element:this.options.input?this.element.one(this.options.input):!1,this.input&&this.input.length===0&&(this.input=!1),this.color=new window.LogiXML.Color(this.options.color!==!1?this.options.color:this.getValue(),this.options.colorSelectors),this.format=this.options.format!==!1?this.options.format:this.color.origFormat,this.picker=Y.Node.create(this.options.template),this.options.customClass&&this.picker.addClass(this.options.customClass),this.options.inline?this.picker.addClass("colorpicker-inline colorpicker-visible"):this.picker.addClass("colorpicker-hidden"),this.options.horizontal&&this.picker.addClass("colorpicker-horizontal"),(this.format==="rgba"||this.format==="hsla"||this.options.format===!1)&&this.allowAlpha&&this.picker.addClass("colorpicker-with-alpha"),this.options.align==="right"&&this.picker.addClass("colorpicker-right"),this._handlers.pickerMouseDown=this.picker.on("mousedown",this.mousedown,this),this._handlers.pickerTouchstart=this.picker.on("touchstart",this.mousedown,this),this.input!==!1&&(this._handlers.inputKeyUp=this.input.on("change",this.onInputChangeUpdate,this)),this._handlers.lostFocus=this.input.on("blur",this.lostfocus,this),this._handlers.gotFocus=this.input.on("focus",this.gotfocus,this),this.component!==!1&&(this._handlers.componentClick=this.component.on("click",this.show,this)),this.input===!1&&this.component===!1&&(this._handlers.elementClick=this.element.on("click",this.show,this)),this.input!==!1&&this.component!==!1&&this.input.attr("type")==="color"&&(this._handlers.inputClick=this.input.on("click",this.show,this),this._handlers.inputFocus=this.input.on("focus",this.show,this)),this.update()},gotfocus:function(e){this.oldValue=this.input.get("value")},lostfocus:function(e){this.oldValue.toUpperCase()!==this.input.get("value").toUpperCase()&&(this.changeHandler!=""&&eval(this.changeHandler),this.input.getDOMNode().onchange&&this.input.getDOMNode().onchange()),this.oldValue=this.input.get("value")},click:function(e){this.inited||(this.initializePopup(),this.inited=!0);var t="colorPicker_"+this.id,n=document.getElementById(t);n||(n=document.getElementById("rectColorIndicator_"+this.id)),ShowElement(t,"ppColors_"+this.id,"Show"),Y.LogiXML.rdInputColorPicker.addOnblurToColorpicker(n),Y.LogiXML.rdInputColorPicker.setFocusToPopup(n,e),this.gotfocus(),this.update()},initializePopup:function(){var e=this.buildPopup(this.colors,this.capacity),t=Y.one("#"+"ppColors_{0}".format(this.id));this.show();var n=t.one("#ppTiles_{0}".format(this.id)).appendChild(Y.Node.create("<tbody/>"));t.one("#ppSaturation_{0}".format(this.id)).appendChild(this.picker),n.appendChild(Y.Node.create(e));var r=this.buildPopup(this.customColors,this.capacity*2),i=t.one("#ppCustomPalette_{0}".format(this.id));i.setContent(r);var s=this.configNode.one("input").get("value");if(s){var o='div[style*="background-color:{0}"]'.format(s),u=t.one(o);if(u){var a=u.ancestor("td");Y.LogiXML.rdInputColorPicker.PickColor(a)}}},_parseHTMLConfig:function(){this.configNode=this.get("configNode"),this.id=this.configNode.getAttribute("id"),this.capacity=parseInt(this.configNode.getAttribute("data-capacity")||this.capacity,10);var e=this.configNode.getAttribute("data-colors");e!=""&&(this.customColors=e.split(",")),this.allowAlpha=this.configNode.getAttribute("allowAlpha").toLowerCase()=="true",this.changeHandler=this.configNode.getAttribute("data-changed")},Tile:function(e,t,n,r,i,s,o){this.rdTileID=e,this.rdColorPickerID=t,this.left=n,this.right=r,this.top=i,this.bottom=s,this.color=o},buildPopup:function(e,t){var n="",r=e.length/t;r!=Math.round(r)&&(r=Math.trunc(r)+1);var i=0;for(var s=0;s<r;s++){var o="<tr>";for(var u=0;u<t;u++){var a="null",f="null",l="null",c="null";if(s||u)a="'Color_{0}_{1}'".format(this.id,i-1);(s!=r-1||u!=t-1)&&i+1<e.length&&(c="'Color_{0}_{1}'".format(this.id,i+1)),s&&(f="'Color_{0}_{1}'".format(this.id,i-t));if(s!=r-1){var h=i+t;h<e.length&&(l="'Color_{0}_{1}'".format(this.id,h))}o+=LogiXML.TemplateEngine(this.tileTemplate,new this.Tile("Color_"+this.id+"_"+i,"'ppColors_Parent'",a,c,f,l,e[i])),i++;if(i==e.length)break}o+="</tr>",n+=o}return n},show:function(e){if(this.isDisabled())return!1;this.picker.addClass("colorpicker-visible").removeClass("colorpicker-hidden")},hide:function(){this.lostfocus()},updateData:function(e){return e=e||this.color.toString(this.format),this.element.setData("color",e),e},updateInput:function(e){e=e||this.color.toString(this.format);if(this.input!==!1){if(this.options.colorSelectors){var t=new window.LogiXML.Color(e,this.options.colorSelectors),n=t.toAlias();typeof this.options.colorSelectors[n]!="undefined"&&(e=n)}this.input.set("value",e.toUpperCase())}return e},updatePicker:function(e){e!==undefined&&(this.color=new window.LogiXML.Color(e,this.options.colorSelectors));var t=this.options.horizontal===!1?this.options.sliders:this.options.slidersHorz,n=this.picker.all("i");if(n.size()===0)return;return this.options.horizontal===!1?(t=this.options.sliders,n.item(1).setStyle("top",t.hue.maxTop*(1-this.color.value.h)+"px"),n.item(2).setStyle("top",t.alpha.maxTop*(1-this.color.value.a)+"px")):(t=this.options.slidersHorz,n.item(1).setStyle("left",t.hue.maxLeft*(1-this.color.value.h)+"px"),n.item(2).setStyle("left",t.alpha.maxLeft*(1-this.color.value.a)+"px")),n.item(0).setStyle("top",t.saturation.maxTop-this.color.value.b*t.saturation.maxTop+"px"),n.item(0).setStyle("left",this.color.value.s*t.saturation.maxLeft+"px"),this.picker.one(".colorpicker-saturation").setStyle("background-color",this.color.toHex(this.color.value.h,1,1,1)),this.picker.one(".colorpicker-alpha").setStyle("background-color",this.color.toHex()),this.picker.all(".colorpicker-color, .colorpicker-color div").setStyle("background-color",this.color.toString(this.format)),e},updateComponent:function(e){this.format&&this.format=="rgba"&&this.color&&this.color.value&&this.color.value.a===1&&(this.format="hex",this.color.origFormat="hex"),e=e||this.color.toString(this.format);if(this.component!==!1){var t=this.component.all("i").item(0);t.size()>0?t.setStyle({"background-color":e}):this.component.setStyle({"background-color":e})}var n=document.getElementById("rectColorIndicator_"+this.id);return n.style.backgroundColor=e,n.style.display="block",e},update:function(e){var t;if(this.getValue(!1)!==!1||e===!0){t=this.updateComponent(),this.updateInput(t),this.updateData(t),this.updatePicker();var n=Y.one("#"+"ppColors_{0}".format(this.id)),r=n.one("#ppTiles_{0}".format(this.id)),i="div .rdImageColorSelected",s=n.one(i);if(s){s.removeClass("rdImageColorSelected");var o=s.one(".CheckedAlignment");o&&o.setStyle("visibility","hidden")}var u=new window.LogiXML.Color(t,this.options.colorSelectors),a=u.toString("rgb").replace(/,/g,", ");t.toString().toUpperCase().indexOf("RGBA")!=-1&&(a=u.toString("rgba").replace(/,/g,", "));var f="td div[style*='background-color:{0}'], td div[style*='background-color: {1}']".format(t.toString().toUpperCase(),a),l=r.one(f);if(l){var c=l.ancestor("td");Y.LogiXML.rdInputColorPicker.PickColor(c,null,!0)}else{var h=n.one("#ppCustomPalette_{0}".format(this.id)),p=h.one(f),d;p&&(d=p.ancestor("td"),Y.LogiXML.rdInputColorPicker.PickColor(d,null,!0))}}return t},onInputChangeUpdate:function(e){var t=this.getValue(!1);return t!==!1||e===!0?(t=this.updateComponent(t),this.updateInput(t),this.updateData(t),this.updatePicker(t)):(this.color="",t=this.updateComponent(""),this.updateInput(t),this.updateData(t),this.updatePicker(t)),t},setValue:function(e){this.color=new window.LogiXML.Color(e,this.options.colorSelectors),this.update(!0)},getValue:function(e){e=e===undefined?"#000000":e;var t;this.hasInput()?t=this.input.get("value"):t=this.element.getData("color");if(t===undefined||t===""||t===null)t=e;return t},hasInput:function(){return this.input&&this.input._node},isDisabled:function(){return this.hasInput()?this.input.get("disabled")===!0:!1},disable:function(){return this.hasInput()?(this.input.set("disabled",!0),!0):!1},enable:function(){return this.hasInput()?(this.input.set("disabled",!1),!0):!1},currentSlider:{},mousePointer:{left:0,top:0},clearMouseDownAndMouseMoveEvents:function(){this._handlers.documentMouseMove&&(this._handlers.documentMouseMove.detach(),this._handlers.documentMouseMove=null),this._handlers.documentTouchmove&&(this._handlers.documentTouchmove.detach(),this._handlers.documentTouchmove=null),this._handlers.documentMouseUp&&(this._handlers.documentMouseUp.detach(),this._handlers.documentMouseUp=null),this._handlers.documentTouchend&&(this._handlers.documentTouchend.detach(),this._handlers.documentTouchend=null)},mousedown:function(e){e.stopPropagation(),e.preventDefault(),this.clearMouseDownAndMouseMoveEvents(),this.isMouseDown=!0,!e.pageX&&!e.pageY&&e.originalEvent&&(e.pageX=e.originalEvent.touches[0].pageX,e.pageY=e.originalEvent.touches[0].pageY);var t=e.target,n=t.ancestor("div",!0),r=this.options.horizontal?this.options.slidersHorz:this.options.sliders;if(!n.hasClass("colorpicker")){if(n.hasClass("colorpicker-saturation"))Y.extend(this.currentSlider,Y.Base,r.saturation);else if(n.hasClass("colorpicker-hue"))Y.extend(this.currentSlider,Y.Base,r.hue);else{if(!n.hasClass("colorpicker-alpha"))return!1;Y.extend(this.currentSlider,Y.Base,r.alpha)}this.currentSlider=this.currentSlider.prototype;var i=n.getXY();this.currentSlider.guide=n.one("i"),this.currentSlider.left=e.pageX-i[0],this.currentSlider.top=e.pageY-i[1],this.mousePointer={left:e.pageX,top:e.pageY};var s=Y.one(document);this._handlers.documentMouseMove=s.on("mousemove",this.mousemove,this),this._handlers.documentTouchmove=s.on("touchmove",this.mousemove,this),this._handlers.documentMouseUp=s.on("mouseup",this.mouseup,this),this._handlers.documentTouchend=s.on("touchend",this.mouseup,this),this.mousemove(e)}return!1},isMouseDown:!1,mousemove:function(e){e.stopPropagation(),e.preventDefault();if(!this.isMouseDown)return;!e.pageX&&!e.pageY&&e.originalEvent&&(e.pageX=e.originalEvent.touches[0].pageX,e.pageY=e.originalEvent.touches[0].pageY),e.stopPropagation(),e.preventDefault();var t=Math.max(0,Math.min(this.currentSlider.maxLeft,this.currentSlider.left+((e.pageX||this.mousePointer.left)-this.mousePointer.left))),n=Math.max(0,Math.min(this.currentSlider.maxTop,this.currentSlider.top+((e.pageY||this.mousePointer.top)-this.mousePointer.top)));return this.currentSlider.guide.setStyle("left",t+"px"),this.currentSlider.guide.setStyle("top",n+"px"),this.currentSlider.callLeft&&this.color[this.currentSlider.callLeft].call(this.color,t/this.currentSlider.maxLeft),this.currentSlider.callTop&&this.color[this.currentSlider.callTop].call(this.color,n/this.currentSlider.maxTop),this.currentSlider.callTop==="setAlpha"&&this.options.format===!1&&(this.color.value.a!==1?(this.format="rgba",this.color.origFormat="rgba"):(this.format="hex",this.color.origFormat="hex")),this.update(!0),!1},mouseup:function(e){return this.isMouseDown=!1,e.stopPropagation(),e.preventDefault(),this.clearMouseDownAndMouseMoveEvents(),this.lostfocus(),!1},change:function(e){this.update(!0)},destructor:function(){var e=this.configNode;this._clearHandlers(),e.setData(TRIGGER,null),this.picker.remove(),this.element.clearData("colorpicker").detach(".colorpicker"),this.input!==!1&&this.input.detach(".colorpicker"),this.component!==!1&&this.component.detach(".colorpicker")},_clearHandlers:function(){var e=this;Y.each(this._handlers,function(e){e&&(e.detach&&e.detach(),e=null)})}},{NAME:"rdInputColorPicker",ATTRS:{configNode:{value:null,setter:Y.one}},PickColor:function(colColor,evt,silent){var self=Y.one(colColor),wrapper=self.ancestor(".rdInputColorPicker"),eleColorHolder=wrapper.one("input"),id=eleColorHolder.getAttribute("id"),colorDiv=self.one("div"),sColor=Y.Color.toHex(colorDiv.getStyle("background-color")||colorDiv.getDOMNode().style.backgroundColor),checkedImage=self.ancestor("div").one(".CheckedAlignment");checkedImage.getDOMNode().parentElement.className=checkedImage.getDOMNode().parentElement.className.replace("rdImageColorSelected","");var oldValue=eleColorHolder.get("value",sColor);oldValue||(oldValue=eleColorHolder.getAttribute("value"));if(oldValue.toUpperCase()!=sColor.toUpperCase()){eleColorHolder.setAttribute("value",sColor),eleColorHolder.set("value",sColor),!silent&&eleColorHolder.getDOMNode().onchange&&eleColorHolder.getDOMNode().onchange(),silent||eleColorHolder.simulate("change");var changeHandler=wrapper.getAttribute("data-changed");changeHandler!=""&&eval(changeHandler)}colorDiv.appendChild(checkedImage),checkedImage.getDOMNode().parentElement.className+=" rdImageColorSelected",checkedImage.getDOMNode().className=checkedImage.getDOMNode().className.replace("hidden",""),checkedImage.setStyle("visibility","visible"),checkedImage.ancestor("a").focus();var elePickedColorIndicator=document.getElementById("rectColorIndicator_"+id);elePickedColorIndicator.style.backgroundColor=sColor,elePickedColorIndicator.style.display="block"},addOnblurToColorpicker:function(e){var t=Y.one(e),n=t.ancestor(".rdInputColorPicker"),r=n.one("input"),i=r.getAttribute("id"),s=n.one(".popupPanelModal")},setFocusToPopup:function(e,t){var n=Y.one(e),r=n.ancestor(".rdInputColorPicker"),i=r.one("input"),s=i.getAttribute("id"),o=Y.one("#Color_"+s+"_0"),u=Y.one("#selectedColor_"+s);u.ancestor().get("id").indexOf("PopupPanelContent")!==-1?o.focus():u.ancestor("a").focus(),Y.LogiXML.rdInputColorPicker.stopEventPropogation(t)},moveFocusOnArrow:function(e,t,n,r,i,s){e.which||(e.which=e.keyCode);if(e.which==9)return;Y.LogiXML.rdInputColorPicker.stopEventPropogation(e);var o="",u="",a=Y.LogiXML.rdInputColorPicker.rdGetEventSource(e);u=a.id,u=u.slice(u.indexOf("_")+1,u.lastIndexOf("_"));if(e.which=="37")o=n;else if(e.which=="38")o=i;else if(e.which=="39")o=r;else if(e.which=="40")o=s;else if(e.which=="27"){var f=document.getElementById("ppColors_"+u).parentNode;Y.one("#colorPicker_"+u).focus(),ShowElement("colorPicker_"+u,"ppColors_"+u,"Hide")}else e.which=="13"&&(isIE()<10?Y.LogiXML.rdInputColorPicker.PickColor(Y.LogiXML.rdInputColorPicker.rdGetEventSource(e).parentNode):isIE()?setTimeout(Y.LogiXML.rdInputColorPicker.rdGetEventSource(e).parentNode.onclick,100):Y.LogiXML.rdInputColorPicker.rdGetEventSource(e).parentNode.onclick(),Y.LogiXML.rdInputColorPicker.colorselected=!0);if(o&&o!=""&&o!="null"){o=o;var l=Y.one("#"+o);l.focus()}},rdGetEventSource:function(e){return e.srcElement||e.currentTarget},stopEventPropogation:function(e){e=e||window.event,e&&(e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.returnValue=!1)},callOnclickIfSpaceOrEnter:function(e,t,n){t.which||(t.which=t.keyCode);if(isIE()&&Y.LogiXML.rdInputColorPicker.colorselected){Y.LogiXML.rdInputColorPicker.colorselected=!1;return}if(t.which=="32"||t.which=="13"){Y.LogiXML.rdInputColorPicker.stopEventPropogation(t);var r=e.firstChild.getAttribute("id"),i=document.getElementById(r);i.parentNode.appendChild(document.getElementById("ppColors_"+r.slice(r.indexOf("_")+1))),YUI().use("node-event-simulate",function(e){e.one("input#"+r).simulate("click")}),setTimeout(function(){var e=document.getElementById("ppColors_"+r.slice(r.indexOf("_")+1)).style;e.top=i.getBoundingClientRect().bottom.toString()+"px",e.left=(i.getBoundingClientRect().left+i.width).toString()+"px"},5)}},isShadeOfGray:function(e){var t=/#(([0-9a-fA-F]){1,2})(\1{2})\b/,n=t.exec(e);return n?!0:!1},createElements:function(){var e;Y.all("."+TRIGGER).each(function(t){e=t.getData(TRIGGER),e||(e=new Y.LogiXML.rdInputColorPicker({configNode:t}))})}})},"1.0.0",{requires:["base","node","event","node-custom-destroy","json-parse","stylesheet","event-custom","rdInputColorPicker-css","node-event-simulate"]}),Math.trunc||(Math.trunc=parseInt);

/* 
* rdYui/logi-visualization.js 
*/
YUI.add("rdLogiVisualization",function(e){var t=e.Lang,n="rdLogiVisualization";LogiXML.Ajax.AjaxTarget&&LogiXML.Ajax.AjaxTarget().on("reinitialize",function(){e.LogiXML.rdLogiVisualization.createElements(!0)}),e.LogiXML.Node.destroyClassKeys.push(n),e.namespace("LogiXML").rdLogiVisualization=e.Base.create("rdLogiVisualization",e.Base,[],{id:null,configNode:null,initializer:function(e){this._parseHTMLConfig(),this.configNode.setData(n,this)},_parseHTMLConfig:function(){this.configNode=this.get("configNode"),this.id=this.configNode.getAttribute("id")},destructor:function(){var e=this.configNode,t=$("#"+this.id+" div");if(t){var r=t.children().scope();r&&r.$destroy()}e.setData(n,null)}},{NAME:"rdLogiVisualization",ATTRS:{configNode:{value:null,setter:e.one}},createElements:function(t){var r;e.all("."+n).each(function(i){r=i.getData(n),r||(r=new e.LogiXML.rdLogiVisualization({configNode:i}),t&&e.LogiXML.rdLogiVisualization.createVisualization(i))})},createVisualization:function(e){var t=e.one("logi-visualization,logi-crosstab-table");if(!t)return;var n=t.get("parentNode"),r=t.getAttribute("dataview"),i=window[r],s=t.getAttribute("config");e.setAttribute("config",s);var o=window[s];o.dataview=i,t.remove();var u=window.Logi;o&&o.id&&delete o.id;if(u&&u.Platform)var a=u.Platform.select("#"+n.getAttribute("id")).append(o)},visualizationRendered:function(t){var n=e.one("#"+t);if(n)if(n.hasClass("rdBrowserBorn"))n.setAttribute("data-rdBrowserBornReady","true");else{var r=n.ancestor(".rdBrowserBorn");r&&r.setAttribute("data-rdBrowserBornReady","true")}},resize:function(e,t,n,r,i){r!="%"?e.setStyle("width",t-25+"px"):e.setStyle("width",t+r),i!="%"&&e.setStyle("height",n+"px");var s=window.Logi,o,u,a;a=e.getAttribute("id");if(!a||a=="")return;if(s&&s.Platform)try{o=Logi.Platform.select("#"+e.getAttribute("id")),o&&o.config&&(u=o.config())}catch(f){}if(!u){var l=e.get("parentNode").getAttribute("config");u=window[l]}if(!u){var l=e.getAttribute("config");u=window[l]}if(u&&u.style)if(u.type==="visualization"){if(u.style.width=="100%"&&u.style.height=="100%")return;u.style.width="100%",u.style.height="100%"}else u.style.width="100%",u.style.height=n+"px";o&&o.config&&o.config(u),window.$&&window.$(window).trigger("resize")}})},"1.0.0",{requires:["base","node","event","node-custom-destroy","event-custom"]});


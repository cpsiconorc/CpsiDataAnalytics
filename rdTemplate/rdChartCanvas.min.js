/* 
* rdYui/formatters.js 
*/
//"use strict";
window.LogiXML===undefined&&(window.LogiXML={}),LogiXML.Formatter={format:function(e,t){return e===undefined||e===null?e:(t&&t.toLowerCase()==="html"&&(e=LogiXML.decodeHtml(e,!0)),e instanceof Date?LogiXML.Formatter.formatDate(e,t):typeof e=="number"?LogiXML.Formatter.formatNumber(e,t):typeof e=="string"?LogiXML.Formatter.formatString(e,t):e)},formatDate:function(e,t){if(t==null||t=="")t="yyyy/MM/dd hh:mm:ss";var n=!0,r=new Date(e),i=n?r.getUTCMilliseconds():r.getMilliseconds(),s=n?r.getUTCSeconds():r.getSeconds(),o=n?r.getUTCMinutes():r.getMinutes(),u=n?r.getUTCHours():r.getHours(),a=n?r.getUTCDay():r.getDay(),f=n?r.getUTCDate():r.getDate(),l=n?r.getUTCMonth():r.getMonth(),c=n?r.getUTCFullYear():r.getFullYear(),h="",p=function(e,t){return(new Array((t||2)+1-String(e).length)).join(0)+e},d=function(e,t){return e+(new Array((t||2)+1-String(e).length)).join(0)};switch(t){case"General Date":case"G":u==0&&o==0&&s==0&&i==0?t=LogiXML.Localization.DateFormatInfo.shortDatePattern:c==0&&l==0&&f?t=LogiXML.Localization.DateFormatInfo.shortTimePattern:t=LogiXML.Localization.DateFormatInfo.shortDatePattern+" "+LogiXML.Localization.DateFormatInfo.shortTimePattern;break;case"Long Date":case"D":t=LogiXML.Localization.DateFormatInfo.longDatePattern;break;case"Medium Date":t=LogiXML.Localization.DateFormatInfo.longDatePattern;break;case"Short Date":case"d":t=LogiXML.Localization.DateFormatInfo.shortDatePattern;break;case"Long Time":case"T":t=LogiXML.Localization.DateFormatInfo.longTimePattern;break;case"Medium Time":t=LogiXML.Localization.DateFormatInfo.longTimePattern;break;case"Short Time":case"t":t=LogiXML.Localization.DateFormatInfo.shortTimePattern;break;case"f":t=LogiXML.Localization.DateFormatInfo.longDatePattern+" "+LogiXML.Localization.DateFormatInfo.shortTimePattern;break;case"F":t=LogiXML.Localization.DateFormatInfo.longDatePattern+" "+LogiXML.Localization.DateFormatInfo.longTimePattern;break;case"g":t=LogiXML.Localization.DateFormatInfo.shortDatePattern+" "+LogiXML.Localization.DateFormatInfo.shortTimePattern;break;case"M":case"m":t=LogiXML.Localization.DateFormatInfo.monthDayPattern;break;case"R":case"r":case"s":case"u":case"U":t="yyyy'-'MM'-'dd'T'HH':'mm':'ss";break;case"Y":case"y":t=LogiXML.Localization.DateFormatInfo.yearMonthPattern}return LogiXML.Localization.DateFormatInfo.dateSeparator!="/"&&(t=t.replace(new RegExp("/"),LogiXML.Localization.DateFormatInfo.dateSeparator)),LogiXML.Localization.DateFormatInfo.timeSeparator!=":"&&(t=t.replace(/:/g,LogiXML.Localization.DateFormatInfo.timeSeparator)),t=t.replace(/%/g,""),h=t.replace(/(\\)?("[^"]*"?|'[^']*'?|dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|S|fyyyy?|fyy?|fqq?|ww?|fF?|qq?)/g,function(e){if(e.charAt(0)==="\\")return e.replace("\\","");switch(e){case"dddd":return LogiXML.Localization.DateFormatInfo.dayNames[a];case"ddd":return LogiXML.Localization.DateFormatInfo.abbreviatedDayNames[a];case"dd":return p(f);case"d":return f;case"MMMM":return LogiXML.Localization.DateFormatInfo.monthNames[l];case"MMM":case"mmm":return LogiXML.Localization.DateFormatInfo.abbreviatedMonthNames[l];case"MM":return p(l+1);case"M":return l+1;case"gg":return"";case"hh":return p(u<13?u===0?12:u:u-12);case"h":return u<13?u===0?12:u:u-12;case"HH":return p(u);case"H":return u;case"mm":return p(o);case"m":return o;case"ss":return p(s);case"s":return s;case"FFFFFFF":case"fffffff":return d(i,7).substring(0,7);case"FFFFFF":case"ffffff":return d(i,6).substring(0,6);case"FFFFF":case"fffff":return d(i,5).substring(0,5);case"FFFF":case"ffff":return d(i,4).substring(0,4);case"FFF":case"fff":return d(i,3).substring(0,3);case"FF":case"ff":return d(i,2).substring(0,2);case"F":case"f":return d(i,1).substring(0,1);case"T":case"t":return u<12?LogiXML.Localization.DateFormatInfo.AMDesignator.substring(0,1):LogiXML.Localization.DateFormatInfo.PMDesignator.substring(0,1);case"TT":case"tt":return u<12?LogiXML.Localization.DateFormatInfo.AMDesignator:LogiXML.Localization.DateFormatInfo.PMDesignator;case"yyyy":return p(c,4);case"yy":case"y":return c.toString().substr(4-e.length);case"qq":return Math.ceil((l+1)/3);case"fyyyy":var t=LogiXML.Formatter.getAdjustedFiscalDate(r);return t.getUTCFullYear();case"fyy":var t=LogiXML.Formatter.getAdjustedFiscalDate(r);return t.getUTCFullYear().toString().substr(2);case"fqq":var t=LogiXML.Formatter.getAdjustedFiscalDate(r);return parseInt(t.getUTCMonth()/3)+1;case"ww":var n=LogiXML.Formatter.getDayOfYear(r)-1,h=LogiXML.Formatter.getDayOfYear(r)-n%7,v=0,m=document.getElementById("rdConstantFirstDayOfWeekHidden");m&&(v=parseInt(m.value));var g=(h-v+14)%7;return Math.floor((n+g)/7+1);default:if(e.charAt(0)==='"')return e.replace(/["]/g,"");if(e.charAt(0)==="'")return e.replace(/[']/g,"");return e}}).replace("\\",""),h},getDayOfYear:function(e){var t=new Date(e.getUTCFullYear(),0,0),n=e-t,r=864e5,i=Math.floor(n/r);return i},getAdjustedFiscalDate:function(e){var t=new Date(e),n=document.getElementById("rdConstantFirstDayOfFiscalYearHidden");if(n){var r=n.value;if(r){var i=new Date(r);if(i.getUTCDate()==1&&i.getUTCMonth()==0)return t;var s=0,o="",u=document.getElementById("rdConstantPositiveFiscalYearHidden");u&&(o=u.value),o!="True"&&(s=1),t.setUTCFullYear(e.getUTCFullYear()+s),t.setUTCMonth(e.getUTCMonth()+(1-(i.getUTCMonth()+1))),t.setUTCDate(e.getUTCDate()+(1-i.getUTCDate()))}}return t},formatNumber:function(e,t){if(t==null||t=="")return e;var n=t,r="",i="",s="-",o,u,a,f;t=LogiXML.decodeHtml(t,!0),t.indexOf(";")>-1&&(e>=0?t=t.substring(0,t.indexOf(";")):(t=t.substring(t.indexOf(";")+1),s=""),n=t),t=LogiXML.decodeHtml(t);switch(t){case"General Number":case"G":case"g":n="#0";break;case"Currency":case"C":case"c":n="#",o=0,a=LogiXML.Localization.NumFormatInfo.currencyGroupSizes.length;for(;o<a;o++){u=0,f=LogiXML.Localization.NumFormatInfo.currencyGroupSizes[o],n+=",";for(;u<f;u++)n+="#"}n.length>2&&(n=n.substring(0,n.length-1)+"0");if(LogiXML.Localization.NumFormatInfo.currencyDecimalDigits>0){n+=".",o=0,a=LogiXML.Localization.NumFormatInfo.currencyDecimalDigits;for(;o<a;o++)n+="0"}if(e>=0)switch(LogiXML.Localization.NumFormatInfo.currencyPositivePattern){case 0:r=LogiXML.Localization.NumFormatInfo.currencySymbol;break;case 2:r=LogiXML.Localization.NumFormatInfo.currencySymbol+" ";break;case 1:i=LogiXML.Localization.NumFormatInfo.currencySymbol;break;case 3:i=" "+LogiXML.Localization.NumFormatInfo.currencySymbol}else switch(LogiXML.Localization.NumFormatInfo.currencyNegativePattern){case 0:r="("+LogiXML.Localization.NumFormatInfo.currencySymbol,i=")",s="";break;case 1:r="-"+LogiXML.Localization.NumFormatInfo.currencySymbol,s="";break;case 2:r=LogiXML.Localization.NumFormatInfo.currencySymbol;break;case 3:r=LogiXML.Localization.NumFormatInfo.currencySymbol,i="-",s="";break;case 4:r="(",i=LogiXML.Localization.NumFormatInfo.currencySymbol+")",s="";break;case 5:i=LogiXML.Localization.NumFormatInfo.currencySymbol;break;case 6:i="-"+LogiXML.Localization.NumFormatInfo.currencySymbol,s="";break;case 7:i=LogiXML.Localization.NumFormatInfo.currencySymbol+"-",s="";break;case 8:i=" "+LogiXML.Localization.NumFormatInfo.currencySymbol;break;case 9:perfix="-"+LogiXML.Localization.NumFormatInfo.currencySymbol+" ",s="";break;case 10:i=" "+LogiXML.Localization.NumFormatInfo.currencySymbol+"-",s="";break;case 11:prfix=LogiXML.Localization.NumFormatInfo.currencySymbol=" ",i="-",s="";break;case 12:prfix=LogiXML.Localization.NumFormatInfo.currencySymbol=" ";break;case 13:i="- "+LogiXML.Localization.NumFormatInfo.currencySymbol,s="";break;case 14:r="("+LogiXML.Localization.NumFormatInfo.currencySymbol+" ",i=")",s="";break;case 15:r="(",i=" "+LogiXML.Localization.NumFormatInfo.currencySymbol+")",s=""}break;case"Fixed":case"F":case"f":n="0.00";case"Standard":case"N":case"n":n="#,##0.00";break;case"Percent":t=n="0.00%";break;case"P":case"p":t=n="#,##0.00%";break;case"Scientific":return e.toExponential(2).toUpperCase();case"E":return e.toExponential(6).toUpperCase().replace(".",LogiXML.Localization.NumFormatInfo.numberDecimalSeparator);case"e":return e.toExponential(6).toLowerCase().replace(".",LogiXML.Localization.NumFormatInfo.numberDecimalSeparator);case"True/False":return e>0?"True":"False";case"Yes/No":return e>0?"Yes":"No";case"On/Off":return e>0?"On":"Off";case"Timespan":return LogiXML.Formatter.TimeSpan.FromSeconds(e).To_Timespan_FormattedString()}if(t.charAt(0)=="e"||t.charAt(0)=="E"){var l=new RegExp(/[0-9]+/),c=l.exec(t),h=0,p;return c&&c.length>0?(h=parseInt(c[0]),p=e.toExponential(h>20?20:h)):p=e.toExponential(0),p=p.replace(".",LogiXML.Localization.NumFormatInfo.numberDecimalSeparator),t.charAt(0)=="e"?p.toLowerCase():p.toUpperCase()}if((t.charAt(0)=="p"||t.charAt(0)=="P")&&t.length>1){var l=new RegExp(/[0-9]+/),c=l.exec(t),h=parseInt(c[0]);isNaN(h)||(t=n="#,##0."+Array(++h).join("0")+"%")}var d="0#-,.";if(n!=t)t=n;else{var v=new RegExp("mp");if(v.test(t)){v=new RegExp("mps([1-9]+)");if(v.test(t)){var m=t.match(v);if(m&&m.length==2&&m[1]){var g=parseInt(m[1]);g&&g>0&&(e=LogiXML.Formatter.roundToSignificantDigit(e,g))}t=t.substr(0,t.indexOf("mps")+2)}else v=new RegExp("mps"),v.test(t)&&(t=t.replace("mps","mp"));var y=LogiXML.Formatter.Helpers.getMetricPrefix(e,LogiXML.Localization.metricPrefixes);e/=y[1],t=t.replace(/mp/g,y[0]),t==y[0]&&(t="0.###"+t)}for(var o=0;o<t.length;o++)if(d.indexOf(t.charAt(o))==-1)r+=t.charAt(o);else{if(s!="")break;s=t.charAt(o)}t=t.substring(r.length);for(var o=t.length-1;o>=0;o--){if(d.indexOf(t.charAt(o))!=-1)break;i=t.charAt(o)+i}t=t.substring(0,t.length-i.length)}return LogiXML.Formatter.formatCustomNumber(e,t,i,r,s,LogiXML.Localization.NumFormatInfo.numberDecimalSeparator,LogiXML.Localization.NumFormatInfo.numberGroupSeparator)},formatCustomNumber:function(e,t,n,r,i,s,o){var u=!1,a=!0,f=!1,l=!1;if(isNaN(e)){if(u!=1)return"";e=0,l=!0}n.indexOf("\\%")!==-1?n=n.replace("\\%","%"):n.indexOf("%")!==-1&&(e*=100),n&&n.indexOf("%")!=-1&&(a=!0);var c="";if(t.indexOf(".")>-1){var h=s,p=t.substring(t.lastIndexOf(".")+1);if(a==1)e=new Number(LogiXML.Formatter.Helpers.numberToFixed(e,p.length));else{var d=LogiXML.Formatter.Helpers.numberToStringWithNoExponents(e);d.lastIndexOf(".")>0&&(d=d.substring(0,d.lastIndexOf(".")+p.length+1)),e=new Number(d)}var v=new Number(LogiXML.Formatter.Helpers.numberToStringWithNoExponents(e).substring(LogiXML.Formatter.Helpers.numberToStringWithNoExponents(e).indexOf("."))),m=new String(LogiXML.Formatter.Helpers.numberToFixed(v,p.length));m=m.substring(m.lastIndexOf(".")+1);for(var g=0;g<p.length;g++){if(p.charAt(g)=="#"&&m.charAt(g)!="0"){h+=m.charAt(g);continue}if(p.charAt(g)=="#"&&m.charAt(g)=="0"){var y=m.substring(g);if(y.match("[1-9]")){h+=m.charAt(g);continue}break}p.charAt(g)=="0"&&(h+=m.charAt(g))}c+=h}else e=Math.round(e);var b=Math.floor(e);e<0&&(b=Math.abs(Math.ceil(e)));var w="";t.indexOf(".")==-1?w=t:w=t.substring(0,t.indexOf("."));var E="";if(b!=0||w.substr(w.length-1)!="#"||l){var S=new String(Math.abs(b)),x=9999;w.lastIndexOf(",")!=-1&&(x=w.length-w.lastIndexOf(",")-1);var T=0;for(var g=S.length-1;g>-1;g--)E=S.charAt(g)+E,T++,T==x&&g!=0&&(E=o+E,T=0);if(w.length>E.length){var N=w.indexOf("0");if(N!=-1){var C=w.length-N,k=w.length-E.length-1;while(E.length<C){var L=w.charAt(k);L==","&&(L=o),E=L+E,k--}}}}return!E&&w.indexOf("0",w.length-1)!==-1&&(E="0"),c=E+c,e<0&&(c=i+c),f||c.lastIndexOf(s)==c.length-1&&(c=c.substring(0,c.length-1)),c=r+c+n,c},formatString:function(e,t){if(t==null||t==""||e==null||e=="")return e;switch(t){case"<":return e.toLowerCase();case">":return e.toUpperCase();case"Expanded Spaces":return e.replace(" ","&nbsp;","g");case"Preserve Line Feeds":return e.replace(/\r|\n/g,"<br />");case"Yes/No":return e.replace(/True/gi,"Yes").replace(/False/gi,"No")}return e},roundToSignificantDigit:function(e,t){var n=!1,r;if(e==0)return 0;e<0&&(n=!0,e=-e);var i=Math.pow(10,t-Math.floor(Math.log(e)/Math.log(10))-1);return r=Math.round(e*i)/(i*1e6)*1e6,n&&(r=-r),r}},LogiXML.Formatter.Helpers={getMetricPrefix:function(e,t){var n=6,r=null,i=null,s=1e3,o=null;if(e==0)r=0,i=1;else{if(Math.trunc)r=Math.trunc(Math.log(Math.abs(e))/Math.log(s));else{var u=Math.log(Math.abs(e))/Math.log(s);u>=0?r=Math.floor(u):r=Math.ceil(u)}i=Math.pow(s,r)}return r<=n&&r>=-n?o=t[r+n]:o="?",[o,i]},numberToFixed:function(e,t){var n=Math.pow(10,t||0),r=String(Math.round(e*n)/n);if(t>0){var i=r.indexOf(".");i==-1?(r+=".",i=0):i=r.length-(i+1);while(i<t)r+="0",i++}return r},numberToStringWithNoExponents:function(e){var t=String(e).split(/[eE]/);if(t.length==1)return t[0];var n="",r=this<0?"-":"",i=t[0].replace(".",""),s=Number(t[1])+1;if(s<0){n=r+"0.";while(s++)n+="0";return n+i.replace(/^\-/,"")}s-=i.length;while(s--)n+="0";return i+n}},TimeSpan=LogiXML.Formatter.TimeSpan=function(e){const t=864e9,n=36e9,r=1e4,i=6e8,s=1e7;var o,u=e,a=e*(s/r);a=Math.round(a),o=a*r,getDays=function(){return Math.trunc(o/t)},getHours=function(){return Math.trunc(o%t/n)},getMilliseconds=function(){return Math.trunc(o%s/r)},getMinutes=function(){return Math.trunc(o%n/i)},getSeconds=function(){return Math.trunc(o%i/s)},_=function(e,t){t=t||2;var n=Math.abs(e);return("00"+n).slice(-t)},this.To_g_FormattedString=function(){return isNaN(o)?u:""+(o<0?"-":"")+(getDays()!==0?_(getDays())+":":"")+_(getHours())+":"+_(getMinutes())+":"+_(getSeconds())+(getMilliseconds()!==0?LogiXML.Localization.NumFormatInfo.numberDecimalSeparator+_(getMilliseconds(),3):"")},this.To_Timespan_FormattedString=function(){return isNaN(o)?u:""+(o<0?"-":"")+getDays()+":"+_(getHours())+":"+_(getMinutes())+":"+_(getSeconds())}},TimeSpan.FromSeconds=function(e){return new TimeSpan(e)};

/* 
* rdChartCanvas/adapters/standalone-framework.src.js 
*/
/**
 * @license Highcharts JS v4.0.4 (2014-09-02)
 *
 * Standalone Highcharts Framework
 *
 * License: MIT License
 *//*global Highcharts */var HighchartsAdapter=function(){function u(t){function n(e,t,n){e.removeEventListener(t,n,!1)}function r(e,t,n){n=e.HCProxiedMethods[n.toString()],n!==undefined&&e.detachEvent("on"+t,n)}function i(e,t){var i=e.HCEvents,s,o,u,a;if(e.removeEventListener)s=n;else{if(!e.attachEvent)return;s=r}t?(o={},o[t]=!0):o=i;for(a in o)if(i[a]){u=i[a].length;while(u--)s(e,a,i[a][u])}}return t.HCExtended||Highcharts.extend(t,{HCExtended:!0,HCEvents:{},bind:function(t,n){var r=this,i=this.HCEvents,s;r.addEventListener?r.addEventListener(t,n,!1):r.attachEvent&&(s=function(e){e.target=e.srcElement||window,n.call(r,e)},r.HCProxiedMethods||(r.HCProxiedMethods={}),r.HCProxiedMethods[n.toString()]=s,r.attachEvent("on"+t,s)),i[t]===e&&(i[t]=[]),i[t].push(n)},unbind:function(e,t){var s,o;e?(s=this.HCEvents[e]||[],t?(o=HighchartsAdapter.inArray(t,s),o>-1&&(s.splice(o,1),this.HCEvents[e]=s),this.removeEventListener?n(this,e,t):this.attachEvent&&r(this,e,t)):(i(this,e),this.HCEvents[e]=[])):(i(this),this.HCEvents={})},trigger:function(e,t){var n=this.HCEvents[e]||[],r=this,i=n.length,s,o,u;o=function(){t.defaultPrevented=!0};for(s=0;s<i;s++){u=n[s];if(t.stopped)return;t.preventDefault=o,t.target=r,t.type||(t.type=e),u.call(this,t)===!1&&t.preventDefault()}}}),t}var e,t=document,n=[],r=[],i,s={},o;return Math.easeInOutSine=function(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t},{init:function(e){t.defaultView||(this._getStyle=function(e,t){var n;return e.style[t]?e.style[t]:(t==="opacity"&&(t="filter"),n=e.currentStyle[t.replace(/\-(\w)/g,function(e,t){return t.toUpperCase()})],t==="filter"&&(n=n.replace(/alpha\(opacity=([0-9]+)\)/,function(e,t){return t/100})),n===""?1:n)},this.adapterRun=function(e,t){var n={width:"clientWidth",height:"clientHeight"}[t];if(n)return e.style.zoom=1,e[n]-2*parseInt(HighchartsAdapter._getStyle(e,"padding"),10)}),Array.prototype.forEach||(this.each=function(e,t){var n=0,r=e.length;for(;n<r;n++)if(t.call(e[n],e[n],n,e)===!1)return n}),Array.prototype.indexOf||(this.inArray=function(e,t){var n,r=0;if(t){n=t.length;for(;r<n;r++)if(t[r]===e)return r}return-1}),Array.prototype.filter||(this.grep=function(e,t){var n=[],r=0,i=e.length;for(;r<i;r++)!t(e[r],r)||n.push(e[r]);return n}),o=function(e,t,n){this.options=t,this.elem=e,this.prop=n},o.prototype={update:function(){var t,n=this.paths,r=this.elem,i=r.element;s[this.prop]?s[this.prop](this):n&&i?r.attr("d",e.step(n[0],n[1],this.now,this.toD)):r.attr?i&&r.attr(this.prop,this.now):(t={},t[this.prop]=this.now+this.unit,Highcharts.css(r,t)),this.options.step&&this.options.step.call(this.elem,this.now,this)},custom:function(e,t,n){var s=this,o=function(e){return s.step(e)},u;this.startTime=+(new Date),this.start=e,this.end=t,this.unit=n,this.now=this.start,this.pos=this.state=0,o.elem=this.elem,o()&&r.push(o)===1&&(i=setInterval(function(){for(u=0;u<r.length;u++)r[u]()||r.splice(u--,1);r.length||clearInterval(i)},13))},step:function(e){var t=+(new Date),n,r,i=this.options,s=this.elem,o;if(s.stopAnimation||s.attr&&!s.element)n=!1;else if(e||t>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),this.options.curAnim[this.prop]=!0,r=!0;for(o in i.curAnim)i.curAnim[o]!==!0&&(r=!1);r&&i.complete&&i.complete.call(s),n=!1}else{var u=t-this.startTime;this.state=u/i.duration,this.pos=i.easing(u,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos,this.update(),n=!0}return n}},this.animate=function(t,n,r){var i,s="",u,a,f,l;t.stopAnimation=!1;if(typeof r!="object"||r===null)f=arguments,r={duration:f[2],easing:f[3],complete:f[4]};typeof r.duration!="number"&&(r.duration=400),r.easing=Math[r.easing]||Math.easeInOutSine,r.curAnim=Highcharts.extend({},n);for(l in n)a=new o(t,r,l),u=null,l==="d"?(a.paths=e.init(t,t.d,n.d),a.toD=n.d,i=0,u=1):t.attr?i=t.attr(l):(i=parseFloat(HighchartsAdapter._getStyle(t,l))||0,l!=="opacity"&&(s="px")),u||(u=n[l]),a.custom(i,u,s)}},_getStyle:function(e,t){var n=window.getComputedStyle(e,undefined);return n==undefined?0:n.getPropertyValue(t)},addAnimSetter:function(e,t){s[e]=t},getScript:function(e,n){var r=t.getElementsByTagName("head")[0],i=t.createElement("script");i.type="text/javascript",i.src=e,i.onload=n,r.appendChild(i)},inArray:function(e,t){return t.indexOf?t.indexOf(e):n.indexOf.call(t,e)},adapterRun:function(e,t){return parseInt(HighchartsAdapter._getStyle(e,t),10)},grep:function(e,t){return n.filter.call(e,t)},map:function(e,t){var n=[],r=0,i=e.length;for(;r<i;r++)n[r]=t.call(e[r],e[r],r,e);return n},offset:function(e){var t=document.documentElement,n=e.getBoundingClientRect();return{top:n.top+(window.pageYOffset||t.scrollTop)-(t.clientTop||0),left:n.left+(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}},addEvent:function(e,t,n){u(e).bind(t,n)},removeEvent:function(e,t,n){u(e).unbind(t,n)},fireEvent:function(e,n,r,i){var s;e!=null&&(t.createEvent&&(e.dispatchEvent||e.fireEvent)?(s=t.createEvent("Events"),s.initEvent(n,!0,!0),s.target=e,Highcharts.extend(s,r),e.dispatchEvent?e.dispatchEvent(s):e.fireEvent(n,s)):e.HCExtended===!0&&(r=r||{},e.trigger(n,r))),r&&r.defaultPrevented&&(i=null),i&&i(r)},washMouseEvent:function(e){return e},stop:function(e){e.stopAnimation=!0},each:function(e,t){return e?Array.prototype.forEach.call(e,t):null}}}();

/* 
* rdChartCanvas/highcharts.src.js 
*/
// ==ClosureCompiler==
// @compilation_level SIMPLE_OPTIMIZATIONS
/**
 * @license Highcharts JS v4.0.4 (2014-09-02)
 *
 * (c) 2009-2014 Torstein Honsi
 *
 * License: www.highcharts.com/license
 */// JSLint options:
/*global Highcharts, HighchartsAdapter, document, window, navigator, setInterval, clearInterval, clearTimeout, setTimeout, location, jQuery, $, console, each, grep *//*jslint ass: true, sloppy: true, forin: true, plusplus: true, nomen: true, vars: true, regexp: true, newcap: true, browser: true, continue: true, white: true */function isIEFunction(){var e=navigator.userAgent.toLowerCase();return e.indexOf("msie")!=-1?parseInt(e.split("msie")[1]):!1}(function(){function xt(e,t){if(!e)return null;typeof e=="string"||e instanceof String||(e=e.toString());if(e.length<=t)return e;var n=/<div[^>]*>(.*?)<\/div>/,r=n.test(e),i,s;if(r){var o=n.exec(e);if(o&&o.length>=1){if(o[1].length<=t)return e;s=o[1],i=s.indexOf("<br />"),i!=-1&&(s=s.replace("<br />",""));if(s.length<=t)return e;e=s}}e=e.substring(0,t);while(e.endsWith(String.fromCharCode(160))||e.endsWith(String.fromCharCode(" ")))e=e.substring(0,e.length-1);return r&&i!=-1&&t>i&&(e=e.substring(0,i)+"<br />"+e.substring(i)),r?"<div>"+e+"...</div>":e+"..."}function Tt(e,t){var n;e||(e={});for(n in t)if(g)try{e[n]=t[n]}catch(r){}else e[n]=t[n];return e}function Nt(){var e,t=arguments,n,r={},i=function(e,t){var n,r;typeof e!="object"&&(e={});for(r in t)t.hasOwnProperty(r)&&(n=t[r],n&&typeof n=="object"&&Object.prototype.toString.call(n)!=="[object Array]"&&r!=="renderTo"&&typeof n.nodeType!="number"?e[r]=i(e[r]||{},n):e[r]=t[r]);return e};t[0]===!0&&(r=t[1],t=Array.prototype.slice.call(t,2)),n=t.length;for(e=0;e<n;e++)r=i(r,t[e]);return r}function Ct(){var e=0,t=arguments,n=t.length,r={};for(;e<n;e++)r[t[e++]]=t[e];return r}function kt(e,t){return parseInt(e,t||10)}function Lt(e){return typeof e=="string"}function At(e){return e&&typeof e=="object"}function Ot(e){return Object.prototype.toString.call(e)==="[object Array]"}function Mt(e){return typeof e=="number"}function _t(e){return r.log(e)/r.LN10}function Dt(e){return r.pow(10,e)}function Pt(e,t){var n=e.length;while(n--)if(e[n]===t){e.splice(n,1);break}}function Ht(t){return t!==e&&t!==null}function Bt(e,t,n){var r,i;if(Lt(t))Ht(n)&&Ht(e)?e.setAttribute(t,n):e&&e.getAttribute&&(i=e.getAttribute(t));else if(Ht(t)&&At(t))for(r in t)e.setAttribute(r,t[r]);return i}function jt(e){return Ot(e)?e:[e]}function Ft(){var t=arguments,n,r,i=t.length;for(n=0;n<i;n++){r=t[n];if(r!==e&&r!==null)return r}}function It(t,n){g&&!T&&n&&n.opacity!==e&&(n.filter="alpha(opacity="+n.opacity*100+")"),t&&Tt(t.style,n)}function qt(e,n,r,i,s){var o=t.createElement(e);return n&&Tt(o,n),s&&It(o,{padding:0,border:G,margin:0}),r&&It(o,r),i&&i.appendChild(o),o}function Rt(t,n){var r=function(){return e};return r.prototype=new t,Tt(r.prototype,n),r}function Ut(e,t,n,r){var i=St.numberFormat,s=_.lang,o=+e||0,u=t===-1?(o.toString().split(".")[1]||"").length:isNaN(t=l(t))?2:t,a=n===undefined?s.decimalPoint:n,f=r===undefined?s.thousandsSep:r,c=o<0?"-":"",h=String(kt(o=l(o).toFixed(u))),p=h.length>3?h.length%3:0;return i!==Ut?i(e,t,n,r):c+(p?h.substr(0,p)+f:"")+h.substr(p).replace(/(\d{3})(?=\d)/g,"$1"+f)+(u?a+l(o-h).toFixed(u).slice(2):"")}function zt(e,t){return(new Array((t||2)+1-String(e).length)).join(0)+e}function Wt(e,t,n){var r=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments),t=arguments,i=this,s;return i.proceed=function(){r.apply(i,arguments.length?arguments:t)},e.unshift(r),s=n.apply(this,e),i.proceed=null,s}}function Xt(){var e=Math.random().toString(36).substring(2,9),t=0;return function(){return"highcharts-"+e+"-"+t++}}function Vt(e,t){var n,r=e.length;for(n=0;n<r;n++)if(t(e[n],n))return e[n]}function $t(e){if(!e)return 0;var t=0;return pn(e.children,function(e){var n=0,r=window.getComputedStyle(e);r.marginLeft&&(n+=parseFloat(r.marginLeft)),r.marginRight&&(n+=parseFloat(r.marginRight)),r.paddingLeft&&(n+=parseFloat(r.paddingLeft)),r.paddingRight&&(n+=parseFloat(r.paddingRight)),r.borderLeftWidth&&(n+=parseFloat(r.borderLeftWidth)),r.borderRightWidth&&(n+=parseFloat(r.borderRightWidth)),n+=$t(e),n>t&&(t=n)}),t}function Jt(e,t){var n=document.createElement("lDiv");document.body.appendChild(n),t&&(n.style.fontFamily=t.fontFamily,n.style.fontSize=t.fontSize,n.style.fontWeight=t.fontWeight,n.style.fontStretch=t.fontStretch,n.style.fontStyle=t.fontStyle,n.style.fontVariant=t.fontVariant,n.style.lineHeight=t.lineHeight,n.style.textAlign=t.textAlign,n.style.whiteSpace="pre",n.style.border=t.border,n.style.marginLeft=t.marginLeft,n.style.marginTop=t.marginTop,n.style.marginRight=t.marginRight,n.style.marginBottom=t.marginBottom,n.style.paddingLeft=t.paddingLeft,n.style.paddingTop=t.paddingTop,n.style.paddingRight=t.paddingRight,n.style.paddingBottom=t.paddingBottom),n.style.position="absolute",n.style.left=-1e3,n.style.top=-1e3,n.innerHTML=e;var r={width:n.clientWidth,height:n.clientHeight};return document.body.removeChild(n),n=null,r}function Kt(e,t){var n=/f$/,r=/\.([0-9])/,i=_.lang,s;return n.test(e)?(s=e.match(r),s=s?s[1]:-1,t!==null&&(t=Ut(t,s,i.decimalPoint,e.indexOf(",")>-1?i.thousandsSep:""))):t=D(e,t),t}function Qt(e,t){var n="{",r=!1,i,s,o,u,a,f=[],l,c;while((c=e.indexOf(n))!==-1){i=e.slice(0,c);if(r){s=i.split(":"),o=s.shift().split("."),a=o.length,l=t;for(u=0;u<a;u++)l=l[o[u]];s.length&&(l=Kt(s.join(":"),l)),f.push(l)}else f.push(i);e=e.slice(c+1),r=!r,n=r?"}":"{"}return f.push(e),f.join("")}function Gt(e){return r.pow(10,s(r.log(e)/r.LN10))}function Yt(e,t,n,r){var i,s;n=Ft(n,1),i=e/n,t||(t=[1,2,2.5,5,10],r===!1&&(n===1?t=[1,2,5,10]:n<=.1&&(t=[1/n])));for(s=0;s<t.length;s++){e=t[s];if(i<=(t[s]+(t[s+1]||t[s]))/2)break}return e*=n,e}function Zt(){this.color=0,this.symbol=0}function en(e,t){var n=e.length,r,i;for(i=0;i<n;i++)e[i].ss_i=i;e.sort(function(e,n){return r=t(e,n),r===0?e.ss_i-n.ss_i:r});for(i=0;i<n;i++)delete e[i].ss_i}function tn(e,t){var n=e.length,r=e[0];if(t&&r===null){var i=1;for(;i<n;i++)if(e[i]!=null){r=e[i];break}}while(n--)e[n]<r&&(t?e[n]!=null&&(r=e[n]):r=e[n]);return r}function nn(e){var t=e.length,n=e[0];while(t--)e[t]>n&&(n=e[t]);return n}function rn(e,t){var n;for(n in e)e[n]&&e[n]!==t&&e[n].destroy&&e[n].destroy(),delete e[n]}function sn(e){M||(M=qt(W)),e&&M.appendChild(e),M.innerHTML=""}function F(e,t,r){if(r){bn(r.renderTo,"error",{code:e,stop:t,chart:r});return}var i="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw i;n.console&&console.log(i)}function on(e){return parseFloat(e.toPrecision(14))}function un(e,t){P=Ft(e,t.animation)}function Cn(){var e=_.global.useUTC,t=e?"getUTC":"get",n=e?"setUTC":"set";ut=_.global.Date||window.Date,ft=(e&&_.global.timezoneOffset||0)*6e4,at=e?ut.UTC:function(e,t,n,r,i,s){return(new ut(e,t,Ft(n,1),Ft(r,0),Ft(i,0),Ft(s,0))).getTime()},lt=t+"Minutes",ct=t+"Hours",ht=t+"Day",pt=t+"Date",dt=t+"Month",vt=t+"FullYear",mt=n+"Minutes",gt=n+"Hours",yt=n+"Date",bt=n+"Month",wt=n+"FullYear"}function kn(e){return _=Nt(!0,_,e),Cn(),_}function Ln(){return _}function Dn(){}function qn(e,t,n,r){this.axis=e,this.pos=t,this.type=n||"",this.isNew=!0,!n&&!r&&this.addLabel()}function Rn(){this.init.apply(this,arguments)}function Gn(){this.init.apply(this,arguments)}function tr(e,t,n,r,i){var s=e.chart.inverted;this.axis=e,this.isNegative=n,this.options=t,this.x=r,this.total=null,this.points={},this.stack=i,this.alignOptions={align:t.align||(s?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(s?"middle":n?"bottom":"top"),y:Ft(t.y,s?4:n?14:-6),x:Ft(t.x,s?n?-6:6:0)},this.textAlign=t.textAlign||(s?n?"right":"left":"center")}var e,t=document,n=window,r=Math,i=r.round,s=r.floor,o=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)},u=r.ceil,a=r.max,f=r.min,l=r.abs,c=r.cos,h=r.sin,p=r.PI,d=p*2/360,v=navigator.userAgent,m=n.opera,g=/msie/i.test(v)&&!m,y=t.documentMode===8,b=/AppleWebKit/.test(v),w=/Firefox/.test(v),E=/(Mobile|Android|Windows Phone)/.test(v),S="http://www.w3.org/2000/svg",T=!!t.createElementNS&&!!t.createElementNS(S,"svg").createSVGRect,N=w&&parseInt(v.split("Firefox/")[1],10)<4,C=!T&&!g&&!!t.createElement("canvas").getContext,k,L,A={},O=0,M,_,D,P,B,j,F,I=function(){return e},q=[],R=0,U="Highcharts",z="4.0.4",W="div",X="absolute",V="relative",$="hidden",J="highcharts-",K="visible",Q="px",G="none",Z="M",et="L",tt=/^[0-9]+$/,nt="",rt="hover",it="select",st,ot="stroke-width",ut,at,ft,lt,ct,ht,pt,dt,vt,mt,gt,yt,bt,wt,Et={},St,St=n.Highcharts=n.Highcharts?F(16,!0):{};D=function(e,t,n){if(!Ht(t)||isNaN(t))return"Invalid date";e=Ft(e,"%Y-%m-%d %H:%M:%S");var r=new ut(t-ft),s,o=r[ct](),u=r[ht](),a=r[pt](),f=r[dt](),l=r[vt](),c=_.lang,h=c.weekdays,p=Tt({a:h[u].substr(0,3),A:h[u],d:zt(a),e:a,b:c.shortMonths[f],B:c.months[f],m:zt(f+1),y:l.toString().substr(2,2),Y:l,H:zt(o),I:zt(o%12||12),l:o%12||12,M:zt(r[lt]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:zt(r.getSeconds()),L:zt(i(t%1e3),3)},St.dateFormats);for(s in p)while(e.indexOf("%"+s)!==-1)e=e.replace("%"+s,typeof p[s]=="function"?p[s](t):p[s]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},Zt.prototype={wrapColor:function(e){this.color>=e&&(this.color=0)},wrapSymbol:function(e){this.symbol>=e&&(this.symbol=0)}},j={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:26784e5,year:31556952e3},B={init:function(e,t,n){t=t||"";var r=e.shift,i=t.indexOf("C")>-1,s=i?7:3,o,u,a,f=t.split(" "),l=[].concat(n),c,h,p=function(e){a=e.length;while(a--)e[a]===Z&&e.splice(a+1,0,e[a+1],e[a+2],e[a+1],e[a+2])};i&&(p(f),p(l)),e.isArea&&(c=f.splice(f.length-6,6),h=l.splice(l.length-6,6));if(r<=l.length/s&&f.length===l.length)while(r--)l=[].concat(l).splice(0,s).concat(l);e.shift=0;if(f.length){o=l.length;while(f.length<o)u=[].concat(f).splice(f.length-s,s),i&&(u[s-6]=u[s-2],u[s-5]=u[s-1]),f=f.concat(u)}return c&&(f=f.concat(c),l=l.concat(h)),[f,l]},step:function(e,t,n,r){var i=[],s=e.length,o;if(n===1)i=r;else if(s===t.length&&n<1)while(s--)o=parseFloat(e[s]),i[s]=isNaN(o)?e[s]:n*parseFloat(t[s]-o)+o;else i=t;return i}},function(r){n.HighchartsAdapter=n.HighchartsAdapter||r&&{init:function(t){var n=r.fx;r.extend(r.easing,{easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n}}),r.each(["cur","_default","width","height","opacity"],function(t,i){var s=n.step,o;i==="cur"?s=n.prototype:i==="_default"&&r.Tween&&(s=r.Tween.propHooks[i],i="set"),o=s[i],o&&(s[i]=function(n){var r;n=t?n:this;if(n.prop==="align")return;return r=n.elem,r.attr?r.attr(n.prop,i==="cur"?e:n.now):o.apply(this,arguments)})}),Wt(r.cssHooks.opacity,"get",function(e,t,n){return t.attr?t.opacity||0:e.call(this,t,n)}),this.addAnimSetter("d",function(e){var n=e.elem,r;e.started||(r=t.init(n,n.d,n.toD),e.start=r[0],e.end=r[1],e.started=!0),n.attr("d",t.step(e.start,e.end,e.pos,n.toD))}),this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){var n,r=e.length;for(n=0;n<r;n++)if(t.call(e[n],e[n],n,e)===!1)return n},r.fn.highcharts=function(){var t="Chart",n=arguments,r,i,s;return this[0]&&(Lt(n[0])&&(t=n[0],n=Array.prototype.slice.call(n,1)),r=n[0],r!==e&&(r.chart=r.chart||{},r.chart.renderTo=this[0],s=new St[t](r,n[1]),i=this),r===e&&(i=q[Bt(this[0],"data-highcharts-chart")])),i}},addAnimSetter:function(e,t){r.Tween?r.Tween.propHooks[e]={set:t}:r.fx.step[e]=t},getScript:r.getScript,inArray:r.inArray,adapterRun:function(e,t){return r(e)[t]()},grep:r.grep,map:function(e,t){var n=[],r=0,i=e.length;for(;r<i;r++)n[r]=t.call(e[r],e[r],r,e);return n},offset:function(e){return r(e).offset()},addEvent:function(e,t,n){r(e).bind(t,n)},removeEvent:function(e,n,i){var s=t.removeEventListener?"removeEventListener":"detachEvent";t[s]&&e&&!e[s]&&(e[s]=function(){}),r(e).unbind(n,i)},fireEvent:function(e,t,n,i){var s=r.Event(t),o="detached"+t,u;!g&&n&&(delete n.layerX,delete n.layerY,delete n.returnValue),Tt(s,n),e[t]&&(e[o]=e[t],e[t]=null),r.each(["preventDefault","stopPropagation"],function(e,t){var n=s[t];s[t]=function(){try{n.call(s)}catch(e){t==="preventDefault"&&(u=!0)}}}),r(e).trigger(s),e[o]&&(e[t]=e[o],e[o]=null),i&&!s.isDefaultPrevented()&&!u&&i(s)},washMouseEvent:function(t){var n=t.originalEvent||t;return n.pageX===e&&(n.pageX=t.pageX,n.pageY=t.pageY),n},animate:function(t,n,i){var s=r(t);t.style||(t.style={}),n.d&&(t.toD=n.d,n.d=1),s.stop(),n.opacity!==e&&t.attr&&(n.opacity+="px"),t.hasAnim=1,s.animate(n,i)},stop:function(e){e.hasAnim&&r(e).stop()}}}(n.jQuery);var an=n.HighchartsAdapter,fn=an||{};an&&an.init.call(an,B);var ln=fn.adapterRun,cn=fn.getScript,hn=fn.inArray,pn=fn.each,dn=fn.grep,vn=fn.offset,mn=fn.map,gn=fn.addEvent,yn=fn.removeEvent,bn=fn.fireEvent,wn=fn.washMouseEvent,En=fn.animate,Sn=fn.stop,xn={enabled:!0,x:0,y:15,style:{color:"#606060",cursor:"default",fontSize:"11px"}};_={colors:["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#8085e8","#8d4653","#91e8e1"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",numericSymbols:["k","M","G","T","P","E"],resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.0.4/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.0.4/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",drillBackButton:{theme:{zIndex:20,states:{hover:{style:{cursor:"pointer"}}}},position:{align:"right",x:0,verticalAlign:"top",y:1}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#274b6d",fontSize:"16px"}},subtitle:{text:"",align:"center",style:{color:"#4d759e"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:Nt(xn,{align:"center",enabled:!1,formatter:function(){return this.y===null?"":Ut(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:X,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"normal",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:X,width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:V,top:"45%"},style:{position:X,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:T,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:"<span>{point.key}</span><br/>",pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:E?25:10,style:{cursor:"default",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var Tn=_.plotOptions,Nn=Tn.line;Cn();var An=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,On=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,Mn=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,_n=function(e){function i(e){e&&e.stops?r=mn(e.stops,function(e){return _n(e[1])}):(n=An.exec(e),n?t=[kt(n[1]),kt(n[2]),kt(n[3]),parseFloat(n[4],10)]:(n=On.exec(e),n?t=[kt(n[1],16),kt(n[2],16),kt(n[3],16),1]:(n=Mn.exec(e),n&&(t=[kt(n[1]),kt(n[2]),kt(n[3]),1]))))}function s(n){var i;return r?(i=Nt(e),i.stops=[].concat(i.stops),pn(r,function(e,t){i.stops[t]=[i.stops[t][0],e.get(n)]})):t&&!isNaN(t[0])?n==="rgb"?i="rgb("+t[0]+","+t[1]+","+t[2]+")":n==="a"?i=t[3]:i="rgba("+t.join(",")+")":i=e,i}function o(e){if(r)pn(r,function(t){t.brighten(e)});else if(Mt(e)&&e!==0){var n;for(n=0;n<3;n++)t[n]+=kt(e*255),t[n]<0&&(t[n]=0),t[n]>255&&(t[n]=255)}return this}function u(e){return t[3]=e,this}var t=[],n,r;return i(e),{get:s,brighten:o,rgba:t,setOpacity:u}};Dn.prototype={opacity:1,textProps:["fontSize","fontWeight","fontFamily","color","lineHeight","width","textDecoration","textShadow","HcTextStroke"],init:function(e,n){var r=this;r.element=n==="span"?qt(n):t.createElementNS(S,n),r.renderer=e},animate:function(e,t,n){var r=Ft(t,P,!0);return Sn(this),r?(r=Nt(r,{}),n&&(r||(r={}),r.complete=n),En(this,e,r)):(this.attr(e),n&&n()),this},colorGradient:function(e,t,n){var r=this.renderer,i,s,o,u,a,f,l,c,h,p,d,v=[];e.linearGradient?s="linearGradient":e.radialGradient&&(s="radialGradient");if(s){o=e[s],u=r.gradients,f=e.stops,h=n.radialReference,Ot(o)&&(e[s]=o={x1:o[0],y1:o[1],x2:o[2],y2:o[3],gradientUnits:"userSpaceOnUse"}),s==="radialGradient"&&h&&!Ht(o.gradientUnits)&&(o=Nt(o,{cx:h[0]-h[2]/2+o.cx*h[2],cy:h[1]-h[2]/2+o.cy*h[2],r:o.r*h[2],gradientUnits:"userSpaceOnUse"}));for(p in o)p!=="id"&&v.push(p,o[p]);for(p in f)v.push(f[p]);v=v.join(","),u[v]?d=u[v].attr("id"):(o.id=d=J+O++,u[v]=a=r.createElement(s).attr(o).add(r.defs),a.stops=[],pn(f,function(e){var t;e[1].indexOf("rgba")===0?(i=_n(e[1]),l=i.get("rgb"),c=i.get("a")):(l=e[1],c=1),t=r.createElement("stop").attr({offset:e[0],"stop-color":l,"stop-opacity":c}).add(a),a.stops.push(t)})),n.setAttribute(t,"url("+r.url+"#"+d+")")}},attr:function(t,n){if(this===undefined||this.element===undefined)return;var r,i,s=this.element,o,u=this,a;typeof t=="string"&&n!==e&&(r=t,t={},t[r]=n);if(typeof t=="string")u=(this[t+"Getter"]||this._defaultGetter).call(this,t,s);else{for(r in t)i=t[r],a=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(r)&&(o||(this.symbolAttr(t),o=!0),a=!0),this.rotation&&(r==="x"||r==="y")&&(this.doTransform=!0),a||(this[r+"Setter"]||this._defaultSetter).call(this,i,r,s),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(r)&&this.updateShadows(r,i);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return u},updateShadows:function(e,t){var n=this.shadows,r=n.length;while(r--)n[r].setAttribute(e,e==="height"?a(t-(n[r].cutHeight||0),0):e==="d"?this.d:t)},addClass:function(e){var t=this.element,n=Bt(t,"class")||"";return n.indexOf(e)===-1&&Bt(t,"class",n+" "+e),this},symbolAttr:function(e){var t=this;pn(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(n){t[n]=Ft(e[n],t[n])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":G)},crisp:function(e){var t=this,n,r={},o,u=e.strokeWidth||t.strokeWidth||0;o=i(u)%2/2,e.x=s(e.x||t.x||0)+o,e.y=s(e.y||t.y||0)+o,e.width=s((e.width||t.width||0)-2*o),e.height=s((e.height||t.height||0)-2*o),e.strokeWidth=u;for(n in e)t[n]!==e[n]&&(t[n]=r[n]=e[n]);return r},css:function(e){var t=this,n=t.styles,r={},i=t.element,s,o,u="",a,f=!n;e&&e.color&&(e.fill=e.color);if(n)for(o in e)e[o]!==n[o]&&(r[o]=e[o],f=!0);if(f){s=t.textWidth=e&&e.width&&i.nodeName.toLowerCase()==="text"&&kt(e.width),n&&(e=Tt(n,r)),t.styles=e,s&&(C||!T&&t.renderer.forExport)&&delete e.width;if(g&&!T)It(t.element,e);else{a=function(e,t){return"-"+t.toLowerCase()};for(o in e){if(i.nodeName.toLowerCase()==="text"&&o==="width")continue;u+=o.replace(/([A-Z])/g,a)+":"+e[o]+";"}Bt(i,"style",u)}s&&t.added&&t.renderer.buildText(t)}return t},on:function(e,t){var n=this,r=n.element;return L&&e==="click"?(r.ontouchstart=function(e){n.touchEventFired=ut.now(),e.preventDefault(),t.call(r,e)},r.onclick=function(e){(v.indexOf("Android")===-1||ut.now()-(n.touchEventFired||0)>1100)&&t.call(r,e)}):r["on"+e]=t,this},setRadialReference:function(e){return this.element.radialReference=e,this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){var e=this;return e.inverted=!0,e.updateTransform(),e},updateTransform:function(){var e=this,t=e.translateX||0,n=e.translateY||0,r=e.scaleX,i=e.scaleY,s=e.inverted,o=e.rotation,u=e.element,a;s&&(t+=e.attr("width"),n+=e.attr("height")),a=["translate("+t+","+n+")"],s?a.push("rotate(90) scale(-1,1)"):o&&a.push("rotate("+o+" "+(u.getAttribute("x")||0)+" "+(u.getAttribute("y")||0)+")"),(Ht(r)||Ht(i))&&a.push("scale("+Ft(r,1)+" "+Ft(i,1)+")"),a.length&&u.setAttribute("transform",a.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,n,r){var i,s,u,a,f={},l,c=this.renderer,h=c.alignedObjects;if(e){this.alignOptions=e,this.alignByTranslate=t;if(!n||Lt(n))this.alignTo=l=n||"renderer",Pt(h,this),h.push(this),n=null}else e=this.alignOptions,t=this.alignByTranslate,l=this.alignTo;n=Ft(n,c[l],c),i=e.align,s=e.verticalAlign,u=(n.x||0)+(e.x||0),a=(n.y||0)+(e.y||0);if(r&&r.series){if(r.series.type==="bubble"){if(i==="right"||i==="center")u+=(n.width-(e.width||0))/{right:1,center:2}[i]}else if(r.series.type==="column"||r.series.type==="columnrange")i==="left"&&(u-=n.width/2),i==="right"&&(u+=n.width/2),i==="center"&&(u+=(n.width-(e.width||0))/2);else if(i==="left"||i==="center")u+=(n.width-(e.width||0))/{left:1,center:2}[i]}else if(i==="right"||i==="center")u+=(n.width-(e.width||0))/{right:1,center:2}[i];f[t?"translateX":"x"]=o(u);if(r&&r.series){if(r.series.type==="bubble"||r.series.type==="column"){if(s==="bottom"||s==="middle")a+=(n.height-(e.height||0))/({bottom:1,middle:2}[s]||1)}else if(s==="bottom"||s==="middle")a+=(n.height-(e.height||0))/({bottom:1,middle:2}[s]||1)}else if(s==="bottom"||s==="middle")a+=(n.height-(e.height||0))/({bottom:1,middle:2}[s]||1);return f[t?"translateY":"y"]=o(a),this[this.placed?"animate":"attr"](f),this.placed=!0,this.alignAttr=f,this},getBBox:function(){var e=this,t=e.bBox,n=e.renderer,r,i,s=e.rotation,o=e.element,u=e.styles,a=s*d,f=e.textStr,p;if(f===""||tt.test(f))p="num."+f.toString().length+(u?"|"+u.fontSize+"|"+u.fontFamily:"");p&&(t=n.cache[p]);if(!t){if(o.namespaceURI===S||n.forExport){try{t=o.getBBox?Tt({},o.getBBox()):{width:o.offsetWidth,height:o.offsetHeight}}catch(v){}if(!t||t.width<0)t={width:0,height:0}}else t=e.htmlGetBBox();n.isSVG&&(r=t.width,i=t.height,g&&u&&u.fontSize==="11px"&&i.toPrecision(3)==="16.9"&&(t.height=i=14),s&&(t.width=l(i*h(a))+l(r*c(a)),t.height=l(i*c(a))+l(r*h(a)))),e.bBox=t,p&&(n.cache[p]=t)}return t},show:function(e){return e&&this.element.namespaceURI===S?this.element.removeAttribute("visibility"):this.attr({visibility:e?"inherit":K}),this},hide:function(){return this.attr({visibility:$})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.attr({y:-9999})}})},add:function(e){var t=this.renderer,n=e||t,r=n.element||t.box,i,s=this.element,o=this.zIndex,u,a,f,l;e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,this.textStr!==undefined&&t.buildText(this),o&&(n.handleZ=!0,o=kt(o));if(n.handleZ){i=r.childNodes;for(f=0;f<i.length;f++){u=i[f],a=Bt(u,"zIndex");if(u!==s&&(kt(a)>o||!Ht(o)&&Ht(a))){r.insertBefore(s,u),l=!0;break}}}return l||r.appendChild(s),this.added=!0,this.onAdd&&this.onAdd(),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e=this,t=e.element||{},n=e.shadows,r=e.renderer.isSVG&&t.nodeName==="SPAN"&&e.parentGroup,i,s,o;t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=t.point=null,Sn(e),e.clipPath&&(e.clipPath=e.clipPath.destroy());if(e.stops){for(o=0;o<e.stops.length;o++)e.stops[o]=e.stops[o].destroy();e.stops=null}e.safeRemoveChild(t),n&&pn(n,function(t){e.safeRemoveChild(t)});while(r&&r.div&&r.div.childNodes.length===0)i=r.parentGroup,e.safeRemoveChild(r.div),delete r.div,r=i;e.alignTo&&Pt(e.renderer.alignedObjects,e);for(s in e)delete e[s];return null},shadow:function(e,t,n){var r=[],i,s,o=this.element,u,f,l,c;if(e){f=Ft(e.width,3),l=(e.opacity||.15)/f,c=this.parentInverted?"(-1,-1)":"("+Ft(e.offsetX,1)+", "+Ft(e.offsetY,1)+")";for(i=1;i<=f;i++)s=o.cloneNode(0),u=f*2+1-2*i,Bt(s,{isShadow:"true",stroke:e.color||"black","stroke-opacity":l*i,"stroke-width":u,transform:"translate"+c,fill:G}),n&&(Bt(s,"height",a(Bt(s,"height")-u,0)),s.cutHeight=u),t?t.element.appendChild(s):o.parentNode.insertBefore(s,o),r.push(s);this.shadows=r}return this},xGetter:function(e){return this.element.nodeName==="circle"&&(e={x:"cx",y:"cy"}[e]||e),this._defaultGetter(e)},_defaultGetter:function(e){var t=Ft(this[e],this.element?this.element.getAttribute(e):null,0);return/^[\-0-9\.]+$/.test(t)&&(t=parseFloat(t)),t},dSetter:function(e,t,n){e&&e.join&&(e=e.join(" ")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0"),n.setAttribute(t,e),this[t]=e},dashstyleSetter:function(e){var t;e=e&&e.toLowerCase();if(e){e=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),t=e.length;while(t--)e[t]=kt(e[t])*this["stroke-width"];e=e.join(",").replace("NaN","none"),this.element.setAttribute("stroke-dasharray",e)}},alignSetter:function(e){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[e])},opacitySetter:function(e,t,n){this[t]=e,n.setAttribute(t,e)},titleSetter:function(e){var n=this.element.getElementsByTagName("title")[0];n||(n=t.createElementNS(S,"title"),this.element.appendChild(n)),n.textContent=Ft(e,"").replace(/<[^>]*>/g,"")},textSetter:function(e){e!==this.textStr&&(delete this.bBox,this.textStr=e,this.added&&this.renderer.buildText(this))},fillSetter:function(e,t,n){typeof e=="string"?n.setAttribute(t,e):e&&this.colorGradient(e,t,n)},zIndexSetter:function(e,t,n){n.setAttribute(t,e),this[t]=e},_defaultSetter:function(e,t,n){n.setAttribute(t,e)}},Dn.prototype.yGetter=Dn.prototype.xGetter,Dn.prototype.translateXSetter=Dn.prototype.translateYSetter=Dn.prototype.rotationSetter=Dn.prototype.verticalAlignSetter=Dn.prototype.scaleXSetter=Dn.prototype.scaleYSetter=function(e,t){this[t]=e,this.doTransform=!0},Dn.prototype["stroke-widthSetter"]=Dn.prototype.strokeSetter=function(e,t,n){this[t]=e,this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],Dn.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):t==="stroke-width"&&e===0&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)};var Pn=function(){this.init.apply(this,arguments)};Pn.prototype={Element:Dn,init:function(e,r,i,s,o){var a=this,f=location,l,c,h;l=a.createElement("svg").attr({version:"1.1"}).css(this.getStyle(s)),c=l.element,e.appendChild(c),e.innerHTML.indexOf("xmlns")===-1&&Bt(c,"xmlns",S),a.isSVG=!0,a.box=c,a.boxWrapper=l,a.alignedObjects=[],a.url=(w||b)&&t.getElementsByTagName("base").length?f.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",a.defs=this.createElement("defs").add(),a.forExport=o,a.gradients={},a.cache={},a.setSize(r,i,!1);var p,d;w&&e.getBoundingClientRect&&(a.subPixelFix=p=function(){It(e,{left:0,top:0}),d=e.getBoundingClientRect(),It(e,{left:u(d.left)-d.left+Q,top:u(d.top)-d.top+Q})},p(),gn(n,"resize",p))},getStyle:function(e){return this.style=Tt({fontFamily:"Arial, Helvetica, sans-serif",fontSize:"12px"},e)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this,t=e.defs;return e.box=null,e.boxWrapper=e.boxWrapper.destroy(),rn(e.gradients||{}),e.gradients=null,t&&(e.defs=t.destroy()),e.subPixelFix&&yn(n,"resize",e.subPixelFix),e.alignedObjects=null,null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},truncate:function(e,n,r,i,s,o,u){var a=this,f=e.rotation,l,c=i?1:0,h=(r||i).length,p=h,d=[],v=function(e){n.firstChild&&n.removeChild(n.firstChild),e&&n.appendChild(t.createTextNode(e))},m=function(t,o){var f=o||t;if(typeof d[f]=="undefined")if(n.getSubStringLength)try{d[f]=s+n.getSubStringLength(0,i?f+1:f)}catch(l){""}else a.getSpanWidth&&(v(u(r||i,t)),d[f]=s+a.getSpanWidth(e,n));return d[f]},g,y;e.rotation=0,g=m(n.textContent.length),y=s+g>o;if(y){while(c<=h)p=Math.ceil((c+h)/2),i&&(l=u(i,p)),g=m(p,l&&l.length-1),c===h?c=h+1:g>o?h=p-1:c=p;h===0?v(""):(!r||h!==r.length-1)&&v(l||u(r||i,p))}return i&&i.splice(0,p),e.actualWidth=g,e.rotation=f,e.bBox&&(e.bBox=null),y},buildText:function(e){var n=e.element,r=this,i=r.forExport,s=Ft(e.textStr,"").toString(),o=s.indexOf("<")!==-1||s.indexOf("&lt;")!=-1,u,a=n.childNodes,f,l,c=Bt(n,"x"),h=e.styles,p=e.textWidth,d=h&&h.lineHeight,v=h&&h.HcTextStroke,m=a.length,g=function(e){return d?kt(d):r.fontMetrics(/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:h&&h.fontSize||r.style.fontSize||12,e).h};while(m--)n.removeChild(a[m]);if(!o&&!v&&s.indexOf(" ")===-1&&(!h||h.textOverflow!=="ellipsis")){n.appendChild(t.createTextNode(s));return}f=/style=("|')(.*?)("|')/g,l=/<.*href="(http[^"]+)".*>/,p&&!e.added&&this.box.appendChild(n);if(o){u=s.split(/<br.*?>/gi);for(var m=0;m<u.length;m++)u[m]=u[m].replace(/<(b|strong)/gi,'<span style="font-weight:bold"').replace(/<(i|em)/gi,'<span style="font-style:italic"').replace(/<a/gi,"<span").replace(/<\/(b|strong|i|em|a)>/gi,"</span>")}else u=[s];u[u.length-1]===""&&u.pop(),pn(u,function(s,u){var a,d=0,v=[];s=s.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),a=s.split("|||"),pn(a,function(s){if(s!==""||a.length===1){var m={},y=t.createElementNS(S,"tspan"),b;if(o){var w;while(w=f.exec(s))b=w[2].replace(/(;| |^)color([ :])/,"$1fill$2"),v.push(b)}l.test(s)&&!i&&(Bt(y,"onclick",'location.href="'+s.match(l)[1]+'"'),It(y,{cursor:"pointer"})),s=(s.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");if(s!==" "){y.appendChild(t.createTextNode(s)),d?m.dx=0:u&&c!==null&&(m.x=c),Bt(y,m),v.length>0&&(Bt(y,"style",v.join(";")),v=[]),n.appendChild(y),!d&&u&&(!T&&i&&It(y,{display:"block"}),Bt(y,"dy",g(y)));if(p){var E=s.replace(/([^\^])-/g,"$1- ").split(" "),x=a.length>1||E.length>1&&h.whiteSpace!=="nowrap",N,C,k=h.HcHeight,L=[],A=g(y),O=1,M;if(h&&h.textOverflow==="ellipsis")truncated=r.truncate(e,y,s,void 0,0,Math.max(0,p-parseInt(h&&h.fontSize||12,10)),function(e,t){return e.substring(0,t)+"…"});else while(x&&(E.length||L.length))delete e.bBox,M=e.getBBox(),C=M.width,!T&&r.forExport&&(C=r.measureSpanWidth(y.firstChild.data,e.styles)),N=C>p,!N||E.length===1?(E=L,L=[],E.length&&(O++,k&&O*A>k?(E=["..."],e.attr("title",e.textStr)):(y=t.createElementNS(S,"tspan"),Bt(y,{dy:A,x:c}),b&&Bt(y,"style",b),n.appendChild(y))),C>p&&(p=C)):(y.removeChild(y.firstChild),L.unshift(E.pop())),E.length&&y.appendChild(t.createTextNode(E.join(" ").replace(/- /g,"-")))}d++}}})})},button:function(e,t,n,r,i,s,o,u,a){var f=this.label(e,t,n,a,null,null,null,null,"button"),l=0,c,h,p,d,v,m,y={x1:0,y1:0,x2:0,y2:1};return i=Nt({"stroke-width":1,stroke:"#CCCCCC",fill:"#ffffff",r:2,padding:5,style:{color:"black"}},i),p=i.style,delete i.style,s=Nt(i,{stroke:"#68A",fill:"#f0f0f0"},s),d=s.style,delete s.style,o=Nt(i,{stroke:"#68A",fill:{linearGradient:y,stops:[[0,"#9BD"],[1,"#CDF"]]}},o),v=o.style,delete o.style,u=Nt(i,{style:{color:"#CCC"}},u),m=u.style,delete u.style,gn(f.element,g?"mouseover":"mouseenter",function(){l!==3&&f.attr(s).css(d)}),gn(f.element,g?"mouseout":"mouseleave",function(){l!==3&&(c=[i,s,o][l],h=[p,d,v][l],f.attr(c).css(h))}),f.setState=function(e){f.state=l=e,e?e===2?f.attr(o).css(v):e===3&&f.attr(u).css(m):f.attr(i).css(p)},f.on("click",function(){l!==3&&r.call(f)}).attr(i).css(Tt({cursor:"default"},p))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=i(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=i(e[2])+t%2/2),e},path:function(e){var t={fill:G};return Ot(e)?t.d=e:At(e)&&Tt(t,e),this.createElement("path").attr(t)},circle:function(e,t,n){var r=At(e)?e:{x:e,y:t,r:n},i=this.createElement("circle");return i.xSetter=function(e){this.element.setAttribute("cx",e)},i.ySetter=function(e){this.element.setAttribute("cy",e)},i.attr(r)},arc:function(e,t,n,r,i,s){var o;return At
(e)&&(t=e.y,n=e.r,r=e.innerR,i=e.start,s=e.end,e=e.x),o=this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:r||0,start:i||0,end:s||0}),o.r=n,o},rect:function(t,n,r,i,s,o){s=At(t)?t.r:s;var u=this.createElement("rect"),f=At(t)?t:t===e?{}:{x:t,y:n,width:a(r,0),height:a(i,0)};return o!==e&&(f.strokeWidth=o,f=u.crisp(f)),s&&(f.r=s),u.rSetter=function(e){Bt(this.element,{rx:e,ry:e})},u.attr(f)},setSize:function(e,t,n){var r=this,i=r.alignedObjects,s=i.length;r.width=e,r.height=t,r.boxWrapper[Ft(n,!0)?"animate":"attr"]({width:e,height:t});while(s--)i[s].align()},g:function(e){var t=this.createElement("g");return Ht(e)?t.attr({"class":J+e}):t},image:function(e,t,n,r,i){var s={preserveAspectRatio:G},o;return arguments.length>1&&Tt(s,{x:t,y:n,width:r,height:i}),o=this.createElement("image").attr(s),o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):o.element.setAttribute("hc-svg-href",e),o},symbol:function(e,t,n,r,s,o){var u,a=this.symbols[e],f=a&&a(i(t),i(n),r,s,o),l,c=/^url\((.*?)\)$/,h,p,d;return f?(u=this.path(f),Tt(u,{symbolName:e,x:t,y:n,width:r,height:s}),o&&Tt(u,o)):c.test(e)&&(d=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(i((r-t[0])/2),i((s-t[1])/2)))},h=e.match(c)[1],p=A[h]||o&&o.width&&o.height&&[o.width,o.height],u=this.image(h).attr({x:t,y:n}),u.isImg=!0,p?d(u,p):(u.attr({width:0,height:0}),l=qt("img",{onload:function(){d(u,A[h]=[this.width,this.height])},src:h}))),u},symbols:{circle:function(e,t,n,r){var i=.166*n;return[Z,e+n/2,t,"C",e+n+i,t,e+n+i,t+r,e+n/2,t+r,"C",e-i,t+r,e-i,t,e+n/2,t,"Z"]},square:function(e,t,n,r){return[Z,e,t,et,e+n,t,e+n,t+r,e,t+r,"Z"]},triangle:function(e,t,n,r){return[Z,e+n/2,t,et,e+n,t+r,e,t+r,"Z"]},"triangle-down":function(e,t,n,r){return[Z,e,t,et,e+n,t,e+n/2,t+r,"Z"]},diamond:function(e,t,n,r){return[Z,e+n/2,t,et,e+n,t+r/2,e+n/2,t+r,e,t+r/2,"Z"]},arc:function(e,t,n,r,i){var s=i.start,o=i.r||n||r,u=i.end-.001,a=i.innerR,f=i.open,l=c(s),d=h(s),v=c(u),m=h(u),g=i.end-s<p?0:1;return[Z,e+o*l,t+o*d,"A",o,o,0,g,1,e+o*v,t+o*m,f?Z:et,e+a*v,t+a*m,"A",a,a,0,g,0,e+a*l,t+a*d,f?"":"Z"]},callout:function(e,t,n,r,s){var o=6,u=6,a=f(s&&s.r||0,n,r),l=a+u,c=s&&s.anchorX,h=s&&s.anchorY,p,d=i(s.strokeWidth||0)%2/2;return e+=d,t+=d,p=["M",e+a,t,"L",e+n-a,t,"C",e+n,t,e+n,t,e+n,t+a,"L",e+n,t+r-a,"C",e+n,t+r,e+n,t+r,e+n-a,t+r,"L",e+a,t+r,"C",e,t+r,e,t+r,e,t+r-a,"L",e,t+a,"C",e,t,e,t,e+a,t],c&&c>n&&h>t+l&&h<t+r-l?p.splice(13,3,"L",e+n,h-u,e+n+o,h,e+n,h+u,e+n,t+r-a):c&&c<0&&h>t+l&&h<t+r-l?p.splice(33,3,"L",e,h+u,e-o,h,e,h-u,e,t+a):h&&h>r&&c>e+l&&c<e+n-l?p.splice(23,3,"L",c+u,t+r,c,t+r+o,c-u,t+r,e+a,t+r):h&&h<0&&c>e+l&&c<e+n-l&&p.splice(3,3,"L",c-u,t,c,t-o,c+u,t,n-a,t),p}},clipRect:function(e,t,n,r){var i,s=J+O++,o=this.createElement("clipPath").attr({id:s}).add(this.defs);return i=this.rect(e,t,n,r,0).add(o),i.id=s,i.clipPath=o,i},text:function(e,t,n,r){var i=this,s=C||!T&&i.forExport,o,u={};if(r&&!i.forExport)return i.html(e,t,n);u.x=Math.round(t||0),n&&(u.y=Math.round(n));if(e||e===0)u.text=e;return o=i.createElement("text").attr(u),s&&o.css({position:X}),r||(o.xSetter=function(e,t,n){var r=n.getElementsByTagName("tspan"),i,s=n.getAttribute(t),o;for(o=0;o<r.length;o++)i=r[o],i.getAttribute(t)===s&&i.setAttribute(t,e);n.setAttribute(t,e)}),o},fontMetrics:function(e,t){e=e||this.style.fontSize;if(t&&n.getComputedStyle){t=t.element||t;var r=n.getComputedStyle(t,"");r&&(e=r.fontSize)}e=/px/.test(e)?kt(e):/em/.test(e)?parseFloat(e)*12:12;var s=e<24?e+4:i(e*1.2),o=i(s*.8);return{h:s,b:o,f:e}},label:function(t,n,r,s,o,u,a,f,l){function k(){var e,t,n=p.element.style;v=(b===undefined||w===undefined||h.styles.textAlign)&&p.textStr&&p.getBBox(),h.width=(b||v.width||0)+2*g+y,h.height=(w||v.height||0)+2*g,N=g+c.fontMetrics(n&&n.fontSize,p).b,C&&(d||(e=i(-m*g),t=f?-N:0,h.box=d=s?c.symbol(s,e,t,h.width,h.height,T):c.rect(e,t,h.width,h.height,0,T[ot]),d.attr("fill",G).add(h)),d.isImg||d.attr(Tt({width:i(h.width),height:i(h.height)},T)),T=null)}function L(){var t=h.styles,n=t&&t.textAlign,r=y+g*(1-m),i;i=f?0:N,Ht(b)&&v&&(n==="center"||n==="right")&&(r+={center:.5,right:1}[n]*(b-v.width));if(r!==p.x||i!==p.y)p.attr("x",r),i!==e&&p.attr("y",i);p.x=r,p.y=i}function A(e,t){d?d.attr(e,t):T[e]=t}var c=this,h=c.g(l),p=c.text("",0,0,a).attr({zIndex:1}),d,v,m=0,g=3,y=0,b,w,E,S,x=0,T={},N,C;h.onAdd=function(){p.add(h),h.attr({text:t||t===0?t:"",x:n,y:r}),d&&Ht(o)&&h.attr({anchorX:o,anchorY:u})},h.widthSetter=function(e){b=e},h.heightSetter=function(e){w=e},h.paddingSetter=function(e){Ht(e)&&e!==g&&(g=e,L())},h.paddingLeftSetter=function(e){Ht(e)&&e!==y&&(y=e,L())},h.alignSetter=function(e){m={left:0,center:.5,right:1}[e]},h.textSetter=function(t){t!==e&&p.textSetter(t),k(),L()},h["stroke-widthSetter"]=function(e,t){e&&(C=!0),x=e%2/2,A(t,e)},h.strokeSetter=h.fillSetter=h.rSetter=function(e,t){t==="fill"&&e&&(C=!0),A(t,e)},h.anchorXSetter=function(e,t){o=e,A(t,e+x-E)},h.anchorYSetter=function(e,t){u=e,A(t,e-S)},h.xSetter=function(e){h.x=e,m&&(e-=m*((b||v.width)+g)),E=i(e),h.attr("translateX",E)},h.ySetter=function(e){S=h.y=i(e),h.attr("translateY",S)};var O=h.css;return Tt(h,{css:function(t){if(t){var n={};t=Nt(t),pn(h.textProps,function(r){t[r]!==e&&(n[r]=t[r],delete t[r])}),p.css(n)}return O.call(h,t)},getBBox:function(){return{width:v.width+2*g,height:v.height+2*g,x:v.x-g,y:v.y-g}},shadow:function(e){return d&&d.shadow(e),h},destroy:function(){yn(h.element,"mouseenter"),yn(h.element,"mouseleave"),p&&(p=p.destroy()),d&&(d=d.destroy()),Dn.prototype.destroy.call(h),h=c=k=L=A=null}})}},k=Pn,Tt(Dn.prototype,{htmlCss:function(e){var t=this,n=t.element,r=e&&n.tagName==="SPAN"&&e.width;return r&&(delete e.width,t.textWidth=r,t.updateTransform()),t.styles=Tt(t.styles,e),It(t.element,e),t},htmlGetBBox:function(){var e=this,t=e.element,n=e.bBox;return n||(t.nodeName==="text"&&(t.style.position=X),n=e.bBox={x:t.offsetLeft,y:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight}),n},htmlUpdateTransform:function(){if(!this.added){this.alignOnAdd=!0;return}var e=this,t=e.renderer,n=e.element,r=e.translateX||0,i=e.translateY||0,s=e.x||0,o=e.y||0,u=e.textAlign||"left",a={left:0,center:.5,right:1}[u],f=e.shadows,l=e.styles;It(n,{marginLeft:r,marginTop:i}),f&&pn(f,function(e){It(e,{marginLeft:r+1,marginTop:i+1})}),e.inverted&&pn(n.childNodes,function(e){t.invertChild(e,n)});if(n.tagName==="SPAN"){var c=e.rotation,h,p=kt(e.textWidth),d=l&&l.whiteSpace,v=[c,u,n.innerHTML,e.textWidth,e.textAlign].join(",");v!==e.cTT&&(h=t.fontMetrics(n.style.fontSize).b,Ht(c)&&e.setSpanRotation(c,a,h),n.offsetWidth>p&&/[ \-]/.test(n.textContent||n.innerText)?(It(n,{width:p+Q,display:"block",whiteSpace:d||"normal",textAlign:u}),e.hasTextWidth=!0):e.hasTextWidth&&(It(n,{width:"",display:"",whiteSpace:d||"nowrap"}),e.hasTextWidth=!1),e.getSpanCorrection(e.hasTextWidth?p:n.offsetWidth,h,a,c,u)),It(n,{left:s+(e.xCorr||0)+Q,top:o+(e.yCorr||0)+Q}),b&&(h=n.offsetHeight),e.cTT=v}},setSpanRotation:function(e,t,n){var r={},i=g?"-ms-transform":b?"-webkit-transform":w?"MozTransform":m?"-o-transform":"";r[i]=r.transform="rotate("+e+"deg)",r[i+(w?"Origin":"-origin")]=r.transformOrigin=t*100+"% "+n+"px",It(this.element,r)},getSpanCorrection:function(e,t,n){this.xCorr=-e*n,this.yCorr=-t}}),Tt(Pn.prototype,{html:function(e,t,n){var r=this.createElement("span"),s=r.element,o=r.renderer;return r.textSetter=function(e){e!==s.innerHTML&&delete this.bBox,s.innerHTML=this.textStr=e},r.xSetter=r.ySetter=r.alignSetter=r.rotationSetter=function(e,t){t==="align"&&(t="textAlign"),r[t]=e,r.htmlUpdateTransform()},r.attr({text:e,x:i(t),y:i(n)}).css({position:X,fontFamily:this.style.fontFamily,fontSize:this.style.fontSize}),s.style.whiteSpace="nowrap",r.css=r.htmlCss,o.isSVG&&(r.add=function(e){var t,n=o.box.parentNode,i,u=[];this.parentGroup=e;if(e){t=e.div;if(!t){i=e;while(i)u.push(i),i=i.parentGroup;pn(u.reverse(),function(e){var r;t=e.div=e.div||qt(W,{className:Bt(e.element,"class")},{position:X,left:(e.translateX||0)+Q,top:(e.translateY||0)+Q},t||n),r=t.style,Tt(e,{translateXSetter:function(t,n){r.left=t+Q,e[n]=t,e.doTransform=!0},translateYSetter:function(t,n){r.top=t+Q,e[n]=t,e.doTransform=!0},visibilitySetter:function(e,t){r[t]=e}})})}}else t=n;return t.appendChild(s),r.added=!0,r.alignOnAdd&&r.htmlUpdateTransform(),r}),r}});var Hn,Bn;if(!T&&!C){Bn={init:function(e,t){var n=this,r=["<",t,' filled="f" stroked="f"'],i=["position: ",X,";"],s=t===W;(t==="shape"||s)&&i.push("left:0;top:0;width:1px;height:1px;"),i.push("visibility: ",s?$:K),r.push(' style="',i.join(""),'"/>'),t&&(r=s||t==="span"||t==="img"?r.join(""):e.prepVML(r),n.element=qt(r)),n.renderer=e},add:function(e){var t=this,n=t.renderer,r=t.element,i=n.box,s=e&&e.inverted,o=e?e.element||e:i;return s&&n.invertChild(r,o),o.appendChild(r),t.added=!0,t.alignOnAdd&&!t.deferUpdateTransform&&t.updateTransform(),t.onAdd&&t.onAdd(),t},updateTransform:Dn.prototype.htmlUpdateTransform,setSpanRotation:function(){var e=this.rotation,t=c(e*d),n=h(e*d);It(this.element,{filter:e?["progid:DXImageTransform.Microsoft.Matrix(M11=",t,", M12=",-n,", M21=",n,", M22=",t,", sizingMethod='auto expand')"].join(""):G})},getSpanCorrection:function(e,t,n,r,i){var s=r?c(r*d):1,o=r?h(r*d):0,u=Ft(this.elemHeight,this.element.offsetHeight),a,f=i&&i!=="left";this.xCorr=s<0&&-e,this.yCorr=o<0&&-u,a=s*o<0,this.xCorr+=o*t*(a?1-n:n),this.yCorr-=s*t*(r?a?n:1-n:1),f&&(this.xCorr-=e*n*(s<0?-1:1),r&&(this.yCorr-=u*n*(o<0?-1:1)),It(this.element,{textAlign:i}))},pathToVML:function(e){var t=e.length,n=[];while(t--)Mt(e[t])?n[t]=i(e[t]*10)-5:e[t]==="Z"?n[t]="x":(n[t]=e[t],e.isArc&&(e[t]==="wa"||e[t]==="at")&&(n[t+5]===n[t+7]&&(n[t+7]+=e[t+7]>e[t+5]?1:-1),n[t+6]===n[t+8]&&(n[t+8]+=e[t+8]>e[t+6]?1:-1)));return n.join(" ")||"x"},clip:function(e){var t=this,n,r;return e?(n=e.members,Pt(n,t),n.push(t),t.destroyClip=function(){Pt(n,t)},r=e.getCSS(t)):(t.destroyClip&&t.destroyClip(),r={clip:y?"inherit":"rect(auto)"}),t.css(r)},css:Dn.prototype.htmlCss,safeRemoveChild:function(e){e.parentNode&&sn(e)},destroy:function(){return this.destroyClip&&this.destroyClip(),Dn.prototype.destroy.apply(this)},on:function(e,t){return this.element["on"+e]=function(){var e=n.event;e.target=e.srcElement,t(e)},this},cutOffPath:function(e,t){var n;e=e.split(/[ ,]/),n=e.length;if(n===9||n===11)e[n-4]=e[n-2]=kt(e[n-2])-10*t;return e.join(" ")},shadow:function(e,t,n){var r=[],i,s=this.element,o=this.renderer,u,a=s.style,f,l=s.path,c,h,p,d;l&&typeof l.value!="string"&&(l="x"),h=l;if(e){p=Ft(e.width,3),d=(e.opacity||.15)/p;for(i=1;i<=3;i++)c=p*2+1-2*i,n&&(h=this.cutOffPath(l.value,c+.5)),f=['<shape isShadow="true" strokeweight="',c,'" filled="false" path="',h,'" coordsize="10 10" style="',s.style.cssText,'" />'],u=qt(o.prepVML(f),null,{left:kt(a.left)+Ft(e.offsetX,1),top:kt(a.top)+Ft(e.offsetY,1)}),n&&(u.cutOff=c+1),f=['<stroke color="',e.color||"black",'" opacity="',d*i,'"/>'],qt(o.prepVML(f),null,null,u),t?t.element.appendChild(u):s.parentNode.insertBefore(u,s),r.push(u);this.shadows=r}return this},updateShadows:I,setAttr:function(e,t){y?this.element[e]=t:this.element.setAttribute(e,t)},classSetter:function(e){this.element.className=e},dashstyleSetter:function(e,t,n){var r=n.getElementsByTagName("stroke")[0]||qt(this.renderer.prepVML(["<stroke/>"]),null,null,n);r[t]=e||"solid",this[t]=e},dSetter:function(e,t,n){var r,i=this.shadows;e=e||[],this.d=e.join&&e.join(" "),n.path=e=this.pathToVML(e);if(i){r=i.length;while(r--)i[r].path=i[r].cutOff?this.cutOffPath(e,i[r].cutOff):e}this.setAttr(t,e)},fillSetter:function(e,t,n){var r=n.nodeName;r==="SPAN"?n.style.color=e:r!=="IMG"&&(n.filled=e!==G,this.setAttr("fillcolor",this.renderer.color(e,n,t,this)))},opacitySetter:I,rotationSetter:function(e,t,n){var r=n.style;this[t]=r[t]=e,r.left=-i(h(e*d)+1)+Q,r.top=i(c(e*d))+Q},strokeSetter:function(e,t,n){this.setAttr("strokecolor",this.renderer.color(e,n,t))},"stroke-widthSetter":function(e,t,n){n.stroked=!!e,this[t]=e,Mt(e)&&(e+=Q),this.setAttr("strokeweight",e)},titleSetter:function(e,t){this.setAttr(t,e)},visibilitySetter:function(e,t,n){e==="inherit"&&(e=K),this.shadows&&pn(this.shadows,function(n){n.style[t]=e}),n.nodeName==="DIV"&&(e=e===$?"-999em":0,y||(n.style[t]=e?K:$),t="top"),n.style[t]=e},xSetter:function(e,t,n){this[t]=e,t==="x"?t="left":t==="y"&&(t="top"),this.updateClipping?(this[t]=e,this.updateClipping()):n.style[t]=e},zIndexSetter:function(e,t,n){n.style[t]=e}},St.VMLElement=Bn=Rt(Dn,Bn),Bn.prototype.ySetter=Bn.prototype.widthSetter=Bn.prototype.heightSetter=Bn.prototype.xSetter;var jn={Element:Bn,isIE8:v.indexOf("MSIE 8.0")>-1,init:function(e,n,r,i){var s=this,o,u,a;s.alignedObjects=[],o=s.createElement(W).css(Tt(this.getStyle(i),{position:V})),u=o.element,e.appendChild(o.element),s.isVML=!0,s.box=u,s.boxWrapper=o,s.cache={},s.setSize(n,r,!1);if(!t.namespaces.hcv){t.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),a="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ";try{t.createStyleSheet().cssText=a}catch(f){t.styleSheets[0].cssText+=a}}},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,t,n,r){var s=this.createElement(),o=At(e);return Tt(s,{members:[],left:(o?e.x:e)+1,top:(o?e.y:t)+1,width:(o?e.width:n)-1,height:(o?e.height:r)-1,getCSS:function(e){var t=e.element,n=t.nodeName,r=n==="shape",s=e.inverted,o=this,u=o.top-(r?t.offsetTop:0),a=o.left,f=a+o.width,l=u+o.height,c={clip:"rect("+i(s?a:u)+"px,"+i(s?l:f)+"px,"+i(s?f:l)+"px,"+i(s?u:a)+"px)"};return!s&&y&&n==="DIV"&&Tt(c,{width:f+Q,height:l+Q}),c},updateClipping:function(){pn(s.members,function(e){e.element&&e.css(s.getCSS(e))})}})},color:function(e,t,n,i){var s=this,o,u=/^rgba/,a,f,l=G;e&&e.linearGradient?f="gradient":e&&e.radialGradient&&(f="pattern");if(f){var c,h,d=e.linearGradient||e.radialGradient,v,m,g,y,b,w,E,S,x="",T=e.stops,N,C,k=[],L=function(){a=['<fill colors="'+k.join(",")+'" opacity="',w,'" o:opacity2="',b,'" type="',f,'" ',x,'focus="100%" method="any" />'],qt(s.prepVML(a),null,null,t)};N=T[0],C=T[T.length-1],N[0]>0&&T.unshift([0,N[1]]),C[0]<1&&T.push([1,C[1]]),pn(T,function(e,t){u.test(e[1])?(o=_n(e[1]),c=o.get("rgb"),h=o.get("a")):(c=e[1],h=1),k.push(e[0]*100+"% "+c),t?(w=h,E=c):(b=h,S=c)});if(n==="fill")if(f==="gradient")v=d.x1||d[0]||0,m=d.y1||d[1]||0,g=d.x2||d[2]||0,y=d.y2||d[3]||0,x='angle="'+(90-r.atan((y-m)/(g-v))*180/p)+'"',L();else{var A=d.r,O=A*2,M=A*2,D=d.cx,P=d.cy,H=t.radialReference,B,j=function(){H&&(B=i.getBBox(),D+=(H[0]-B.x)/B.width-.5,P+=(H[1]-B.y)/B.height-.5,O*=H[2]/B.width,M*=H[2]/B.height),x='src="'+_.global.VMLRadialGradientURL+'" '+'size="'+O+","+M+'" '+'origin="0.5,0.5" '+'position="'+D+","+P+'" '+'color2="'+S+'" ',L()};i.added?j():i.onAdd=j,l=E}else l=c}else if(u.test(e)&&t.tagName!=="IMG")o=_n(e),a=["<",n,' opacity="',o.get("a"),'"/>'],qt(this.prepVML(a),null,null,t),l=o.get("rgb");else{var F=t.getElementsByTagName(n);F.length&&(F[0].opacity=1,F[0].type="solid"),l=e}return l},prepVML:function(e){var t="display:inline-block;behavior:url(#default#VML);",n=this.isIE8;return e=e.join(""),n?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e.indexOf('style="')===-1?e=e.replace("/>",' style="'+t+'" />'):e=e.replace('style="','style="'+t)):e=e.replace("<","<hcv:"),e},text:Pn.prototype.html,path:function(e){var t={coordsize:"10 10"};return Ot(e)?t.d=e:At(e)&&Tt(t,e),this.createElement("shape").attr(t)},circle:function(e,t,n){var r=this.symbol("circle");return At(e)&&(n=e.r,t=e.y,e=e.x),r.isCircle=!0,r.r=n,r.attr({x:e,y:t})},g:function(e){var t,n;return e&&(n={className:J+e,"class":J+e}),t=this.createElement(W).attr(n),t},image:function(e,t,n,r,i){var s=this.createElement("img").attr({src:e});return arguments.length>1&&s.attr({x:t,y:n,width:r,height:i}),s},createElement:function(e){return e==="rect"?this.symbol(e):Pn.prototype.createElement.call(this,e)},invertChild:function(e,t){var n=this,r=t.style,i=e.tagName==="IMG"&&e.style;It(e,{flip:"x",left:kt(r.width)-(i?kt(i.top):1),top:kt(r.height)-(i?kt(i.left):1),rotation:-90}),pn(e.childNodes,function(t){n.invertChild(t,e)})},symbols:{arc:function(e,t,n,r,i){var s=i.start,o=i.end,u=i.r||n||r,a=i.innerR,f=c(s),l=h(s),p=c(o),d=h(o),v;return o-s===0?["x"]:(v=["wa",e-u,t-u,e+u,t+u,e+u*f,t+u*l,e+u*p,t+u*d],i.open&&!a&&v.push("e",Z,e,t),v.push("at",e-a,t-a,e+a,t+a,e+a*p,t+a*d,e+a*f,t+a*l,"x","e"),v.isArc=!0,v)},circle:function(e,t,n,r,i){return i&&(n=r=2*i.r),i&&i.isCircle&&(e-=n/2,t-=r/2),["wa",e,t,e+n,t+r,e+n,t+r/2,e+n,t+r/2,"e"]},rect:function(e,t,n,r,i){return Pn.prototype.symbols[!Ht(i)||!i.r?"square":"callout"].call(0,e,t,n,r,i)}}};St.VMLRenderer=Hn=function(){this.init.apply(this,arguments)},Hn.prototype=Nt(Pn.prototype,jn),k=Hn}Pn.prototype.measureSpanWidth=function(e,n){var r=t.createElement("span"),i,s=t.createTextNode(e);return r.appendChild(s),It(r,n),this.box.appendChild(r),i=r.offsetWidth,sn(r),i};var Fn,In;C&&(St.CanVGRenderer=Fn=function(){S="http://www.w3.org/1999/xhtml"},Fn.prototype.symbols={},In=function(){function t(){var t=e.length,n;for(n=0;n<t;n++)e[n]();e=[]}var e=[];return{push:function(n,r){e.length===0&&cn(r,t),e.push(n)}}}(),k=Fn),qn.prototype={addLabel:function(){var e=this,t=e.axis,n=t.options,r=t.chart,s=t.horiz,o=t.categories,u=t.names,f=e.pos,l=n.labels,h=l.rotation,p,v=t.tickPositions,m=s&&o&&!l.step&&!l.staggerLines&&!l.rotation&&r.plotWidth/v.length||!s&&(t.labelsWidth||(t.labelsWidth=r.margin[3]||r.chartWidth*.33)),g=f===v[0],y=f===v[v.length-1],b,w,E=o?Ft(o[f],u[f],f):f,S=e.label,x=v.info,T;t.isDatetimeAxis&&x&&(T=n.dateTimeLabelFormats[x.higherRanks[f]||x.unitName]),e.isFirst=g,e.isLast=y,p=t.labelFormatter.call({axis:t,chart:r,isFirst:g,isLast:y,dateTimeLabelFormat:T,value:t.isLog?on(Dt(E)):E}),t.options.labels.maxLabelLength&&(p=xt(p,t.options.labels.maxLabelLength)),t.categories&&(f<0||f===u.length)&&u.length!=0&&(p=""),b=m&&{width:a(1,i(m-2*(l.padding||10)))+Q};if(!Ht(S))w={align:t.labelAlign},Mt(h)&&(w.rotation=h),m&&l.ellipsis&&(b.HcHeight=t.len/v.length),Ht(r.renderer)&&(e.label=S=Ht(p)&&l.enabled?r.renderer.text(p,0,0,l.useHTML).attr(w).css(Tt(b,l.style)).add(t.labelGroup):null,t.tickBaseline=r.renderer.fontMetrics(l.style.fontSize,S).b,h&&t.side===2&&(t.tickBaseline*=c(h*d)));else if(S){var N=S.attr({text:p});N&&N.css(b)}e.yOffset=S?Ft(l.y,t.tickBaseline+(t.side===2?8:-(S.getBBox().height/2))):0},getLabelSize:function(){var e=this.label,t=this.axis;return e?e.getBBox()[t.horiz?"height":"width"]:0},getLabelSides:function(){var e=this.label.getBBox(),t=this.axis,n=t.horiz,r=t.options,i=r.labels,s=n?e.width:e.height,o=n?i.x-s*{left:0,center:.5,right:1}[t.labelAlign]:0,u=n?s+o:s;return[o,u]},handleOverflow:function(t,n){var r=!0,i=this.axis,s=this.isFirst,o=this.isLast,u=i.horiz,a=u?n.x:n.y,f=i.reversed,l=i.tickPositions,c=this.getLabelSides(),h=c[0],p=c[1],d,v,m,g,y=this.label.line,b=y||0,w=i.labelEdge,E=i.justifyLabels&&(s||o),S;if(i.options.showAllTicksWithOverlap)return!0;w[b]===e||a+h>w[b]?w[b]=a+p:E||(r=!1);if(E){S=i.justifyToPlot;if(o){var x=LogiXML.layout.getTextDimensions(this.label.textStr,this.label.styles),T=document.getElementById(i.chart.options.id);if(T){var N=T.getBoundingClientRect(),C=n.x-h,k=C+x.width;k>=N.width&&(S=!0)}}d=S?i.pos:0,v=S?d+i.len:i.chart.chartWidth;do t+=s?1:-1,m=i.ticks[l[t]];while(l[t]&&(!m||!m.label||m.label.line!==y));g=m&&m.label.xy&&m.label.xy.x+m.getLabelSides()[s?0:1],s&&!f||o&&f?a+h<d&&(a=d-h,m&&a+p>g&&(r=!1)):a+p>v&&(a=v-p,m&&a+h<g&&(r=!1)),n.x=a}return r},getPosition:function(e,t,n,r){var i=this.axis,s=i.chart,o=r&&s.oldChartHeight||s.chartHeight;return{x:e?i.translate(t+n,null,null,r)+i.transB:i.left+i.offset+(i.opposite?(r&&s.oldChartWidth||s.chartWidth)-i.right-i.left:0),y:e?o-i.bottom+i.offset-(i.opposite?i.height:0):o-i.translate(t+n,null,null,r)-i.transB}},getLabelPosition:function(e,t,n,r,i,s,o,u){var a=this.axis,f=a.transA,l=a.reversed,c=a.staggerLines;return e=e+i.x-(s&&r?s*f*(l?-1:1):0),t=t+this.yOffset-(s&&!r?s*f*(l?1:-1):0),c&&(n.line=o/(u||1)%c,t+=n.line*(a.labelOffset/c)),{x:e,y:t}},getMarkPath:function(e,t,n,r,i,s){if(Ht(s))return s.crispLine([Z,e,t,et,e+(i?0:-n),t+(i?n:0)],r)},render:function(t,n,r){var i=this,s=i.axis,o=s.options,u=s.chart,a=u.renderer,f=s.horiz,l=i.type,c=i.label,h=i.pos,p=o.labels,d=i.gridLine,v=l?l+"Grid":"grid",m=l?l+"Tick":"tick",g=o[v+"LineWidth"],y=o[v+"LineColor"],b=o[v+"LineDashStyle"],w=o[m+"Length"],E=o[m+"Width"]||0,S=o[m+"Color"],x=o[m+"Position"],T,N=i.mark,C,k=p.step,L,A=!0,O=s.tickmarkOffset,M=i.getPosition(f,h,O,n),_=M.x,D=M.y,P=f&&_===s.pos+s.len||!f&&D===s.pos?-1:1;r=Ft(r,1),this.isActive=!0,g&&(T=s.getPlotLinePath(h+O,g*P,n,!0),d===e&&(L={stroke:y,"stroke-width":g},b&&(L.dashstyle=b),l||(L.zIndex=1),n&&(L.opacity=0),i.gridLine=d=g?a.path(T).attr(L).add(s.gridGroup):null),!n&&d&&T&&d[i.isNew?"attr":"animate"]({d:T,opacity:r})),E&&w&&Ht(a)&&(x==="inside"&&(w=-w),s.opposite&&(w=-w),C=i.getMarkPath(_,D,w,E*P,f,a),N?N.animate({d:C,opacity:r}):i.mark=a.path(C).attr({stroke:S,"stroke-width":E,opacity:r}).add(s.axisGroup)),c&&!isNaN(_)&&(c.xy=M=i.getLabelPosition(_,D,c,f,p,O,t,k),i.isFirst&&!i.isLast&&!Ft(o.showFirstLabel,1)||i.isLast&&!i.isFirst&&!Ft(o.showLastLabel,1)?A=!1:!s.isRadial&&!p.step&&!p.rotation&&!n&&r!==0&&(A=i.handleOverflow(t,M)),k&&t%k&&(A=!1),A&&!isNaN(M.y)?(M.opacity=r,c[i.isNew?"attr":"animate"](M),i.isNew=!1):c.attr("y",-9999))},destroy:function(){rn(this,this.axis)}},St.PlotLineOrBand=function(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)},St.PlotLineOrBand.prototype={render:function(){var e=this,t=e.axis,n=t.horiz,r=(t.pointRange||0)/2,i=e.options,s=i.label,o=e.label,u=i.width,l=i.to,c=i.from,h=Ht(c)&&Ht(l),p=i.value,d=i.dashStyle,v=e.svgElem,m=[],g,y,b,w,E,S,x=i.color,T=i.zIndex,N=i.events,C={},k=t.chart.renderer;t.isLog&&(c=_t(c),l=_t(l),p=_t(p));if(u)m=t.getPlotLinePath(p,u),C={stroke:x,"stroke-width":u},d&&(C.dashstyle=d);else{if(!h)return;c=a(c,t.min-r),l=f(l,t.max+r),m=t.getPlotBandPath(c,l,i),x&&(C.fill=x),i.borderWidth&&(C.stroke=i.borderColor,C["stroke-width"]=i.borderWidth)}Ht(T)&&(C.zIndex=T);if(v)m?v.animate({d:m},null,v.onGetPath):(v.hide(),v.onGetPath=function(){v.show()},o&&(e.label=o=o.destroy()));else if(m&&m.length){e.svgElem=v=k.path(m).attr(C).add();if(N){g=function(t){v.on(t,function(n){N[t].apply(e,[n])})};for(y in N)g(y)}}return s&&Ht(s.text)&&m&&m.length&&t.width>0&&t.height>0?(s=Nt({align:n&&h&&"center",x:n?!h&&4:10,verticalAlign:!n&&h&&"middle",y:n?h?16:10:h?6:-4,rotation:n&&!h&&90},s),o||(C={align:s.textAlign||s.align,rotation:s.rotation},Ht(T)&&(C.zIndex=T),e.label=o=k.text(s.text,0,0,s.useHTML).attr(C).css(s.style).add()),b=[m[1],m[4],h?m[6]:m[1]],w=[m[2],m[5],h?m[7]:m[2]],E=tn(b),S=tn(w),o.align(s,!1,{x:E,y:S,width:nn(b)-E,height:nn(w)-S}),o.show()):o&&o.hide(),e},destroy:function(){Pt(this.axis.plotLinesAndBands,this),delete this.axis,rn(this)}},st={getPlotBandPath:function(e,t){var n=this.getPlotLinePath(t),r=this.getPlotLinePath(e);return r&&n?r.push(n[4],n[5],n[1],n[2]):r=null,r},addPlotBand:function(e){return this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){return this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var n=(new St.PlotLineOrBand(this,e)).render(),r=this.userOptions;return n&&(t&&(r[t]=r[t]||[],r[t].push(e)),this.plotLinesAndBands.push(n)),n},removePlotBandOrLine:function(e){var t=this.plotLinesAndBands,n=this.options,r=this.userOptions,i=t.length;while(i--)t[i].id===e&&t[i].destroy();pn([n.plotLines||[],r.plotLines||[],n.plotBands||[],r.plotBands||[]],function(t){i=t.length;while(i--)t[i].id===e&&Pt(t,t[i])})}},Rn.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:xn,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return Ut(this.total,-1)},style:xn.style}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-15},title:{rotation:0}},init:function(t,n){var r=n.isX,i=this;i.horiz=t.inverted?!r:r,i.isXAxis=r,i.coll=r?"xAxis":"yAxis",i.opposite=n.opposite,i.side=n.side||(i.horiz?i.opposite?0:2:i.opposite?1:3),i.setOptions(n);var s=this.options,o=s.type,u=o==="datetime";i.labelFormatter=s.labels.formatter||i.defaultLabelFormatter,i.userOptions=n,i.minPixelPadding=0,i.chart=t,i.reversed=s.reversed,i.zoomEnabled=s.zoomEnabled!==!1,i.categories=s.categories||o==="category",i.names=[],i.isLog=o==="logarithmic",i.isDatetimeAxis=u,i.isLinked=Ht(s.linkedTo),i.tickmarkOffset=i.categories&&s.tickmarkPlacement==="between"&&Ft(s.tickInterval,1)===1?.5:0,i.ticks={},i.labelEdge=[],i.minorTicks={},i.plotLinesAndBands=[],i.alternateBands={},i.len=0,i.minRange=i.userMinRange=s.minRange||s.maxZoom,i.range=s.range,i.offset=s.offset||0,i.stacks={},i.oldStacks={},i.max=null,i.min=null,i.crosshair=Ft(s.crosshair,jt(t.options.tooltip.crosshairs)[r?0:1],!1);var a,f=i.options.events;hn(i,t.axes)===-1&&(r&&!this.isColorAxis?t.axes.splice(t.xAxis.length,0,i):t.axes.push(i),t[i.coll].push(i)),i.series=i.series||[],t.inverted&&r&&i.reversed===e&&(i.reversed=!0),i.removePlotBand=i.removePlotBandOrLine,i.removePlotLine=i.removePlotBandOrLine;for(a in f)gn(i,a,f[a]);i.isLog&&(i.val2lin=_t,i.lin2val=Dt)},setOptions:function(e){this.options=Nt(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],Nt(_[this.coll],e))},defaultLabelFormatter:function(){var t=this.axis,n=this.value,r=t.categories,i=this.dateTimeLabelFormat,s=_.lang.numericSymbols,o=s&&s.length,u,a,f=t.options.labels.format,c=t.isLog?n:t.tickInterval;if(f)a=Qt(f,this);else if(r)a=n;else if(i)a=D(i,n);else if(o&&c>=1e3)while(o--&&a===e)u=Math.pow(1e3,o+1),c>=u&&s[o]!==null&&(a=Ut(n/u,-1)+s[o]);return a===e&&(l(n)>=1e4?a=Ut(n,0):a=Ut(n,-1,e,"")),a},getSeriesExtremes:function(){var e=this,t=e.chart;e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.ignoreMinPadding=e.ignoreMaxPadding=null,e.buildStacks&&e.buildStacks(),pn(e.series,function(n){if(n.visible||!t.options.chart.ignoreHiddenSeries){var r=n.options,i,s=r.threshold,o,u;e.hasVisibleSeries=!0,e.isLog&&s<=0&&(s=null),e.isXAxis?(i=n.xData,i.length&&(e.dataMin=f(Ft(e.dataMin,i[0]),tn(i)),e.dataMax=a(Ft(e.dataMax,i[0]),nn(i)),isNaN(e.dataMin)&&(e.dataMin=tn(i,!0)),isNaN(e.dataMax)&&(e.dataMax=nn(i),e.dataMax==null&&(e.dataMax=e.dataMin)))):(n.getExtremes(),u=n.dataMax,o=n.dataMin,Ht(o)&&Ht(u)&&(e.dataMin=f(Ft(e.dataMin,o),o),e.dataMax=a(Ft(e.dataMax,u),u)),Ht(s)&&(e.dataMin>=s?(e.dataMin=s,e.ignoreMinPadding=!0):e.dataMax<s&&(e.dataMax=s,e.ignoreMaxPadding=!0)))}})},translate:function(e,t,n,r,i,s){var o=this,u=1,a=0,f=r?o.oldTransA:o.transA,l=r?o.oldMin:o.min,c,h=o.minPixelPadding,p=(o.options.ordinal||o.isLog&&i)&&o.lin2val;return f||(f=o.transA),n&&(u*=-1,a=o.len),o.reversed&&(u*=-1,a-=u*(o.sector||o.len)),t?(e=e*u+a,e-=h,c=e/f+l,p&&(c=o.lin2val(c))):(p&&(e=o.val2lin(e)),s==="between"&&(s=.5),c=u*(e-l)*f+a+u*h+(Mt(s)?f*s*o.pointRange:0)),c},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,n,r,s){var o=this,u=o.chart,a=o.left,f=o.top,l,c,h,p,d=n&&u.oldChartHeight||u.chartHeight,v=n&&u.oldChartWidth||u.chartWidth,m,g=o.transB;s=Ft(s,o.translate(e,null,null,n)),l=h=i(s+g),c=p=i(d-s-g);if(isNaN(s))m=!0;else if(o.horiz){c=f,p=d-o.bottom;if(l<a||l>a+o.width)m=!0}else l=a,h=v-o.right,c<f&&(m=!0);return m&&!r?null:u.renderer.crispLine([Z,l,c,et,h,p],t||1)},getLinearTickPositions:function(e,t,n,r){var i,o,a=on(s(t/e)*e),f=on(u(n/e)*e),l=[];if(t===n&&Mt(t))return[t];i=a;if(r)return l.push(0),l.push(1),n==2&&l.push(2),l;while(i<=f){l.push(i),i=on(i+e);if(i===o)break;o=i}return l},getMinorTickPositions:function(){var e=this,t=e.options,n=e.tickPositions,r=e.minorTickInterval,i=[],s,o,u;if(e.isLog){u=n.length;for(o=1;o<u;o++)i=i.concat(e.getLogTickPositions(r,n[o-1],n[o],!0))}else if(e.isDatetimeAxis&&t.minorTickInterval==="auto")i=i.concat(e.getTimeTicks(e.normalizeTimeTickInterval(r),e.min,e.max,t.startOfWeek)),i[0]<e.min&&i.shift();else for(s=e.min+(n[0]-e.min)%r;s<=e.max;s+=r)i.push(s);return i},adjustForMinRange:function(){var t=this,n=t.options,r=t.min,i=t.max,s,o=t.dataMax-t.dataMin>=t.minRange,u,a,l,c,h,p,d;t.isXAxis&&t.minRange===e&&!t.isLog&&(Ht(n.min)||Ht(n.max)?t.minRange=null:(pn(t.series,function(t){c=t.xData,h=t.xIncrement?1:c.length-1;for(a=h;a>0;a--){l=c[a]-c[a-1];if(u===e||l<u)u=l}}),t.minRange=f(u*5,t.dataMax-t.dataMin)));if(i-r<t.minRange){var v=t.minRange;s=(v-i+r)/2,p=[r-s,Ft(n.min,r-s)],o&&(p[2]=t.dataMin),r=nn(p),d=[r+v,Ft(n.max,r+v)],o&&(d[2]=t.dataMax),i=tn(d),i-r<v&&(p[0]=i-v,p[1]=Ft(n.min,i-v),r=nn(p))}t.min=r,t.max=i},setAxisTranslation:function(e){var t=this,n=t.max-t.min,r=t.axisPointRange||0,i,s=0,o=0,u=t.linkedParent,l,c=!!t.categories,h=t.transA;if(t.isXAxis||c||r)u?(s=u.minPointOffset,o=u.pointRangePadding):pn(t.series,function(e){var u=c?1:t.isXAxis?e.pointRange:t.axisPointRange||0,l=e.options.pointPlacement,h=e.closestPointRange;u>n&&(u=0),r=a(r,u),s=a(s,Lt(l)?0:u/2),o=a(o,l==="on"?0:u),!e.noSharedTooltip&&Ht(h)&&(i=Ht(i)?f(i,h):h)}),l=t.ordinalSlope&&i?t.ordinalSlope/i:1,t.minPointOffset=s*=l,t.pointRangePadding=o*=l,t.pointRange=f(r,n),t.closestPointRange=i;e&&(t.oldTransA=h),t.translationSlope=t.transA=h=t.len/(n+o||1),t.transB=t.horiz?t.left:t.bottom,t.minPixelPadding=h*s},setTickPositions:function(e){var t=this,n=t.chart,r=t.options,i=r.startOnTick,s=r.endOnTick,o=t.isLog,u=t.isDatetimeAxis,c=t.isXAxis,h=t.isLinked,p=t.options.tickPositioner,d=r.maxPadding,v=r.minPadding,m,g,y=r.tickInterval,b,w=r.minTickInterval,E=r.tickPixelInterval,S,x,T=t.categories;h?(t.linkedParent=n[t.coll][r.linkedTo],g=t.linkedParent.getExtremes(),t.min=Ft(g.min,g.dataMin),t.max=Ft(g.max,g.dataMax),r.type!==t.linkedParent.options.type&&F(11,1,n)):(t.min=Ft(t.userMin,r.min,t.dataMin),t.max=Ft(t.userMax,r.max,t.dataMax)),o&&(!e&&f(t.min,Ft(t.dataMin,t.min))<=0&&F(10,1,n),t.min=on(_t(t.min)),t.max=on(_t(t.max))),t.range&&Ht(t.max)&&(t.userMin=t.min=a(t.min,t.max-t.range),t.userMax=t.max,t.range=null),t.beforePadding&&t.beforePadding(),t.adjustForMinRange(),!T&&!t.axisPointRange&&!t.usePercentage&&!h&&Ht(t.min)&&Ht(t.max)&&(m=t.max-t.min,m&&(!Ht(r.min)&&!Ht(t.userMin)&&v&&(t.dataMin<0||!t.ignoreMinPadding)||t.chart.options.chart.type=="gauge"||t.series[0]&&t.series[0].type&&t.series[0].type.endsWith("gauge")?t.dataMin>=0&&!t.isDatetimeAxis&&!t.isXAxis&&!t.isLog?t.min-m*v<0?r.min=0:t.min-=m*v:t.min-=m*v:!Ht(r.min)&&!Ht(t.userMin)&&t.dataMin<0&&!t.chart.angular&&(t.min=t.dataMin-m*v),!Ht(r.max)&&!Ht(t.userMax)&&d&&(t.dataMax>0||!t.ignoreMaxPadding)&&(t.max+=m*d))),Mt(r.floor)&&(t.min=a(t.min,r.floor)),Mt(r.ceiling)&&(t.max=f(t.max,r.ceiling)),t.min===t.max||t.min===undefined||t.max===undefined?t.tickInterval=1:h&&!y&&E===t.linkedParent.options.tickPixelInterval?t.tickInterval=t.linkedParent.tickInterval:(t.tickInterval=Ft(y,T?1:(t.max-t.min)*E/a(t.len,E)),!Ht(y)&&t.len<E&&!this.isRadial&&!this.isLog&&!T&&i&&s&&(x=!0,t.tickInterval/=4)),c&&!e&&pn(t.series,function(e){e.processData(t.min!==t.oldMin||t.max!==t.oldMax)}),t.setAxisTranslation(!0),t.beforeSetTickPositions&&t.beforeSetTickPositions(),t.postProcessTickInterval&&(t.tickInterval=t.postProcessTickInterval(t.tickInterval)),t.pointRange&&!t.tickInterval&&(t.tickInterval=t.pointRange),b=Ft(r.minTickInterval,t.isDatetimeAxis&&t.closestPointRange),!y&&t.tickInterval<b&&(t.tickInterval=b),!u&&!o&&(y||(t.tickInterval=Yt(t.tickInterval,null,Gt(t.tickInterval),Ft(r.allowDecimals,!(t.tickInterval>1&&t.tickInterval<5&&t.max>1e3&&t.max<9999))))),t.minorTickInterval=r.minorTickInterval==="auto"&&t.tickInterval?t.tickInterval/5:r.minorTickInterval,t.tickPositions=S=r.tickPositions?[].concat(r.tickPositions):p&&p.apply(t,[t.min,t.max]),S||(!t.ordinalPositions&&(t.max-t.min)/t.tickInterval>a(2*t.len,200)&&F(19,!0,n),u?S=t.getTimeTicks(t.normalizeTimeTickInterval(t.tickInterval
,r.units),t.min,t.max,r.startOfWeek,t.ordinalPositions,t.closestPointRange,!0):o?S=t.getLogTickPositions(t.tickInterval,t.min,t.max):S=t.getLinearTickPositions(t.tickInterval,t.min,t.max,t.hasBinaryValues),x&&S.splice(1,S.length-2),t.tickPositions=S);if(!h&&!t.options.holdLastTick){var N=S[0],C=S[S.length-1],k=t.minPointOffset||0,L;i?t.min=N:t.min-k>N&&S.shift(),s?t.max=C:t.max+k<C&&S.pop(),S.length===0&&Ht(N)&&S.push((C+N)/2),S.length===1&&(L=l(t.max)>1e13?1:.001,t.min-=L,t.max+=L)}},setMaxTicks:function(){var e=this.chart,t=e.maxTicks||{},n=this.tickPositions,r=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&n&&n.length>(t[r]||0)&&this.options.alignTicks!==!1&&(t[r]=n.length),e.maxTicks=t},adjustTickAmount:function(){var t=this,n=t.chart,r=t._maxTicksKey,i=t.tickPositions,s=n.maxTicks;if(s&&s[r]&&!t.isDatetimeAxis&&!t.categories&&!t.isLinked&&t.options.alignTicks!==!1&&this.min!==e){var o=t.tickAmount,u=i.length,a;t.tickAmount=a=s[r];if(u<a){while(i.length<a)i.push(on(i[i.length-1]+t.tickInterval));t.transA*=(u-1)/(a-1),t.max=i[i.length-1]}Ht(o)&&a!==o&&(t.isDirty=!0)}},setScale:function(){var e=this,t=e.stacks,n,r,i,s;e.oldMin=e.min,e.oldMax=e.max,e.oldAxisLength=e.len,e.setAxisSize(),s=e.len!==e.oldAxisLength,pn(e.series,function(e){if(e.isDirtyData||e.isDirty||e.xAxis.isDirty)i=!0});if(s||i||e.isLinked||e.forceRedraw||e.userMin!==e.oldUserMin||e.userMax!==e.oldUserMax){if(!e.isXAxis)for(n in t)for(r in t[n])t[n][r].total=null,t[n][r].cum=0;e.forceRedraw=!1,e.getSeriesExtremes(),e.setTickPositions(),e.oldUserMin=e.userMin,e.oldUserMax=e.userMax,e.isDirty||(e.isDirty=s||e.min!==e.oldMin||e.max!==e.oldMax)}else if(!e.isXAxis){e.oldStacks&&(t=e.stacks=e.oldStacks);for(n in t)for(r in t[n])t[n][r].cum=t[n][r].total}e.setMaxTicks()},setExtremes:function(e,t,n,r,i){var s=this,o=s.chart;n=Ft(n,!0),i=Tt(i,{min:e,max:t}),bn(s,"setExtremes",i,function(){s.userMin=e,s.userMax=t,s.eventArgs=i,s.isDirtyExtremes=!0,n&&o.redraw(r)})},zoom:function(t,n){var r=this.dataMin,i=this.dataMax,s=this.options;return this.allowZoomOutside||(Ht(r)&&t<f(r,Ft(s.min,r))&&(t=e),Ht(i)&&n>a(i,Ft(s.max,i))&&(n=e)),this.displayBtn=t!==e||n!==e,this.setExtremes(t,n,!1,e,{trigger:"zoom"}),!0},setAxisSize:function(){var e=this.chart,t=this.options,n=t.offsetLeft||0,r=t.offsetRight||0,i=this.horiz,s=Ft(t.width,e.plotWidth-n+r),o=Ft(t.height,e.plotHeight),u=Ft(t.top,e.plotTop),f=Ft(t.left,e.plotLeft+n),l=/%$/;l.test(o)&&(o=parseInt(o,10)/100*e.plotHeight),l.test(u)&&(u=parseInt(u,10)/100*e.plotHeight+e.plotTop),this.left=f,this.top=u,this.width=s,this.height=o-(e.legend&&e.legend.baseline?e.legend.baseline:0),this.bottom=e.chartHeight-o-u,this.right=e.chartWidth-s-f,this.len=a(i?s:o,0),this.pos=i?f:u},getExtremes:function(){var e=this,t=e.isLog;return{min:t?on(Dt(e.min)):e.min,max:t?on(Dt(e.max)):e.max,dataMin:e.dataMin,dataMax:e.dataMax,userMin:e.userMin,userMax:e.userMax}},getThreshold:function(e){var t=this,n=t.isLog,r=n?Dt(t.min):t.min,i=n?Dt(t.max):t.max;return r>e||e===null?e=r:i<e&&(e=i),t.translate(e,0,1,0,1)},autoLabelAlign:function(e){var t,n=(Ft(e,0)-this.side*90+720)%360;return n>15&&n<165?t="right":n>195&&n<345?t="left":t="center",t},getOffset:function(){var t=this,n=t.chart,r=n.renderer,i=t.options,o=t.tickPositions,u=t.ticks,f=t.horiz,l=t.side,c=n.inverted?[1,0,3,2][l]:l,h,p,d=0,v,m=0,g=i.title,y=i.labels,b=0,w,E=n.axisOffset,S=n.clipOffset,x=[-1,1,1,-1][l],T,N,C=1,k=Ft(y.maxStaggerLines,5),L,A,O,M,_,D,P,H,B;t.hasData=h=t.hasVisibleSeries||Ht(t.min)&&Ht(t.max)&&!!o,t.showAxis=p=h||Ft(i.showEmpty,!0),t.staggerLines=t.horiz&&y.staggerLines,Ht(n.renderer)&&(t.axisGroup||(t.gridGroup=r.g("grid").attr({zIndex:i.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid ").add(),t.axisGroup=r.g("axis").attr({zIndex:i.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" ").add(),t.labelGroup=r.g("axis-labels").attr({zIndex:y.zIndex||7}).addClass("highcharts-"+t.coll.toLowerCase()+"-labels ").add()));if(h||t.isLinked){t.labelAlign=Ft(y.align||t.autoLabelAlign(y.rotation)),pn(o,function(e){u[e]?u[e].addLabel():u[e]=new qn(t,e)});if(t.horiz&&!t.staggerLines&&k&&!y.rotation){L=t.reversed?[].concat(o).reverse():o;while(C<k){A=[],O=!1;for(N=0;N<L.length;N++)M=L[N],_=u[M].label&&u[M].label.getBBox(),P=_?_.width:0,H=N%C,P&&(D=t.translate(M),A[H]!==e&&D<A[H]&&(O=!0),A[H]=D+P);if(!O)break;C++}C>1&&(t.staggerLines=C)}pn(o,function(e){if(l===0||l===2||{1:"left",3:"right"}[l]===t.labelAlign)b=a(u[e].getLabelSize(),b)}),t.staggerLines&&(b*=t.staggerLines,t.labelOffset=b)}else for(T in u)u[T].destroy(),delete u[T];g&&g.text&&g.enabled!==!1&&(t.axisTitle||(t.axisTitle=r.text(g.text,0,0,g.useHTML).attr({zIndex:7,rotation:g.rotation||0,align:g.textAlign||{low:"left",middle:"center",high:"right"}[g.align]}).addClass(J+this.coll.toLowerCase()+"-title").css(g.style).add(t.axisGroup),t.axisTitle.isNew=!0),p&&(d=t.axisTitle.getBBox()[f?"height":"width"],v=g.offset,m=Ht(v)?0:Ft(g.margin,f?5:10)),t.axisTitle[p?"show":"hide"]()),t.offset=x*Ft(i.offset,E[l]),B=l===2?t.tickBaseline:0,w=b+m+(b&&x*(f?Ft(y.y,t.tickBaseline+8):y.x)-B),t.axisTitleMargin=Ft(v,w),E[l]=a(E[l],t.axisTitleMargin+d+x*t.offset,w),S[c]=a(S[c],s(i.lineWidth/2)*2)},getLinePath:function(e){var t=this.chart,n=this.opposite,r=this.offset,i=this.horiz,s=this.left+(n?this.width:0)+r,o=t.chartHeight-this.bottom-(n?this.height:0)+r;n&&(e*=-1);if(Ht(t.renderer))return t.renderer.crispLine([Z,i?this.left:s,i?o:this.top,et,i?t.chartWidth-this.right:s,i?o:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,n=this.top,r=this.len,i=this.options.title,s=e?t:n,o=this.opposite,u=this.offset,a=kt(i.style.fontSize||12),f={low:s+(e?0:r),middle:s+r/2,high:s+(e?r:0)}[i.align],l=(e?n+this.height:t)+(e?1:-1)*(o?-1:1)*this.axisTitleMargin+(this.side===2?a:0),c=this.chart;return e&&c&&c.legend&&c.legend.itemHeight&&(u+=c.legend.itemHeight),{x:e?f:l+(o?this.width:0)+u+(i.x||0),y:e?l-(o?this.height:0)+u:f+(i.y||0)}},render:function(){var t=this,n=t.horiz,r=t.reversed,i=t.chart,s=i.renderer,o=t.options,u=t.isLog,a=t.isLinked,f=t.tickPositions,l,c=t.axisTitle,h=t.ticks,p=t.minorTicks,d=t.alternateBands,v=o.stackLabels,m=o.alternateGridColor,g=t.tickmarkOffset,y=o.lineWidth,b,w=i.hasRendered,E=w&&Ht(t.oldMin)&&!isNaN(t.oldMin),S=t.hasData,x=t.showAxis,T,N=o.labels.overflow,C=t.justifyLabels=n&&N!==!1,k;t.labelEdge.length=0,t.justifyToPlot=N==="justify",pn([h,p,d],function(e){var t;for(t in e)e[t].isActive=!1});do{f=t.tickPositions,h=t.ticks;if(S||a){t.minorTickInterval&&!t.categories&&pn(t.getMinorTickPositions(),function(e){p[e]||(p[e]=new qn(t,e,"minor")),E&&p[e].isNew&&p[e].render(null,!0),p[e].render(null,!1,1)});if(f.length){l=f.slice(),(n&&r||!n&&!r)&&l.reverse();if(C)if(!t.options.holdLastTick)l=l.slice(1).concat([l[0]]);else{if(f.length>0){h[l[l.length-1]].pos=t.options.max;var L=h[l[l.length-1]];h[l[l.length-1]].destroy(),delete h[l[l.length-1]],h[t.options.max]&&h[t.options.max].destroy(),h[t.options.max]=null}l[l.length-1]=t.options.max,f[f.length-1]=t.options.max,t.tickPositions=f,t.max=t.options.max,t.ticks=h;if(l[0]<t.options.min){if(f.length>0){h[l[0]].pos=t.options.min;var L=h[l[0]];h[l[0]].destroy(),delete h[l[0]],h[t.options.min]&&h[t.options.min].destroy(),h[t.options.min]=null}l[0]=t.options.min,f[0]=t.options.min,t.tickPositions=f,t.min=t.options.min,t.ticks=h}var A=parseInt(Math.abs(t.options.max-t.options.min)/t.options.tickInterval);if(t.tickPositions.length-1>A&&l.length>2){var O=l.length-2;h[l[O]].destroy(),delete h[l[O]],t.ticks=h,l.removeAt(O),f.removeAt(f.length-2),t.tickPositions=f}}pn(l,function(e,n){C&&(n=n===l.length-1?0:n+1),t.options.holdLastTick&&e===l.length-1&&(n=l.length-2);if(!a||e>=t.min&&e<=t.max)h[e]||(h[e]=new qn(t,e)),E&&h[e].isNew&&h[e].render(n,!0,.1),h[e].render(n)}),g&&t.min===0&&(h[-1]||(h[-1]=new qn(t,-1,null,!0)),h[-1].render(-1))}m&&pn(f,function(n,r){r%2===0&&n<t.max&&(d[n]||(d[n]=new St.PlotLineOrBand(t)),T=n+g,k=f[r+1]!==e?f[r+1]+g:t.max,d[n].options={from:u?Dt(T):T,to:u?Dt(k):k,color:m},d[n].render(),d[n].isActive=!0)}),t._addedPlotLB||(pn((o.plotLines||[]).concat(o.plotBands||[]),function(e){t.addPlotBandOrLine(e)}),t._addedPlotLB=!0)}}while(t.decreaseTickCountIfOverlap&&!t.decreaseTickCountIfOverlap(t,h,l,f));pn([h,p,d],function(e){var t,n,r=[],s=P?P.duration||500:0,o=function(){n=r.length;while(n--)e[r[n]]&&!e[r[n]].isActive&&(e[r[n]].destroy(),delete e[r[n]])};for(t in e)e[t].isActive||(e[t].render(t,!1,0),e[t].isActive=!1,r.push(t));e===d||!i.hasRendered||!s?o():s&&setTimeout(o,s)}),y&&Ht(s)&&(b=t.getLinePath(y),t.axisLine?t.axisLine.animate({d:b}):t.axisLine=s.path(b).attr({stroke:o.lineColor,"stroke-width":y,zIndex:7}).add(t.axisGroup),t.axisLine[x?"show":"hide"]()),c&&x&&(c[c.isNew?"attr":"animate"](t.getTitlePosition()),c.isNew=!1),v&&v.enabled&&t.renderStackTotals(),t.isDirty=!1},redraw:function(){this.render(),pn(this.plotLinesAndBands,function(e){e.render()}),pn(this.series,function(e){e.isDirty=!0})},destroy:function(e){var t=this,n=t.stacks,r,i=t.plotLinesAndBands,s;e||yn(t);for(r in n)rn(n[r]),n[r]=null;pn([t.ticks,t.minorTicks,t.alternateBands],function(e){rn(e)}),s=i.length;while(s--)i[s].destroy();pn(["stackTotalGroup","axisLine","axisTitle","axisGroup","cross","gridGroup","labelGroup"],function(e){t[e]&&(t[e]=t[e].destroy())}),this.cross&&this.cross.destroy()},drawCrosshair:function(e,t){if(!this.crosshair)return;if((Ht(t)||!Ft(this.crosshair.snap,!0))===!1){this.hideCrosshair();return}var n,r=this.crosshair,i=r.animation,s;Ft(r.snap,!0)?Ht(t)&&(s=this.chart.inverted!=this.horiz?t.plotX:this.len-t.plotY):s=this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos,this.isRadial?n=this.getPlotLinePath(this.isXAxis?t.x:Ft(t.stackY,t.y)):n=this.getPlotLinePath(null,null,null,null,s);if(n===null){this.hideCrosshair();return}if(this.cross)this.cross.attr({visibility:K})[i?"animate":"attr"]({d:n},i);else{var o={"stroke-width":r.width||1,stroke:r.color||"#C0C0C0",zIndex:r.zIndex||2};r.dashStyle&&(o.dashstyle=r.dashStyle),this.cross=this.chart.renderer.path(n).attr(o).add()}},hideCrosshair:function(){this.cross&&this.cross.hide()}},Tt(Rn.prototype,st),Rn.prototype.getTimeTicks=function(e,t,n,r){var i=[],o,u={},a=_.global.useUTC,f,l=new ut(t-ft),c=e.unitRange,h=e.count;if(Ht(t)){c>=j.second&&(l.setMilliseconds(0),l.setSeconds(c>=j.minute?0:h*s(l.getSeconds()/h))),c>=j.minute&&l[mt](c>=j.hour?0:h*s(l[lt]()/h)),c>=j.hour&&l[gt](c>=j.day?0:h*s(l[ct]()/h)),c>=j.day&&l[yt](c>=j.month?1:h*s(l[pt]()/h)),c>=j.month&&(l[bt](c>=j.year?0:h*s(l[dt]()/h)),f=l[vt]()),c>=j.year&&(f-=f%h,l[wt](f)),c===j.week&&l[yt](l[pt]()-l[ht]()+Ft(r,1)),o=1,ft&&(l=new ut(l.getTime()+ft)),f=l[vt]();var p=l.getTime(),d=l[dt](),v=l[pt](),m=(j.day+(a?ft:l.getTimezoneOffset()*60*1e3))%j.day;while(p<n)i.push(p),c===j.year?p=at(f+o*h,0):c===j.month?p=at(f,d+o*h):!!a||c!==j.day&&c!==j.week?p+=c*h:p=at(f,d,v+o*h*(c===j.day?1:7)),o++;i.push(p);var g=document.getElementById("rdConstantFirstDayOfFiscalYearHidden"),y=0,b=!1,w=!1,E=this.isXAxis?this.chart.userOptions.xAxis[0]:this.chart.userOptions.yAxis[0];b=(new RegExp(/fqq?/g)).test(E.labels.format),w=(new RegExp(/fyyyy?|fyy?/g)).test(E.labels.format);if(g&&b&&i.length>1){var S=this.dataMin;i=[];while(S<this.dataMax){i.push(S);var x=new ut(S),T=x.getUTCMonth()+3;x.setUTCMonth(T),S=x.getTime()}var N=(new ut(this.dataMax)).getTime()-(new ut(i[i.length-1])).getTime(),C=N/864e5;C>60&&i.push(this.dataMax)}if(g&&w&&E.labels.format.indexOf("fqq")<0&&i.length>1){var S=this.dataMin;i=[];while(S<this.dataMax){i.push(S);var x=new ut(S);x.setUTCFullYear(x.getUTCFullYear()+1),S=x.getTime()}i.push(this.dataMax)}pn(dn(i,function(e){return c<=j.hour&&e%j.day===m}),function(e){u[e]="day"})}return i.info=Tt(e,{higherRanks:u,totalRange:c*h}),i},Rn.prototype.normalizeTimeTickInterval=function(e,t){var n=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],r=n[n.length-1],i=j[r[0]],s=r[1],o,u;for(u=0;u<n.length;u++){r=n[u],i=j[r[0]],s=r[1];if(n[u+1]){var f=(i*s[s.length-1]+j[n[u+1][0]])/2;if(e<=f)break}}return i===j.year&&e<5*i&&(s=[1,2,5]),o=Yt(e/i,s,r[0]==="year"?a(Gt(e/i),1):1),{unitRange:i,count:o,unitName:r[0]}},Rn.prototype.getLogTickPositions=function(t,n,r,o){var u=this,a=u.options,f=u.len,l=[];o||(u._minorAutoInterval=null);if(t>=.5)t=i(t),l=u.getLinearTickPositions(t,n,r);else if(t>=.08){var c=s(n),h,p,d,v,m,g,y;t>.3?h=[1,2,4]:t>.15?h=[1,2,4,6,8]:h=[1,2,3,4,5,6,7,8,9];for(p=c;p<r+1&&!y;p++){v=h.length;for(d=0;d<v&&!y;d++)m=_t(Dt(p)*h[d]),m>n&&(!o||g<=r)&&g!==e&&l.push(g),g>r&&(y=!0),g=m}}else{var b=Dt(n),w=Dt(r),E=a[o?"minorTickInterval":"tickInterval"],S=E==="auto"?null:E,x=a.tickPixelInterval/(o?5:1),T=o?f/u.tickPositions.length:f;t=Ft(S,u._minorAutoInterval,(w-b)*x/(T||1)),t=Yt(t,null,Gt(t)),l=mn(u.getLinearTickPositions(t,b,w),_t),o||(u._minorAutoInterval=t/5)}return o||(u.tickInterval=t),l};var Un=St.Tooltip=function(){this.init.apply(this,arguments)};Un.prototype={init:function(e,t){var n=t.borderWidth,r=t.style,i=kt(r.padding);this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,Ht(e.renderer)&&(this.label=e.renderer.label("",0,0,t.shape||"callout",null,null,t.useHTML,null,"tooltip").attr({padding:i,fill:t.backgroundColor,"stroke-width":n,r:t.borderRadius,zIndex:8}).css(r).css({padding:0}).add().attr({y:-9999}),C||this.label.shadow(t.shadow)),this.shared=t.shared},destroy:function(){this.label&&(this.label=this.label.destroy()),clearTimeout(this.hideTimer),clearTimeout(this.tooltipTimeout)},move:function(t,n,r,i){var s=this,o=s.now,u=s.options.animation!==!1&&!s.isHidden&&(l(t-o.x)>1||l(n-o.y)>1),a=s.followPointer||s.len>1;Tt(o,{x:u?(2*o.x+t)/3:t,y:u?(o.y+n)/2:n,anchorX:a?e:u?(2*o.anchorX+r)/3:r,anchorY:a?e:u?(o.anchorY+i)/2:i}),s.label.attr(o),u&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){s&&s.move(t,n,r,i)},32))},hide:function(e,t){var n=this,r;clearTimeout(this.hideTimer),this.isHidden||(r=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){n.label.fadeOut(),n.isHidden=!0},Ft(e,this.options.hideDelay,500)),r&&pn(r,function(e){e.setState()}),this.chart.hoverPoints=null)},getAnchor:function(t,n){var r,s=this.chart,o=s.inverted,u=s.plotTop,a=0,f=0,l;return t=jt(t),r=t[0].tooltipPos,this.followPointer&&n&&(n.chartX===e&&(n=s.pointer.normalize(n)),r=[n.chartX-s.plotLeft,n.chartY-u]),r||(pn(t,function(e){e.series&&e.series.yAxis&&(l=e.series.yAxis),a+=e.plotX,f+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!o&&l?l.top-u:0)}),a/=t.length,f/=t.length,r=[o?s.plotWidth-f:a,this.shared&&!o&&t.length>1&&n?n.chartY-u:o?s.plotHeight-a:f]),mn(r,i)},getPosition:function(e,t,n){var r=this.chart,i=this.distance,s={},o,u=["y",r.chartHeight,t,n.plotY+r.plotTop],a=["x",r.chartWidth,e,n.plotX+r.plotLeft],f=!this.followPointer&&Ft(n.ttBelow,!r.inverted==!!n.negative),l=function(e,t,n,r){var o=n<r-i,u=r+i+n<t,a=r-i-n,l=r+i;if(f&&u)s[e]=l;else if(!f&&o)s[e]=a;else if(o)s[e]=a;else{if(!u)return!1;s[e]=l}},c=function(e,t,n,r){if(r<i||r>t-i)return!1;r<n/2?s[e]=1:r>t-n/2?s[e]=t-n-2:s[e]=r-n/2},h=function(e){var t=u;u=a,a=t,o=e},p=function(){l.apply(0,u)!==!1?c.apply(0,a)===!1&&!o&&(h(!0),p()):o?s.x=s.y=0:(h(!0),p())};return(r.inverted||this.len>1)&&h(),p(),s},defaultFormatter:function(e){var t=this.points||jt(this),n=t[0].series,r;return r=[e.tooltipHeaderFormatter(t[0])],pn(t,function(e){n=e.series,r.push(n.tooltipFormatter&&n.tooltipFormatter(e)||e.point.tooltipFormatter(n.tooltipOptions.pointFormat))}),r.push(e.options.footerFormat||""),r.join("")},refresh:function(e,t){var n=this,r=n.chart,i=n.label,s=n.options,o,u,a,f={},l,c=[],h=s.formatter||n.defaultFormatter,p=r.hoverPoints,d,v=n.shared,m;clearTimeout(this.hideTimer),n.followPointer=jt(e)[0].series.tooltipOptions.followPointer,a=n.getAnchor(e,t),o=a[0],u=a[1],v&&(!e.series||!e.series.noSharedTooltip)?(r.hoverPoints=e,p&&pn(p,function(e){e.setState()}),pn(e,function(e){e.setState(rt),c.push(e.getLabelConfig())}),f={x:e[0].category,y:e[0].y},f.points=c,this.len=c.length,e=e[0]):f=e.getLabelConfig(),l=h.call(f,n),m=e.series,this.distance=Ft(m.tooltipOptions.distance,16),l===!1?this.hide():(n.isHidden&&(Sn(i),i.attr("opacity",1).show(),i.div&&(i.div.style.zIndex=i.div.style.zIndex||1)),i.attr({text:l}),d=s.borderColor||e.color||m.color||"#606060",i.attr({stroke:d}),n.updatePosition({plotX:o,plotY:u,negative:e.negative,ttBelow:e.ttBelow,bar:e},t),this.isHidden=!1),bn(r,"tooltipRefresh",{text:l,x:o+r.plotLeft,y:u+r.plotTop,borderColor:d})},updatePosition:function(e,t){var n=this.chart,r=this.label;if(this.label.div){var s=this.label.div.children[0],o=Number.MIN_VALUE,u=[].slice.call(this.label.div.getElementsByTagName("tr")),a=this.label.div.getElementsByClassName("header");a&&a.length>0&&(u=u.concat([].slice.call(a)));var f=this.label.div.getElementsByClassName("body")[0];if(f){var l=f.getElementsByTagName("p");l&&l.length>0&&(u=u.concat([].slice.call(l)));var c=f.getElementsByTagName("b");c&&c.length>0&&(u=u.concat([].slice.call(c)));var h=f.getElementsByTagName("span");h&&h.length>0&&(u=u.concat([].slice.call(h))),u=u.concat(f)}s&&(s.style.width="",s.style.height=""),pn(u,function(e){if(e){var t=window.getComputedStyle(e),n=Jt(e.innerHTML.replace(/(<\/td>.*<td>)/gmi,"	"),t),r=e.getBoundingClientRect(),i=Math.max(n.width,r.width);o<i&&(o=i)}}),o>=this.chart.plotWidth?o=Math.ceil(this.chart.plotWidth-10):o=Math.ceil(o+$t(s)),this.label.width=o,this.label.div.style.width=o+"px";if(s){var p=s.getBoundingClientRect(),d=i(p.height);this.label.height=d,this.label.div.style.height=d+"px",s.style.width=o+"px",s.style.height=d+"px"}this.label.element.style.display="none"}var v=(this.options.positioner||this.getPosition).call(this,r.width,r.height,e);if(e.bar&&e.bar.shapeType=="rect"&&t&&this.chart.tooltip&&!this.chart.tooltip.followPointer){var m=e.bar.shapeArgs,g=v.x,y=v.x+r.width,b=v.y,w=v.y+r.height,E=t.pageX-n.renderTo.offsetLeft,S=t.pageY-n.renderTo.offsetTop,x=!(w-n.plotTop<m.y||b-n.plotTop>m.y+m.height||y-n.plotLeft<m.x||g-n.plotLeft>m.x+m.width);x&&(g-=10,y+=10,b-=10,w+=10),E>=g&&E<=y&&S>=b&&S<=w&&(m.x>r.width?v.x=m.x+n.plotLeft-r.width-15:v.x=m.x+m.width+n.plotLeft+15)}this.move(i(v.x),i(v.y),e.plotX+n.plotLeft,e.plotY+n.plotTop)},tooltipHeaderFormatter:function(e){var t=e.series,n=t.tooltipOptions,r=n.dateTimeLabelFormats,i=n.xDateFormat,s=t.xAxis,o=s&&s.options.type==="datetime"&&Mt(e.key),u=n.headerFormat,a=s&&s.closestPointRange,f;if(o&&!i){if(a){for(f in j)if(j[f]>=a||j[f]<=j.day&&e.key%j[f]>0){i=r[f];break}}else i=r.day;i=i||r.year}return o&&i&&(u=u.replace("{point.key}","{point.key:"+i+"}")),Qt(u,{point:e,series:t})}};var zn;L=t.documentElement.ontouchstart!==e;var Wn=St.Pointer=function(e,t){this.init(e,t)};Wn.prototype={init:function(e,t){var n=t.chart,r=n.events,i=C?"":n.zoomType,s=e.inverted,o,u;this.options=t,this.chart=e,this.zoomX=o=/x/.test(i),this.zoomY=u=/y/.test(i),this.zoomHor=o&&!s||u&&s,this.zoomVert=u&&!s||o&&s,this.hasZoom=o||u,this.runChartClick=r&&!!r.click,this.pinchDown=[],this.lastValidTouch={},St.Tooltip&&t.tooltip.enabled&&(e.tooltip=new Un(e,t.tooltip),this.followTouchMove=t.tooltip.followTouchMove),this.setDOMEvents()},normalize:function(t,n){var r,s,o;return t=t||window.event,t=wn(t),t.target||(t.target=t.srcElement),o=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t,n||(this.chartPosition=n=vn(this.chart.fixedRenderer?this.chart.fixedDiv:this.chart.container)),o.pageX===e?(r=a(t.x,t.clientX-n.left),s=t.y):(r=o.pageX-n.left,s=o.pageY-n.top),Tt(t,{chartX:i(r),chartY:i(s)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};return pn(this.chart.axes,function(n){t[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(e[n.horiz?"chartX":"chartY"])})}),t},getIndex:function(e){var t=this.chart;return t.inverted?t.plotHeight+t.plotTop-e.chartY:e.chartX-t.plotLeft},runPointActions:function(e){var n=this,r=n.chart,i=r.series,s=r.tooltip,o,u,a,c=r.hoverPoint,h=r.hoverSeries,p,d,v=r.chartWidth,m=n.getIndex(e),g;if(s&&n.options.tooltip.shared&&(!h||!h.noSharedTooltip)){a=[],p=i.length;for(d=0;d<p;d++)i[d].visible&&i[d].options.enableMouseTracking!==!1&&!i[d].noSharedTooltip&&i[d].singularTooltips!==!0&&i[d].tooltipPoints.length&&(u=i[d].tooltipPoints[m],u&&u.series&&(u._dist=l(m-u.clientX),v=f(v,u._dist),a.push(u)));p=a.length;while(p--)a[p]._dist>v&&a.splice(p,1);a.length&&a[0].clientX!==n.hoverX&&(s.refresh(a,e),n.hoverX=a[0].clientX)}o=h&&h.tooltipOptions.followPointer,h&&h.tracker&&(u=h.tooltipPoints[m],u&&u!==c&&u.onMouseOver(e)),s&&o&&!s.isHidden&&(g=s.getAnchor([{}],e),s.updatePosition({plotX:g[0],plotY:g[1]})),s&&!n._onDocumentMouseMove&&(n._onDocumentMouseMove=function(e){Ht(zn)&&q[zn]&&q[zn].pointer&&q[zn].pointer.onDocumentMouseMove(e)},gn(t,"mousemove",n._onDocumentMouseMove)),pn(r.axes,function(t){t&&t.drawCrosshair&&t.drawCrosshair(e,Ft(u,c))})},reset:function(n,r,i){var s=this,o=s.chart,u=o.hoverSeries,a=o.hoverPoint,f=o.tooltip,l=f&&f.shared?o.hoverPoints:a;n=n&&f&&l,n&&jt(l)[0].plotX===e&&(n=!1),n?(f.refresh(l),a&&a.setState(a.state,!0)):(a&&a.onMouseOut(),u&&u.onMouseOut(i),f&&f.hide(r,i),s._onDocumentMouseMove&&(yn(t,"mousemove",s._onDocumentMouseMove),s._onDocumentMouseMove=null),pn(o.axes,function(e){e.hideCrosshair()}),s.hoverX=null)},scaleGroups:function(e,t){var n=this.chart,r;pn(n.series,function(i){r=e||i.getPlotBox(),i.xAxis&&i.xAxis.zoomEnabled&&(i.group.attr(r),i.markerGroup&&(i.markerGroup.attr(r),i.markerGroup.clip(t?n.clipRect:null)),i.dataLabelsGroup&&i.dataLabelsGroup.attr(r))}),n.clipRect.attr(t||n.clipBox)},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t=this.chart,n=t.options.chart,r=e.chartX,i=e.chartY,s=this.zoomHor,o=this.zoomVert,u=t.plotLeft,a=t.plotTop,f=t.plotWidth,c=t.plotHeight,h,p,d=this.mouseDownX,v=this.mouseDownY,m=n.panKey&&e[n.panKey+"Key"];r<u?r=u:r>u+f&&(r=u+f),i<a?i=a:i>a+c&&(i=a+c),this.hasDragged=Math.sqrt(Math.pow(d-r,2)+Math.pow(v-i,2)),this.hasDragged>10&&(h=t.isInsidePlot(d-u,v-a),t.hasCartesianSeries&&(this.zoomX||this.zoomY)&&h&&!m&&(this.selectionMarker||(this.selectionMarker=t.renderer.rect(u,a,s?1:f,o?1:c,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add(),bn(this.chart,"selectionStarted",{selectionMarker:this.selectionMarker}))),this.selectionMarker&&s&&(p=r-d,this.selectionMarker.attr({width:l(p),x:(p>0?0:p)+d})),this.selectionMarker&&o&&(p=i-v,this.selectionMarker.attr({height:l(p),y:(p>0?0:p)+v})),h&&!this.selectionMarker&&n.panning&&t.pan(e,n.panning))},drop:function(e){var t=this.chart,n=this.hasPinched;if(this.selectionMarker){var r=this.selectionMarker,i=r.attr?r.attr("x"):r.x,s=r.attr?r.attr("y"):r.y,o=r.attr?r.attr("width"):r.width,u=r.attr?r.attr("height"):r.height,l,c={xAxis:[],yAxis:[],originalEvent:e.originalEvent||e,selectionBox:{x:i,y:s,height:u,width:o}};if(this.hasDragged||n)pn(t.axes,function(t){if(t.zoomEnabled){var n=t.horiz,r=e.type==="touchend"?t.minPixelPadding:0,h=t.toValue((n?i:s)+r),p=t.toValue((n?i+o:s+u)-r);!isNaN(h)&&!isNaN(p)&&(c[t.coll].push({axis:t,min:f(h,p),max:a(h,p)}),l=!0)}}),l&&bn(t,"selection",c,function(e){t.zoom(Tt(e,n?{animation:!1}:null))});this.selectionMarker=this.selectionMarker.destroy(),n&&this.scaleGroups()}t&&(It(t.container,{cursor:t._cursor}),t.cancelClick=this.hasDragged>10,t.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e),e.preventDefault&&e.preventDefault(),this.dragStart(e)},onDocumentMouseUp:function(e){q[zn]&&q[zn]&&q[zn].pointer&&q[zn].pointer.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,n=this.chartPosition,r=t.hoverSeries;e=this.normalize(e,n),n&&r&&!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&this.reset()},onContainerMouseLeave:function(e){var t=q[zn];t&&(t.pointer.reset(null,null,e),t.pointer.chartPosition=null)},onContainerMouseMove:function(e){var t=this.chart;zn=t.index,e=this.normalize(e),e.returnValue=!1,(t.mouseIsDown==="mousedown"||t.mouseIsDown==="touchstart")&&this.drag(e),(this.inClass(e.target,"highcharts-tracker")||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop))&&!t.openMenu&&this.runPointActions(e)},inClass:function(e,t){var n;while(e){n=Bt(e,"class");if(n){if(n.indexOf(t)!==-1)return!0;if(n.indexOf(J+"container")!==-1)return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries,n=e.relatedTarget||e.toElement,r;n&&n.point&&(r=n&&n.point&&n.point.series),n&&t&&!t.options.stickyTracking&&!this.inClass(n,J+"tooltip")&&r!==t&&t.onMouseOut(e)},onContainerClick:function(e){var t=this.chart,n=t.hoverPoint,r=t.plotLeft,i=t.plotTop;e=this.normalize(e),e.cancelBubble=!0,t.cancelClick||(n&&this.inClass(e.target,J+"tracker")?(bn(n.series,"click",Tt(e,{point:n})),t.hoverPoint&&n.firePointEvent("click",e)):(Tt(e,this.getCoordinates(e)),t.isInsidePlot(e.chartX-r,e.chartY-i)&&bn(t,"click",e)))},setDOMEvents:function(){if(Ht(this.chart.container)){var e=this,n=e.chart.container,r="";n.onmousedown=function(t){e.onContainerMouseDown(t)},n.onmousemove=function(t){e.onContainerMouseMove(t)},n.onclick=function(t){e.onContainerClick(t)},gn(n,"mouseleave",e.onContainerMouseLeave),R===1&&gn(t,"mouseup",e.onDocumentMouseUp),L&&(n.ontouchstart=function(t){e.onContainerTouchStart(t)},n.ontouchmove=function(t){e.onContainerTouchMove(t)},R===1&&gn(t,"touchend",e.onDocumentTouchEnd))}},destroy:function(){var e;yn(this.chart.container,"mouseleave",this.onContainerMouseLeave),R||(yn(t,"mouseup",this.onDocumentMouseUp),yn(t,"touchend",this.onDocumentTouchEnd)),clearInterval(this.tooltipTimeout);for(e in this)this[e]=null}},Tt(St.Pointer.prototype,{pinchTranslate:function(e,t,n,r,i,s){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,e,t,n,r,i,s),(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,e,t,n,r,i,s)},pinchTranslateDirection:function(e,t,n,r,i,s,o,u){var a=this.chart,f=e?"x":"y",c=e?"X":"Y",h="chart"+c,p=e?"width":"height",d=a["plot"+(e?"Left":"Top")],v,m,g,y=u||1,b=a.inverted,w=a.bounds[e?"h":"v"],E=t.length===1,S=t[0][h],x=n[0][h],T=!E&&t[1][h],N=!E&&n[1][h],C,k,L,A=function(){!E&&l(S-T)>20&&(y=u||l(x-N)/l(S-T)),g=(d-x)/y+S,v=a["plot"+(e?"Width":"Height")]/y};A(),m=g,m<w.min?(m=w.min,C=!0):m+v>w.max&&(m=w.max-v,C=!0),C?(x-=.8*(x-o[f][0]),E||(N-=.8*(N-o[f][1])),A()):o[f]=[x,N],b||(s[f]=g-d,s[p]=v),L=b?e?"scaleY":"scaleX":"scale"+c,k=b?1/y:y,i[p]=v,i[f]=m,r[L]=y,r["translate"+c]=k*d+(x-k*S)},pinch:function(e){var t=this,n=t.chart,r=t.pinchDown,i=t.followTouchMove,s=e.touches,o=s.length,u=t.lastValidTouch,l=t.hasZoom,c=t.selectionMarker,h={},p=o===1&&(t.inClass(e.target,J+"tracker")&&n.runTrackerClick||t.runChartClick),d={};(l||i)&&!p&&e.preventDefault(),mn(s,function(e){return t.normalize(e)}),e.type==="touchstart"?(pn(s,function(e,t){r[t]={chartX:e.chartX,chartY:e.chartY}}),u.x=[r[0].chartX,r[1]&&r[1].chartX],u.y=[r[0].chartY,r[1]&&r[1].chartY],pn(n.axes,function(e){if(e.zoomEnabled){var t=n.bounds[e.horiz?"h":"v"],r=e.minPixelPadding,i=e.toPixels(Ft(e.options.min,e.dataMin)),s=e.toPixels(Ft(e.options.max,e.dataMax)),o=f(i,s),u=a(i,s);t.min=f(e.pos,o-r),t.max=a(e.pos+e.len,u+r)}}),t.res=!0):r.length&&(c||(t.selectionMarker=c=Tt({destroy:I},n.plotBox)),t.pinchTranslate(r,s,h,c,d,u),t.hasPinched=l,t.scaleGroups(h,d),!l&&i&&o===1?this.runPointActions(t.normalize(e)):t.res&&(t.res=!1,this.reset(!1,0)))},onContainerTouchStart:function(e){var t=this.chart;zn=t.index;if(e.touches.length===1){e=this.normalize(e);if(t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)){if(this.options.chart.customSelection){e.preventDefault&&e.preventDefault(),bn(t,"click",e),this.dragStart(e);return}this.runPointActions(e),bn(t.hoverPoint.series,"click",Tt(e,{point:t.hoverPoint})),t.hoverPoint&&t.hoverPoint.firePointEvent("click",e),this.pinch(e),this.pinch(e)}else this.reset()}else e.touches.length===2&&this.pinch(e)},onContainerTouchMove:function(e){if(this.options.chart.customSelection&&e.touches.length===1){e.preventDefault&&e.preventDefault(),this.onContainerMouseMove(e);return}(e.touches.length===1||e.touches.length===2)&&this.pinch(e)},onDocumentTouchEnd:function(e){q[zn]&&q[zn].pointer.drop(e)}});if(n.PointerEvent||n.MSPointerEvent){var Xn={},Vn=!!n.PointerEvent,$n=function(){var e,t=[];t.item=function(e){return this[e]};for(e in Xn)Xn.hasOwnProperty(e)&&t.push({pageX:Xn[e].pageX,pageY:Xn[e].pageY,target:Xn[e].target});return t},Jn=function(e,t,n,r){var i;e=e.originalEvent||e,(e.pointerType==="touch"||e.pointerType===e.MSPOINTER_TYPE_TOUCH)&&q[zn]&&(r(e),i=q[zn].pointer,i[t]({type:n,target:e.currentTarget,preventDefault:I,touches:$n()}))};Tt(Wn.prototype,{onContainerPointerDown:function(e){Jn(e,"onContainerTouchStart","touchstart",function(e){Xn[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){Jn(e,"onContainerTouchMove","touchmove",function(e){Xn[e.pointerId]={pageX:e.pageX,pageY:e.pageY},Xn[e.pointerId].target||(Xn[e.pointerId].target=e.currentTarget)})},onDocumentPointerUp:function(e){Jn(e,"onContainerTouchEnd","touchend",function(e){delete Xn[e.pointerId]})},batchMSEvents:function(e){e(this.chart.container,Vn?"pointerdown":"MSPointerDown",this.onContainerPointerDown),e(this.chart.container,Vn?"pointermove":"MSPointerMove",this.onContainerPointerMove),e(t,Vn?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),Wt(Wn.prototype,"init",function(e,t,n){e.call(this,t,n),(this.hasZoom||this.followTouchMove)&&It(t.container,{"-ms-touch-action":G,"touch-action":G})}),Wt(Wn.prototype,"setDOMEvents",function(e){e.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(gn)}),Wt(Wn.prototype,"destroy",function(e){this.batchMSEvents(yn),e.call(this)})}var Kn=St.Legend=function(e,t){this.init(e,t)};Kn.prototype={init:function(e,t){var n=this,r=t.itemStyle,i=Ft(t.padding,8),s=t.itemMarginTop||0;this.options=t;if(!t.enabled)return;n.itemStyle=r,n.itemHiddenStyle=Nt(r,t.itemHiddenStyle),n.itemMarginTop=s,n.padding=i,n.initialItemX=i,n.initialItemY=i-5,n.maxItemWidth=0,n.chart=e,n.itemHeight=0,n.lastLineHeight=0,n.symbolWidth=Ft(t.symbolWidth,16),n.pages=[],n.render(),gn(n.chart,"endResize",function(){n.positionCheckboxes()})},colorizeItem:function(t,n){var r=this,i=r.options,s=t.legendItem,o=t.legendLine,u=t.legendSymbol,a=r.itemHiddenStyle.color,f=n?i.itemStyle.color:a,l=n?t.legendColor||t.color||"#CCC":a,c=t.options&&t.options.marker,h={fill:l},p,d;s&&s.css({fill:f,color:f}),o&&o.attr({stroke:l});if(u){if(c&&u.isMarker){h.stroke=l,t&&t.convertAttribs&&(c=t.convertAttribs(c));for(p in c)d=c[p],d!==e&&(h[p]=d)}u.attr(h)}},positionItem:function(e){var t=this,n=t.options,r=n.symbolPadding,i=!n.rtl,s=e._legendItemPos,o=s[0],u=s[1],a=e.checkbox;e.legendGroup&&e.legendGroup.translate(i?o:t.legendWidth-o-2*r-4,u),a&&(a.x=o,a.y=u)},destroyItem:function(e){var t=e.checkbox;pn(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&sn(e.checkbox)},destroy:function(){var e=this,t=e.group,n=e.box;n&&(e.box=n.destroy()),t&&(e.group=t.destroy())},positionCheckboxes:function(e){if(!this.group)return;var t=this.group.alignAttr,n,r=this.clipHeight||this.legendHeight;t&&(n=t.translateY,pn(this.allItems,function(i){var s=i.checkbox,o;s&&(o=n+s.y+(e||0)+3,It(s,{left:t.translateX+i.checkboxOffset+s.x-20+Q,top:o+Q,display:o>n-6&&o<n+r-6?"":G}))}))},renderTitle:function(){var e=this.options,t=this.padding,n=e.title,r=0,i;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,t-3,t-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(n.style).add(this.group)),i=this.title.getBBox(),r=i.height,this.offsetWidth=i.width,this.contentGroup.attr({translateY:r})),this.titleHeight=r},setText:function(e){var t=this.options;e.legendItem.attr({text:t.labelFormat?H.format(t.labelFormat,e,this.chart):t.labelFormatter.call(e)})},renderItem:function(e){var t=this,n=t.chart,r=n.renderer,s=t.options,o=s.layout==="horizontal",u=t.symbolWidth,f=s.symbolPadding,l=t.itemStyle,c=t.itemHiddenStyle,h=t.padding,p=o?Ft(s.itemDistance,20):0,d=!s.rtl,v,m=s.width,g=s.itemMarginBottom||0,y=t.itemMarginTop,b=t.initialItemX,w,E,S=e.legendItem,x=e.series&&e.series.drawLegendSymbol?e.series:e,T=x.options,N=t.createCheckboxForItem&&T&&T.showCheckbox,C=s.useHTML;itemExtraWidth=u+f+p+(N?20:0),C=s.useHTML,itemClassName=e.options.className,S||(e.legendGroup=r.g("legend-item").attr({zIndex:1}).add(t.scrollGroup),e.legendItem=S=r.text(s.labelFormat?Qt(s.labelFormat,e):s.labelFormatter
.call(e),d?u+f:-f,t.baseline||0,C).css(Nt(e.visible?l:c)).attr({align:d?"left":"right",zIndex:2}).add(e.legendGroup),t.baseline||(t.baseline=r.fontMetrics(l.fontSize,S).f+3+y,S.attr("y",t.baseline)),x.drawLegendSymbol&&x.drawLegendSymbol(t,e),t.setItemEvents&&t.setItemEvents(e,S,C,l,c),t.colorizeItem(e,e.visible),e.id=="selectAllItemsLegendItem"&&e.legendSymbol&&e.legendSymbol.attr(e.options.marker),N&&t.createCheckboxForItem(e)),(n.styledMode||!l.width)&&S.css({width:(s.itemWidth||t.widthOption||n.spacingBox.width)-itemExtraWidth}),t.setText(e),w=S.getBBox(),e.itemWidth=E=e.checkboxOffset=s.itemWidth||e.legendItemWidth||u+f+w.width+p+(N?20:0),t.itemHeight=e.itemHeight=v=i(e.legendItemHeight||w.height),t.maxItemWidth=a(t.maxItemWidth,E)},layoutItem:function(e){var t=this.options,n=this.padding,r=t.layout==="horizontal",i=e.itemHeight,s=0,o=0,u=r?Ft(t.itemDistance,20):0,a=this.maxLegendWidth,f=t.alignColumns&&this.totalItemWidth>a?this.maxItemWidth:e.itemWidth;r&&this.itemX-n+f>a&&(this.itemX=n,this.lastLineHeight&&(this.itemY+=o+this.lastLineHeight+s),this.lastLineHeight=0),this.lastItemY=o+this.itemY+s,this.lastLineHeight=Math.max(i,this.lastLineHeight),e._legendItemPos=[this.itemX,this.itemY],r?this.itemX+=f:(this.itemY+=o+i+s,this.lastLineHeight=i),this.offsetWidth=this.widthOption||Math.max((r?this.itemX-n-(e.checkbox?0:u):f)+n,this.offsetWidth)},getAllItems:function(){var t=[];return pn(this.chart.series,function(n){if(n.options&&n.options.data)for(var r=0;r<n.options.data.length;r++){var i=n.options.data[r];if(i&&i.qt&&i.qt[1]){i.qt[1]=i.qt[1].replace("$0","&#36;0");var s=0}}var o=n.options;if(!Ft(o.showInLegend,Ht(o.linkedTo)?!1:e,!0))return;var u=LogiXML.getRandomElements(o.data,o.data.length);if(!n.chart.userOptions.isChartCanvas||u.some(function(e){return LogiXML.hasValue(e)}))!n.color&&!n.legendColor&&u.some(function(e){n.legendColor=e.color}),t=t.concat(n.legendItems||(o.legendType==="point"?n.data:n))}),t},render:function(){var e=this,t=e.chart,n=t.renderer,r=e.group,i,s,o,u,a=e.box,f=e.options,l=e.padding,c=f.borderWidth,h=f.backgroundColor;i=e.getAllItems(),s=!!i.length;if(!s)return;e.itemX=e.initialItemX,e.itemY=e.initialItemY,e.offsetWidth=0,e.lastItemY=0,e.maxLegendWidth=t.spacingBox.width-2*l-f.x,r||(e.group=r=n.g("legend").attr({zIndex:7}).add(),e.contentGroup=n.g().attr({zIndex:1}).add(r),e.scrollGroup=n.g().add(e.contentGroup)),e.renderTitle(),e.options.symbolRadius=2;if(e.options.showAllCaption&&e.options.showAllCaption!=""){var p={name:e.options.showAllCaption,id:"selectAllItemsLegendItem",visible:!1,legendColor:t.options.chart.plotBackgroundColor};p.drawLegendSymbol=i[0].drawLegendSymbol||i[0].series&&i[0].series.drawLegendSymbol,p.drawLegendSymbol==Qn.drawLineMarker&&(p.drawLegendSymbol=Qn.drawRectangle),p.chart=i[0].chart||i[0].series.chart,p.options={legendIndex:-1},p.options.marker={stroke:t.xAxis[0].options.lineColor||"#C0C0C0","stroke-width":1},i=i.concat(p)}en(i,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),f.reversed&&i.reverse(),e.allItems=i,e.display=s=!!i.length,pn(i,function(t){e.renderItem(t)}),pn(i,function(t){e.layoutItem(t)}),o=f.width||e.offsetWidth,u=e.lastItemY+e.lastLineHeight+e.titleHeight,u=e.handleOverflow(u);if(c||h)o+=l,u+=l,a?o>0&&u>0&&(a[a.isNew?"attr":"animate"](a.crisp({width:o,height:u})),a.isNew=!1):(e.box=a=n.rect(0,0,o,u,f.borderRadius,c||0).attr({stroke:f.borderColor,"stroke-width":c||0,fill:h||G}).add(r).shadow(f.shadow),a.isNew=!0),a[s?"show":"hide"]();e.legendWidth=o,e.legendHeight=u,pn(i,function(t){e.positionItem(t)}),s&&r.align(Tt({width:o,height:u},f),!0,"spacingBox"),t.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t=this,n=this.chart,r=n.renderer,s=this.options,o=s.y,u=s.verticalAlign==="top",l=n.spacingBox.height+(u?-o:o)-this.padding,c=s.maxHeight,h,p=this.clipRect,d=s.navigation,v=Ft(d.animation,!0),m=d.arrowSize||12,g=this.nav,y=this.pages,b,w=this.allItems;return s.layout==="horizontal"&&(l/=2),c&&(l=f(l,c)),y.length=0,e>l&&!s.useHTML?(this.clipHeight=h=a(l-20-this.titleHeight-this.padding,0),this.currentPage=Ft(this.currentPage,1),this.fullHeight=e,pn(w,function(e,t){var n=e._legendItemPos[1],r=e.legendItem.getBBox()?i(e.legendItem.getBBox().height):0,s=y.length;if(!s||n-y[s-1]>h&&(b||n)!==y[s-1])y.push(b||n),s++;t===w.length-1&&n+r-y[s-1]>h&&y.push(n),n!==b&&(b=n)}),p||(p=t.clipRect=r.clipRect(0,this.padding,9999,0),t.contentGroup.clip(p)),p.attr({height:h}),g||(this.nav=g=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,m,m).on("click",function(){t.scroll(-1,v)}).add(g),this.pager=r.text("",15,10).css(d.style).add(g),this.down=r.symbol("triangle-down",0,0,m,m).on("click",function(){t.scroll(1,v)}).add(g)),t.scroll(0),e=l):g&&(p.attr({height:n.chartHeight}),g.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(t,n){var r=this.pages,i=r.length,s=this.currentPage+t,o=this.clipHeight,u=this.options.navigation,a=u.activeColor,f=u.inactiveColor,l=this.pager,c=this.padding,h;s>i&&(s=i),s>0&&(n!==e&&un(n,this.chart),this.nav.attr({translateX:c,translateY:o+this.padding+7+this.titleHeight,visibility:K}),this.up.attr({fill:s===1?f:a}).css({cursor:s===1?"default":"pointer"}),l.attr({text:s+"/"+i}),this.down.attr({x:18+this.pager.getBBox().width,fill:s===i?f:a}).css({cursor:s===i?"default":"pointer"}),h=-r[s-1]+this.initialItemY,this.scrollGroup.animate({translateY:h}),this.currentPage=s,this.positionCheckboxes(h))}};var Qn=St.LegendSymbolMixin={drawRectangle:function(e,t){var n=e.options.symbolHeight||12;t.legendSymbol=this.chart.renderer.rect(0,e.baseline-5-n/2,e.symbolWidth,n,e.options.symbolRadius||0).attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(e,t){var n=this.options,r=n.marker,s,o=e.options,u,a=e.symbolWidth,f=this.chart.renderer,l=this.legendGroup,c=e.baseline-i(f.fontMetrics(o.itemStyle.fontSize,this.legendItem).b*.3),h;t.id=="selectAllItemsLegendItem"&&(n.lineWidth=2,t.legendColor=this.chart.xAxis[0].options.lineColor||"#C0C0C0"),n.lineWidth&&(h={"stroke-width":n.lineWidth},n.dashStyle&&(h.dashstyle=n.dashStyle),this.legendLine=f.path([Z,0,c,et,a,c]).attr(h).add(l)),r&&r.enabled!==!1&&this.symbol&&(s=r.radius,this.legendSymbol=u=f.symbol(this.symbol,a/2-s,c-s,2*s,2*s).add(l),u.isMarker=!0)}};(/Trident\/7\.0/.test(v)||w)&&Wt(Kn.prototype,"positionItem",function(e,t){var n=this,r=function(){t._legendItemPos&&e.call(n,t)};r(),setTimeout(r)}),Gn.prototype={init:function(e,t){var n,r=e.series;e.series=null,n=Nt(_,e),n.series=e.series=r,this.userOptions=e;var i=n.chart;this.margin=this.splashArray("margin",i),this.spacing=this.splashArray("spacing",i);var s=i.events;this.bounds={h:{},v:{}},this.callback=t,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=i.showAxes;var o=this,u;o.attachScrolling(),o.index=q.length,q.push(o),R++,i.reflow!==!1&&gn(o,"load",function(){o.initReflow()});if(s)for(u in s)gn(o,u,s[u]);o.xAxis=[],o.yAxis=[],o.animation=C&&!this.userOptions.isExportRender?!1:Ft(i.animation,!0),o.pointCount=o.colorCounter=o.symbolCounter=0,o.firstRender();var a=!0;if(o.renderer&&o.userOptions.title&&o.userOptions.title.text){desc=o.renderer.createElement("title").add();var f=document.createTextNode(o.userOptions.title.text);desc.element.innerHTML=o.userOptions.title.text,a=!1}if(o.renderer&&o.userOptions.chart.altText){desc=o.renderer.createElement("desc").add();var l=document.createTextNode(o.userOptions.chart.altText);desc.element.appendChild(l);if(a){desc=o.renderer.createElement("title").add();var f=document.createTextNode(o.userOptions.chart.altText);desc.element.appendChild(f)}}},initSeries:function(e){var t=this,n=t.options.chart,r=e.type||n.type||n.defaultSeriesType,i,s=Et[r];return s||F(17,!0,t),i=new s,i.init(this,e),i},isInsidePlot:function(e,t,n){var r=n?t:e,i=n?e:t;return r>=0&&r<=this.plotWidth&&i>=0&&i<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&pn(this.axes,function(e){e.adjustTickAmount()}),this.maxTicks=null},redraw:function(e){var t=this,n=t.axes,r=t.series,i=t.pointer,s=t.legend,o=t.isDirtyLegend,u,a,f=t.hasCartesianSeries,l=t.isDirtyBox,c=r.length,h=c,p,d=t.renderer,v=d.isHidden(),m=[];un(e,t),v&&t.cloneRenderTo(),t.layOutTitles();while(h--){p=r[h];if(p.options.stacking){u=!0;if(p.isDirty){a=!0;break}}}if(a){h=c;while(h--)p=r[h],p.options.stacking&&(p.isDirty=!0)}pn(r,function(e){e.isDirty&&e.options.legendType==="point"&&(o=!0)}),s&&o&&s.options.enabled&&(s.render(),t.isDirtyLegend=!1),u&&t.getStacks(),f&&(t.isResizing||(t.maxTicks=null,pn(n,function(e){e.setScale()})),t.adjustTickAmounts());var g=n[0],y=g.ticks,b=g.horiz,w=g.options,E=w.labels.overflow,S=g.tickPositions,x=g.justifyLabels=b&&E!==!1,T=S.slice();if(x)if(!g.options.holdLastTick)T=T.slice(1).concat([T[0]]);else{if(l){if(S.length>0){y[T[T.length-1]].pos=g.options.max;var N=y[T[T.length-1]];y[T[T.length-1]].destroy(),delete y[T[T.length-1]],y[g.options.max]&&y[g.options.max].destroy(),y[g.options.max]=null}T[T.length-1]=g.options.max,S[S.length-1]=g.options.max,g.tickPositions=S,g.max=g.options.max,g.ticks=y}if(T[0]<g.options.min){if(S.length>0){y[T[0]].pos=g.options.min;var N=y[T[0]];y[T[0]].destroy(),delete y[T[0]],y[g.options.min]&&y[g.options.min].destroy(),y[g.options.min]=null}T[0]=g.options.min,S[0]=g.options.min,g.tickPositions=S,g.min=g.options.min,g.ticks=y}}t.getMargins(),f&&(pn(n,function(e){e.isDirty&&(l=!0)}),pn(n,function(e){e.isDirtyExtremes&&(e.isDirtyExtremes=!1,m.push(function(){bn(e,"afterSetExtremes",Tt(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(l||u)&&e.redraw()})),l&&t.drawChartBox(),pn(r,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),i&&i.reset(!0),d.draw(),bn(t,"redraw"),bn(t,"render"),v&&t.cloneRenderTo(!0),pn(m,function(e){e.call()})},get:function(e){var t=this,n=t.axes,r=t.series,i,s,o;for(i=0;i<n.length;i++)if(n[i].options.id===e)return n[i];for(i=0;i<r.length;i++)if(r[i].options.id===e)return r[i];for(i=0;i<r.length;i++){o=r[i].points||[];for(s=0;s<o.length;s++)if(o[s].id===e)return o[s]}return null},getAxes:function(){var e=this,t=this.options,n=t.xAxis=jt(t.xAxis||{}),r=t.yAxis=jt(t.yAxis||{}),i,s;pn(n,function(e,t){e.index=t,e.isX=!0}),pn(r,function(e,t){e.index=t}),i=n.concat(r),pn(i,function(t){s=new Rn(e,t)}),e.adjustTickAmounts()},getSelectedPoints:function(){var e=[];return pn(this.series,function(t){e=e.concat(dn(t.points||[],function(e){return e.selected}))}),e},getSelectedSeries:function(){return dn(this.series,function(e){return e.selected})},getStacks:function(){var e=this;pn(e.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),pn(e.series,function(t){t.options.stacking&&(t.visible===!0||e.options.chart.ignoreHiddenSeries===!1)&&(t.stackKey=t.type+Ft(t.options.stack,""))})},setTitle:function(e,t,n){var r=this,i=r.options,s,o;s=i.title=Nt(i.title,e),o=i.subtitle=Nt(i.subtitle,t),pn([["title",e,s],["subtitle",t,o]],function(e){var t=e[0],n=r[t],i=e[1],s=e[2];n&&i&&(r[t]=n=n.destroy()),s&&s.text&&!n&&(r[t]=r.renderer.text(s.text,0,0,s.useHTML).attr({align:s.align,"class":J+t,zIndex:s.zIndex||4}).css(s.style).add())}),r.layOutTitles(n)},layOutTitles:function(e){if(Ht(this.renderer)){var t=0,n=this.title,r=this.subtitle,i=this.options,s=i.title,o=i.subtitle,a,f=this.renderer,l=this.spacingBox.width-44;n&&(n.css({width:(s.width||l)+Q}).align(Tt({y:s.verticalAlign=="bottom"?0:f.fontMetrics(s.style.fontSize,n).b-3},s),!1,"spacingBox"),!s.floating&&!s.verticalAlign?t=n.getBBox().height:s.floating||(s.verticalAlign=="top"?t=n.getBBox().height:s.verticalAlign=="bottom"&&(this.extraBottomMargin=n.getBBox().height)));if(r){var c=r.getBBox().height;n&&(o.floating&&!o.verticalAlign&&(c*=2),c+=n.getBBox().height),r.css({width:(o.width||l)+Q}).align(Tt({y:c},o),!1,"spacingBox"),!o.floating&&!o.verticalAlign&&(t=u(t+r.getBBox().height))}a=this.titleOffset!==t,this.titleOffset=t,!this.isDirtyBox&&a&&(this.isDirtyBox=a,this.hasRendered&&Ft(e,!0)&&this.isDirtyBox&&this.redraw())}},getChartSize:function(){var e=this,t=e.options.chart,n=t.width,r=t.height,i=e.renderToClone||e.renderTo;Ht(n)||(e.containerWidth=ln(i,"width")),Ht(r)||(e.containerHeight=ln(i,"height")),e.chartWidth=a(0,n||e.containerWidth||600),e.chartHeight=a(0,Ft(r,e.containerHeight>19?e.containerHeight:400))},cloneRenderTo:function(e){var n=this.renderToClone,r=this.container;e?n&&(this.renderTo.appendChild(r),sn(n),delete this.renderToClone):(r&&r.parentNode===this.renderTo&&this.renderTo.removeChild(r),this.renderToClone=n=this.renderTo.cloneNode(0),It(n,{position:X,top:"-9999px",display:"block"}),n.style.setProperty&&n.style.setProperty("display","block","important"),t.body.appendChild(n),r&&n.appendChild(r))},getContainer:function(){var e=this,n,r=e.options.chart,i,s,o,u="data-highcharts-chart",a,f;e.renderTo=o=r.renderTo,f=J+O++,Lt(o)&&(e.renderTo=o=t.getElementById(o)),o||F(13,!0,e),a=kt(Bt(o,u)),!isNaN(a)&&q[a]&&q[a].hasRendered&&q[a].destroy(),Bt(o,u,e.index);try{o.innerHTML="",!r.skipClone&&!o.offsetWidth&&e.cloneRenderTo(),e.getChartSize(),i=e.chartWidth,s=e.chartHeight,e.container=n=qt(W,{className:J+"container"+(r.className?" "+r.className:""),id:f},Tt({position:V,overflow:$,width:i+Q,height:s+Q,textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},r.style),e.renderToClone||o),e._cursor=n.style.cursor,e.renderer=r.forExport?new Pn(n,i,s,r.style,!0):new k(n,i,s,r.style),C&&e.renderer.create(e,n,i,s)}catch(l){}},getMargins:function(){var e=this,t=e.spacing,n,r=e.legend,i=e.margin,s=e.options.legend,o=Ft(s.margin,20),u=s.x,f=s.y,l=s.align,c=s.verticalAlign,h=e.titleOffset;e.resetMargins(),n=e.axisOffset,h&&!Ht(i[0])&&(e.plotTop=a(e.plotTop,h+e.options.title.margin+t[0])),r&&r.display&&!s.floating&&(l==="right"?Ht(i[1])||(e.marginRight=a(e.marginRight,r.legendWidth-u+o+t[1])):l==="left"?Ht(i[3])||(e.plotLeft=a(e.plotLeft,r.legendWidth+u+o+t[3])):c==="top"?Ht(i[0])||(e.plotTop=a(e.plotTop,r.legendHeight+f+o+t[0])):c==="bottom"&&(Ht(i[2])||(e.marginBottom=a(e.marginBottom,r.legendHeight-f+o+t[2])))),e.extraBottomMargin&&(e.marginBottom+=e.extraBottomMargin),e.extraTopMargin&&(e.plotTop+=e.extraTopMargin),e.hasCartesianSeries&&pn(e.axes,function(e){e.getOffset()}),Ht(i[3])||(e.plotLeft+=n[3]),Ht(i[0])||(e.plotTop+=n[0]),Ht(i[2])||(e.marginBottom+=n[2]),Ht(i[1])||(e.marginRight+=n[1]),e.setChartSize()},reflow:function(e){var r=this;if(r.options==undefined)return;var i=r.options.chart,s=r.renderTo,o=i.width||ln(s,"width"),u=i.height||ln(s,"height"),a=e?e.target:n,f=function(){r.container&&(r.setSize(o,u,!1),r.hasUserSize=null)};if(!r.hasUserSize&&o&&u&&(a===n||a===t)){if(o!==r.containerWidth||u!==r.containerHeight)clearTimeout(r.reflowTimeout),e?r.reflowTimeout=setTimeout(f,100):f();r.containerWidth=o,r.containerHeight=u}},initReflow:function(){var e=this,t=function(t){e.reflow(t)};gn(n,"resize",t),gn(e,"destroy",function(){yn(n,"resize",t)})},setSize:function(e,t,n){var r=this,s,o,u;r.isResizing+=1,u=function(){r&&bn(r,"endResize",null,function(){r.isResizing-=1})},un(n,r),r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,Ht(e)&&(r.chartWidth=s=a(0,i(e)),r.hasUserSize=!!s),Ht(t)&&(r.chartHeight=o=a(0,i(t))),It(r.container,{width:s+Q,height:o+Q}),r.setChartSize(!0),r.renderer.setSize(s,o,n);if(r.angular){var f=r.renderTo.getElementsByClassName("chart-canvas-label");if(f.length>0)for(var l=0;l<f.length;l++)f[l].parentNode.removeChild(f[l]);r.renderLabels()}bn(r,"setSize"),r.maxTicks=null,pn(r.axes,function(e){e.isDirty=!0,e.setScale()}),pn(r.series,function(e){e.isDirty=!0}),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.layOutTitles(),r.getMargins(),r.redraw(n),r.oldChartHeight=null,bn(r,"resize"),P===!1?u():setTimeout(u,P&&P.duration||500)},setChartSize:function(e){var t=this,n=t.inverted,r=t.renderer,o=t.chartWidth,f=t.chartHeight,l=t.options.chart,c=t.spacing,h=t.clipOffset,p,d,v,m,g,y,b;t.plotLeft=v=i(t.plotLeft),t.plotTop=m=i(t.plotTop),t.plotWidth=g=a(0,i(o-v-t.marginRight)),t.plotHeight=y=a(0,i(f-m-t.marginBottom)),t.plotSizeX=n?y:g,t.plotSizeY=n?g:y,t.plotBorderWidth=l.plotBorderWidth||0,Ht(r)&&(t.spacingBox=r.spacingBox={x:c[3],y:c[0],width:o-c[3]-c[1],height:f-c[0]-c[2]},t.plotBox=r.plotBox={x:v,y:m,width:g,height:y}),b=2*s(t.plotBorderWidth/2),p=u(a(b,h[3])/2),d=u(a(b,h[0])/2),t.clipBox={x:p,y:d,width:s(t.plotSizeX-a(b,h[1])/2-p),height:a(0,s(t.plotSizeY-a(b,h[2])/2-d))},e||pn(t.axes,function(e){e.setAxisSize(),e.setAxisTranslation()}),bn(t,"afterSetChartSize",{skipAxes:e})},resetMargins:function(){var e=this,t=e.spacing,n=e.margin;e.plotTop=Ft(n[0],t[0]),e.marginRight=Ft(n[1],t[1]),e.marginBottom=Ft(n[2],t[2]),e.plotLeft=Ft(n[3],t[3]),e.axisOffset=[0,0,0,0],e.clipOffset=[0,0,0,0]},drawChartBox:function(){var e=this,t=e.options.chart,n=e.renderer,r=e.chartWidth,i=e.chartHeight,s=e.chartBackground,o=e.plotBackground,u=e.plotBorder,a=e.plotBGImage,f=t.borderWidth||0,l=t.backgroundColor,c=t.plotBackgroundColor,h=t.plotBackgroundImage,p=t.plotBorderWidth||0,d,v,m=e.plotLeft,g=e.plotTop,y=e.plotWidth,b=e.plotHeight,w=e.plotBox,E=e.clipRect,S=e.clipBox;d=f+(t.shadow?8:0);if(f||l)s?s.animate(s.crisp({width:r-d,height:i-d})):(v={fill:l||G},f&&(v.stroke=t.borderColor,v["stroke-width"]=f),Ht(n)&&(e.chartBackground=n.rect(d/2,d/2,r-d,i-d,t.borderRadius,f).attr(v).addClass(J+"background").add().shadow(t.shadow)),Ht(n)&&e.angular&&n.rect(d/2,d/2,r-d,i-d,t.borderRadius,f).attr({stroke:t.borderColor,"stroke-width":f,fill:"none",zIndex:9999}).addClass(J+"background").add().shadow(t.shadow));Ht(n)&&(c&&Ht(n)&&(o?o.animate(w):e.plotBackground=n.rect(m,g,y,b,0).attr({fill:c}).add().shadow(t.plotShadow)),h&&Ht(n)&&(a?a.animate(w):e.plotBGImage=n.image(h,m,g,y,b).add()),E?E.animate({width:S.width,height:S.height}):e.clipRect=n.clipRect(S),p&&(u?u.animate(u.crisp({x:m,y:g,width:y,height:b,strokeWidth:-p})):e.plotBorder=n.rect(m,g,y,b,0,-p).attr({stroke:t.plotBorderColor,"stroke-width":p,fill:G,zIndex:1}).add())),e.isDirtyBox=!1},propFromSeries:function(){var e=this,t=e.options.chart,n,r=e.options.series,i,s;pn(["inverted","angular","polar"],function(o){n=Et[t.type||t.defaultSeriesType],s=e[o]||t[o]||n&&n.prototype[o],i=r&&r.length;while(!s&&i--)n=Et[r[i].type],n&&n.prototype[o]&&(s=!0);e[o]=s})},linkSeries:function(){var e=this,t=e.series;pn(t,function(e){e.linkedSeries.length=0}),pn(t,function(t){var n=t.options.linkedTo;Lt(n)&&(n===":previous"?n=e.series[t.index-1]:n=e.get(n),n&&(n.linkedSeries.push(t),t.linkedParent=n))})},renderSeries:function(){pn(this.series,function(e){e.translate(),e.setTooltipPoints&&e.setTooltipPoints(),e.render()})},renderLabels:function(){var e=this,t=e.options.labels;t.items&&pn(t.items,function(n){var r=Tt(t.style,n.style),i=e.container.getElementsByTagName("svg")[0].style["font-family"];r.fontFamily||(r.fontFamily=i);var s,o;r.left.indexOf("%")>-1?s=e.chartWidth*(kt(r.left)/100)-LogiXML.layout.getTextDimensions(n.html,r).width/2+e.plotLeft:s=kt(r.left)+e.plotLeft,r.top.indexOf("%")>-1?o=e.plotHeight*(kt(r.top)/100)+LogiXML.layout.getTextDimensions(n.html,r).height/2+e.plotTop:o=kt(r.top)+e.plotTop+12;if(e.angular&&e.series[0].points[0]){var u=e.series[0].points[0].plotX,a=kt(Ft(e.yAxis[0].options.plotBands[0].outerRadius,"100%"),10)*e.yAxis[0].center[2]/100*.7,f=LogiXML.layout.getTextDimensions(n.html,r,"chart-canvas-label").width;if(f>a){var l=n.html;do l=l.slice(0,-1),f=LogiXML.layout.getTextDimensions(l+"...",r,"chart-canvas-label").width;while(f>=a);n.html=l+"..."}s=u-LogiXML.layout.getTextDimensions(n.html,r,"chart-canvas-label").width/2+e.plotLeft,o=e.series[0].points[0].plotY-8,o<LogiXML.layout.getTextDimensions(n.html,r,"chart-canvas-label").height&&(o=e.series[0].points[0].plotY+LogiXML.layout.getTextDimensions(n.html,r,"chart-canvas-label").height+8),o+=kt(r.top)}delete r.left,delete r.top;var c;e.angular?c={zIndex:2,"class":"chart-canvas-label"}:c={zIndex:2},e.renderer.text(n.html,s,o).attr(c).css(r).add()})},render:function(){var e=this,t=e.axes,n=e.renderer,r=e.options;e.setTitle(),e.legend=new Kn(e,r.legend),e.getStacks(),pn(t,function(e){e.setScale()}),e.getMargins(),e.maxTicks=null,pn(t,function(e){e.setTickPositions(!0),e.setMaxTicks()}),e.adjustTickAmounts(),e.getMargins(),e.drawChartBox(),e.hasCartesianSeries&&pn(t,function(e){e.render()}),!e.seriesGroup&&Ht(n)&&(e.seriesGroup=n.g("series-group").attr({zIndex:3}).add());if(e.angular&&r.yAxis[0]){var i=r.yAxis[0].min;for(var s=0;s<e.series.length;s++){var o=e.series[s];o.data[0]&&o.data[0].y<i&&(o.data[0].y=i)}}e.renderSeries(),e.renderLabels(),e.showCredits(r.credits),e.hasRendered=!0},showCredits:function(e){e.enabled&&!this.credits&&(this.credits=this.renderer.text(e.text,0,0).on("click",function(){e.href&&(location.href=e.href)}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position))},destroy:function(){var t=this,n=t.axes,r=t.series,i=t.container,s,o=i&&i.parentNode;bn(t,"destroy"),q[t.index]=e,R--,t.renderTo&&t.renderTo.removeAttribute("data-highcharts-chart"),yn(t);if(n&&n.length){s=n.length;while(s--)n[s]=n[s].destroy()}if(r&&r.length){s=r.length;while(s--)r[s]=r[s].destroy()}pn(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","pointer","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(e){var n=t[e];n&&n.destroy&&(t[e]=n.destroy())}),i&&(i.innerHTML="",yn(i),o&&sn(i));for(s in t)delete t[s]},isReadyToRender:function(){var e=this;return!T&&n==n.top&&t.readyState!=="complete"||C&&!n.canvg?(C?In.push(function(){e.firstRender()},e.options.global.canvasToolsURL):t.attachEvent("onreadystatechange",function(){t.detachEvent("onreadystatechange",e.firstRender),t.readyState==="complete"&&e.firstRender()}),!1):!0},firstRender:function(){var e=this,t=e.options,n=e.callback;if(!e.isReadyToRender())return;e.getContainer(),bn(e,"init"),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),pn(t.series||[],function(t){e.initSeries(t)}),e.linkSeries(),Ht(e.renderer)&&bn(e,"beforeRender"),St.Pointer&&(e.pointer=new Wn(e,t)),e.render(),Ht(e.renderer)&&e.renderer.draw(),n&&n.apply(e,[e]),pn(e.callbacks,function(t){t.apply(e,[e])}),e.cloneRenderTo(!0),bn(e,"load"),bn(this,"render")},splashArray:function(e,t){var n=t[e],r=At(n)?n:[n,n,n,n];return[Ft(t[e+"Top"],r[0]),Ft(t[e+"Right"],r[1]),Ft(t[e+"Bottom"],r[2]),Ft(t[e+"Left"],r[3])]}},Gn.prototype.callbacks=[];var Yn=St.CenteredSeriesMixin={getCenter:function(){var e=this.options,t=this.chart,n=2*(e.slicedOffset||0),r,i=t.plotWidth-2*n,s=t.plotHeight-2*n,o=e.center,u=[Ft(o[0],"50%"),Ft(o[1],"50%"),e.size||"100%",e.innerSize||0],a=f(i,s),l;return mn(u,function(e,t){return l=/%$/.test(e),r=t<2||t===2&&l,(l?[i,s,a,a][t]*kt(e)/100:e)+(r?n:0)})}},Zn=function(){};Zn.prototype={init:function(e,t,n){var r=this,i;return r.series=e,r.applyOptions(t,n),r.pointAttr={},e.options.colorByPoint&&(i=e.options.colors||e.chart.options.colors,r.color=r.color||i[e.colorCounter++],e.colorCounter===i.length&&(e.colorCounter=0)),e.chart.pointCount++,r},applyOptions:function(t,n){var r=this,i=r.series,s=i.options.pointValKey||i.pointValKey;return t=Zn.prototype.optionsToObject.call(this,t),Tt(r,t),r.options=r.options?Tt(r.options,t):t,s&&(r.y=r[s]),r.x===e&&r.series.xAxis&&r.series.xAxis.isDatetimeAxis&&(r.isInvalidPoint=!0),r.x===e&&i&&(r.x=n===e?i.autoIncrement():n),r},optionsToObject:function(e){var t={},n=this.series,r=n.pointArrayMap||["y"],i=r.length,s,o=0,u=0;if(typeof e=="number"||e===null)t[r[0]]=e;else if(Ot(e)){e.length>i&&(s=typeof e[0],s==="string"?t.name=e[0]:s==="number"&&(t.x=e[0]),o++);while(u<i)t[r[u++]]=e[o++]}else typeof e=="object"&&(t=e,e.dataLabels&&(n._hasPointLabels=!0),e.marker&&(n._hasPointMarkers=!0));return t},destroy:function(){var e=this,t=e.series,n=t.chart,r=n.hoverPoints,i;n.pointCount--,r&&(e.setState(),Pt(r,e),r.length||(n.hoverPoints=null)),e===n.hoverPoint&&e.onMouseOut();if(e.graphic||e.dataLabel)yn(e),e.destroyElements();e.legendItem&&n.legend.destroyItem(e);for(i in e)e[i]=null},destroyElements:function(){var e=this,t=["graphic","dataLabel","dataLabelUpper","group","connector","shadowGroup"],n,r=6;while(r--)n=t[r],e[n]&&(e[n]=e[n].destroy())},getLabelConfig:function(){var e=this;return{x:e.category,y:e.y,key:e.name||e.category,series:e.series,point:e,percentage:e.percentage,total:e.total||e.stackTotal}},tooltipFormatter:function(e){var t=this.series,n=t.tooltipOptions,r=Ft(n.valueDecimals,""),i=n.valuePrefix||"",s=n.valueSuffix||"";return pn(t.pointArrayMap||["y"],function(t){t="{point."+t;if(i||s)e=e.replace(t+"}",i+t+"}"+s);e=e.replace(t+"}",t+":,."+r+"f}")}),Qt(e,{point:this,series:this.series})},firePointEvent:function(e,t,n){var r=this,i=this.series,s=i.options;(s.point.events[e]||r.options&&r.options.events&&r.options.events[e])&&this.importEvents(),e==="click"&&s.allowPointSelect&&(n=function(e){r.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),bn(this,e,t,n)}};var er=function(){};er.prototype={isCartesian:!0,type:"line",pointClass:Zn,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(e,t){var n=this,r,i,s=e.series,o=function(e,t){return Ft(e.options.index,e._i)-Ft(t.options.index,t._i)};n.chart=e,n.options=t=n.setOptions(t),n.linkedSeries=[],n.bindAxes(),Tt(n,{name:t.name,state:nt,pointAttr:{},visible:t.visible!==!1,selected:t.selected===!0}),C&&(t.animation=!1),i=t.events;for(r in i)gn(n,r,i[r]);if(i&&i.click||t.point&&t.point.events&&t.point.events.click||t.allowPointSelect)e.runTrackerClick=!0;n.getColor(),n.getSymbol(),pn(n.parallelArrays,function(e){n[e+"Data"]=[]}),n.setData(t.data,!1),n.isCartesian&&(e.hasCartesianSeries=!0),s.push(n),n._i=s.length-1,en(s,o),this.yAxis&&en(this.yAxis.series,o),pn(s,function(e,t){e.index=t,e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var t=this,n=t.options,r=t.chart,i;pn(t.axisTypes||[],function(s){pn(r[s],function(r){i=r.options;if(n[s]===i.index||n[s]!==e&&n[s]===i.id||n[s]===e&&i.index===0)r.series.push(t),t[s]=r,r.isDirty=!0}),!t[s]&&t.optionalAxis!==s&&F(18,!0,r)})},updateParallelArrays:function(e,t){var n=e.series,r=arguments,i=typeof t=="number"?function(r){var i=r==="y"&&n.toYData?n.toYData(e):e[r];n[r+"Data"][t]=i}:function(e){Array.prototype[t].apply(n[e+"Data"],Array.prototype.slice.call(r,2))};pn(n.parallelArrays,i)},autoIncrement:function(){var e=this,t=e.options,n=e.xIncrement;return n=Ft(n,t.pointStart,0),e.pointInterval=Ft(e.pointInterval,t.pointInterval,1),e.xIncrement=n+e.pointInterval,n},getSegments:function(){var e=this,t=-1,n=[],r,i=e.points,s=i.length;if(s)if(e.options.connectNulls){r=s;while(r--)i[r].y===null&&i.splice(r,1);i.length&&(n=[i])}else pn(i,function(e,r){e.y===null?(r>t+1&&n.push(i.slice(t+1,r)),t=r):r===s-1&&n.push(i.slice(t+1,r+1))});e.segments=n},setOptions:function(e){var t=this.chart,n=t.options,r=n.plotOptions,i=t.userOptions||{},s=i.plotOptions||{},o=r[this.type],u;return this.userOptions=e,u=Nt(o,r.series,e),this.tooltipOptions=Nt(_.tooltip,_.plotOptions[this.type].tooltip,i.tooltip,s.series&&s.series.tooltip,s[this.type]&&s[this.type].tooltip,e.tooltip),o.marker===null&&delete u.marker,u},getCyclic:function(e,t,n){var r,i=this.userOptions,s="_"+e+"Index",o=e+"Counter";t||(Ht(i[s])?r=i[s]:(i[s]=r=this.chart[o]%n.length,this.chart[o]+=1),t=n[r]),this[e]=t},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||Tn[this.type].color,this.chart.options.colors)},getSymbol:function(){var e=this.options.marker;this.getCyclic("symbol",e.symbol,this.chart.options.symbols),/^url/.test(this.symbol)&&(e.radius=0)},drawLegendSymbol:Qn.drawLineMarker,setData:function(t,n,r,i){var s=this,o=s.points,u=o&&o.length||0,a,f=s.options,l=s.chart,c=null,h=s.xAxis,p=h&&!!h.categories,d=s.tooltipPoints,v,m=f.turboThreshold,g,y=this.xData,b=this.yData,w=s.pointArrayMap,E=w&&w.length;t=t||[],a=t.length,n=Ft(n,!0);if(i!==!1&&a&&u===a&&!s.cropped&&!s.hasGroupedData)pn(t,function(e,t){o[t].update(e,!1,null,!1)});else{s.xIncrement=null,s.pointRange=p?1:f.pointRange,s.colorCounter=0,pn(this.parallelArrays,function(e){s[e+"Data"].length=0});if(m&&a>m){v=0;while(c===null&&v<a)c=t[v],v++;if(Mt(c)){var S=Ft(f.pointStart,0),x=Ft(f.pointInterval,1);for(v=0;v<a;v++)y[v]=S,b[v]=t[v],S+=x;s.xIncrement=S}else if(Ot(c))if(E)for(v=0;v<a;v++)g=t[v],y[v]=g[0],b[v]=g.slice(1,E+1);else for(v=0;v<a;v++)g=t[v],y[v]=g[0],b[v]=g[1];else F(12,!1,l)}else for(v=0;v<a;v++)t[v]!==e&&(g={series:s},s.pointClass.prototype.applyOptions.apply(g,[t[v]]),g.isInvalidPoint||s.updateParallelArrays(g,v),p&&g.name!=null&&(h.names[g.x]=g.name));Lt(b[0])&&F(14,!0,l),s.data=[],s.options.data=t,v=u;while(v--)o[v]&&o[v].destroy&&o[v].destroy();d&&(d.length=0),h&&(h.minRange=h.userMinRange),s.isDirty=s.isDirtyData=l.isDirtyBox=!0,r=!1}n&&l.redraw(r)},processData:function(t){var n=this,r=n.xData,i=n.yData,s=r.length,o,u=0,a,f,l,c=n.xAxis,h,p=n.options,d=p.cropThreshold,v=0,m=n.isCartesian,g,y,b;if(m&&!n.isDirty&&!c.isDirty&&!n.yAxis.isDirty&&!t)return!1;c&&(g=c.getExtremes(),y=g.min,b=g.max);if(m&&n.sorted&&(!d||s>d||n.forceCrop))if(r[s-1]<y||r[0]>b)r=[],i=[];else if(r[0]<y||r[s-1]>b)o=this.cropData(n.xData,n.yData,y,b),r=o.xData,i=o.yData,u=o.start,a=!0,v=r.length;var w,E;n.requireSorting&&(w=r.slice(),w.sort(function(e,t){return e-t})),E=w?w:r;for(h=E.length-1;h>=0;h--)f=E[h]-E[h-1],!a&&E[h]>y&&E[h]<b&&v++,f>0&&(l===e||f<l)?l=f:f<0&&n.requireSorting&&F(15,!1,n.chart);n.cropped=a,n.cropStart=u,n.processedXData=r,n.processedYData=i,n.activePointCount=v,p.pointRange===null&&(n.pointRange=l||1),n.closestPointRange=l},cropData:function(e,t,n,r){var i=e.length,s=0,o=i,u=Ft(this.cropShoulder,1),f;for(f=0;f<i;f++)if(e[f]>=n){s=a(0,f-u);break}for(;f<i;f++)if(e[f]>r){o=f+u;break}return{xData:e.slice(s,o),yData:t.slice(s,o),start:s,end:o}},generatePoints:function(){var t=this,n=t.options,r=n.data,i=t.data,s,o=t.processedXData,u=t.processedYData,a=t.pointClass,f=o.length,l=t.cropStart||0,c,h=t.hasGroupedData,p,d=[],v;if(!i&&!h){var m=[];m.length=r.length,i=t.data=m}for(v=0;v<f;v++)c=l+v,h?d[v]=(new a).init(t,[o[v]].concat(jt(u[v]))):(i[c]?p=i[c]:r[c]!==e&&(i[c]=p=(new a).init(t,r[c],o[v])),d[v]=p),d[v].index=c;if(i&&(f!==(s=i.length)||h))for(v=0;v<s;v++)v===l&&!h&&(v+=f),i[v]&&(i[v].destroyElements(),i[v].plotX=e);t.data=i,t.points=d},getExtremes:function(t){var n=this.xAxis,r=this.yAxis,i=this.processedXData,s,o=[],u=0,a=n.getExtremes(),f=a.min,l=a.max,c,h,p,d,v,m,g,y;t=t||this.stackedYData||this.processedYData,s=t.length;for(g=0;g<s;g++){v=i[g],m=t[g],c=m!==null&&m!==e&&(!r.isLog||m.length||m>0),h=this.getExtremesFromAll||this.cropped||(i[g+1]||v)>=f&&(i[g-1]||v)<=l;if(c&&h){y=m.length;if(y)while(y--)m[y]!==null&&(o[u++]=m[y]);else o[u++]=m}}this.dataMin=Ft(p,tn(o)),this.dataMax=Ft(d,nn(o))},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t=this,n=t.options,r=n.stacking,i=t.xAxis,s=i.categories,o=t.yAxis,u=t.points,a=u.length,f=!!t.modifyValue,l,c=n.pointPlacement,h=c==="between"||Mt(c),p=n.threshold;for(l=0;l<a;l++){var d=u[l],v=d.x,m=d.y,g=d.low,y=r&&o.stacks[(t.negStacks&&m<p?"-":"")+t.stackKey],b,w;o.isLog&&m<=0&&(d.y=m=null,F(10)),d.plotX=i.translate(v,0,0,0,1,c,this.type==="flags"),r&&t.visible&&y&&y[v]&&(b=y[v],w=b.points[t.index+","+l],g=w[0],m=w[1],g===0&&(g=Ft(p,o.min)),o.isLog&&g<=0&&(g=null),d.total=d.stackTotal=b.total,d.percentage=b.total&&d.y/b.total*100,d.stackY=m,b.setOffset(t.pointXOffset||0,t.barW||0)),d.yBottom=Ht(g)?o.translate(g,0,1,0,1):null,f&&(m=t.modifyValue(m,d)),d.plotY=typeof m=="number"&&m!==Infinity?o.translate(m,0,1,0,1):e,d.clientX=h?i.translate(v,0,0,0,1):d.plotX,d.negative=d.y<(p||0),d.category=s&&s[d.x]!==e?s[d.x]:d.x}t.getSegments()},animate:function(e){var t=this,n=t.chart,r=n.renderer,i,s,o=t.options.animation,u=t.clipBox||n.clipBox,a=n.inverted,f;o&&!At(o)&&(o=Tn[t.type].animation),f=["_sharedClip",o.duration,o.easing,u.height].join(","),e?(i=n[f],s=n[f+"m"],i||(n[f]=i=r.clipRect(Tt(u,{width:0})),n[f+"m"]=s=r.clipRect(-99,a?-n.plotLeft:-n.plotTop,99,a?n.chartWidth:n.chartHeight)),t.group.clip(i),t.markerGroup.clip(s),t.sharedClipKey=f):(i=n[f],i&&i.animate({width:n.plotSizeX},o),n[f+"m"]&&n[f+"m"].animate({width:n.plotSizeX+99},o),t.animate=null)},afterAnimate:function(){var e=this.chart,t=this.sharedClipKey,n=this.group,r=this.clipBox;n&&this.options.clip!==!1&&((!t||!r)&&n.clip(r?e.renderer.clipRect(r):e.clipRect),this.markerGroup.clip()),bn(this,"afterAnimate"),setTimeout(function(){t&&e[t]&&(r||(e[t]=e[t].destroy()),e[t+"m"]&&(e[t+"m"]=e[t+"m"].destroy()))},100)},drawPoints:function(){var t=this,n,r=t.points
,o=t.chart,u,a,f,l,c,h,p,d,v=t.options,m=v.marker,g=t.pointAttr[""],y,b,w,E,S=t.markerGroup,x=Ft(m.enabled,!t.requireSorting||t.activePointCount<.5*t.xAxis.len/m.radius);if(m.enabled!==!1||t._hasPointMarkers){f=r.length;while(f--)l=r[f],u=s(l.plotX),a=l.plotY,d=l.graphic,y=l.marker||{},b=!!l.marker,w=x&&y.enabled===e||y.enabled,E=o.isInsidePlot(i(u),a,o.inverted),w&&a!==e&&!isNaN(a)&&l.y!==null?(n=l.pointAttr[l.selected?it:nt]||g,c=n.r,h=Ft(y.symbol,t.symbol),p=h.indexOf("url")===0,d?d[E?"show":"hide"](!0).animate(Tt({x:u-c,y:a-c},d.symbolName?{width:2*c,height:2*c}:{})):E&&(c>0||p)&&(l.graphic=d=o.renderer.symbol(h,u-c,a-c,2*c,2*c,b?y:m).attr(n).add(S))):d&&(l.graphic=d.destroy())}},convertAttribs:function(e,t,n,r){var i=this.pointAttrToOptions,s,o,u={};e=e||{},t=t||{},n=n||{},r=r||{};for(s in i)o=i[s],u[s]=Ft(e[o],t[s],n[s],r[s]);return u},getAttribs:function(){var e=this,t=e.options,n=Tn[e.type].marker?t.marker:t,r=n.states,i=r[rt],s,o=e.color,u={stroke:o,fill:o},a=e.points||[],f,l,c=[],h,p=e.pointAttrToOptions,d=e.hasPointSpecificOptions,v=t.negativeColor,m=n.lineColor,g=n.fillColor,y=t.turboThreshold,b,w;t.marker?(i.radius=i.radius||n.radius+i.radiusPlus,i.lineWidth=i.lineWidth||n.lineWidth+i.lineWidthPlus):e.type!=="waterfall"&&(i.color=i.color||_n(i.color||o).brighten(i.brightness).get()),c[nt]=e.convertAttribs(n,u),pn([rt,it],function(t){c[t]=e.convertAttribs(r[t],c[nt])}),e.pointAttr=c,f=a.length;if(!y||f<y||d)while(f--){l=a[f],n=l.options&&l.options.marker||l.options,e.type=="waterfall"&&!l.color&&(l.color=e.options[l.negative?"negativeColor":"upColor"]),n&&n.enabled===!1&&(n.radius=0),l.negative&&v&&(l.color=l.fillColor=v),d=t.colorByPoint||l.color||l.options&&l.options.marker&&l.options.marker.states&&l.options.marker.states.hover&&l.options.marker.states.hover.enabled;if(l.options)for(w in p)Ht(n[p[w]])&&(d=!0);if(d){n=n||{},h=[],r=n.states||{},s=r[rt]=r[rt]||{},t.marker||(s.color=s.color||l.options&&!l.options.color&&i.color||_n(l.color).brighten(s.brightness||i.brightness).get()),b={color:l.color},g||(b.fillColor=l.color),m||(b.lineColor=l.color),h[nt]=e.convertAttribs(Tt(n,b),c[nt]),h[rt]=e.convertAttribs(r[rt],c[rt],h[nt]);if(l.negative&&v){var E={fill:_n(v).brighten(s.brightness||i.brightness).get()};h[rt]=Nt(h[rt],E)}h[it]=e.convertAttribs(r[it],c[it],h[nt])}else h=c;l.pointAttr=h}},destroy:function(){var e=this,t=e.chart,n=/AppleWebKit\/533/.test(v),r,i,s=e.data||[],o,u,a;bn(e,"destroy"),yn(e),pn(e.axisTypes||[],function(t){a=e[t],a&&(Pt(a.series,e),a.isDirty=a.forceRedraw=!0)}),e.legendItem&&e.chart.legend.destroyItem(e),i=s.length;while(i--)o=s[i],o&&o.destroy&&o.destroy();e.points=null,clearTimeout(e.animationTimeout),pn(["area","graph","dataLabelsGroup","group","markerGroup","tracker","graphNeg","areaNeg","posClip","negClip"],function(t){e[t]&&(r=n&&t==="group"?"hide":"destroy",e[t][r]())}),t.hoverSeries===e&&(t.hoverSeries=null),Pt(t.series,e);for(u in e)delete e[u]},getSegmentPath:function(e){var t=this,n=[],r=t.options.step;return pn(e,function(i,s){var o=i.plotX,u=i.plotY,a;t.getPointSpline?n.push.apply(n,t.getPointSpline(e,i,s)):(n.push(s?et:Z),r&&s&&(a=e[s-1],r==="right"?n.push(a.plotX,u):r==="center"?n.push((a.plotX+o)/2,a.plotY,(a.plotX+o)/2,u):n.push(o,a.plotY)),n.push(i.plotX,i.plotY))}),n},getGraphPath:function(){var e=this,t=[],n,r=[];return pn(e.segments,function(i){n=e.getSegmentPath(i),i.length>1?t=t.concat(n):r.push(i[0])}),e.singlePoints=r,e.graphPath=t,t},drawGraph:function(){var e=this,t=this.options,n=[["graph",t.lineColor||this.color]],r=t.lineWidth,i=t.dashStyle,s=t.linecap!=="square",o=this.getGraphPath(),u=t.negativeColor;u&&n.push(["graphNeg",u]),pn(n,function(n,u){var a=n[0],f=e[a],l;f?(Sn(f),f.animate({d:o})):r&&o.length&&(l={stroke:n[1],"stroke-width":r,fill:G,zIndex:1},i?l.dashstyle=i:s&&(l["stroke-linecap"]=l["stroke-linejoin"]="round"),e[a]=e.chart.renderer.path(o).attr(l).add(e.group).shadow(!u&&t.shadow))})},getGraphPathPrototypeAreaSpline:function(e,t,n){var r=this,i=r.options,s=i.step,o,u=[],a;return e=e||r.points,o=e.reversed,o&&e.reverse(),s={right:1,center:2}[s]||s&&3,s&&o&&(s=4-s),i.connectNulls&&!t&&!n&&(e=this.getValidPoints(e)),pn(e,function(o,f){var l=o.plotX,c=o.plotY,h=e[f-1],p;(o.leftCliff||h&&h.rightCliff)&&!n&&(a=!0),o.isNull&&!Ht(t)&&f>0?a=!i.connectNulls:o.isNull&&!t?a=!0:(f===0||a?p=[Z,o.plotX,o.plotY]:r.getPointSpline?p=r.getPointSpline(e,o,f):s?(s===1?p=[et,h.plotX,c]:s===2?p=[et,(h.plotX+l)/2,h.plotY,et,(h.plotX+l)/2,c]:p=[et,l,h.plotY],p.push(et,l,c)):p=[et,l,c],u.push.apply(u,p),a=!1)}),r.graphPath=u,u},drawGraphAreaSpline:function(){this.areaPath=[],er.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,n=this.options,r=n.negativeColor,i=n.negativeFillColor,s=this.zones,o=[["area",this.color,n.fillColor]];(r||i)&&o.push(["areaNeg",r,i]),pn(s,function(t,r){o.push(["zoneArea"+r,t.color||e.color,t.fillColor||n.fillColor])}),pn(o,function(r){var i=r[0],s=e[i],o;s?s.animate({d:t}):(o={fill:r[2]||r[1],zIndex:0},r[2]||(o["fill-opacity"]=Ft(n.fillOpacity,.75)),e[i]=e.chart.renderer.path(t).attr(o).add(e.group))})},getSegmentPathAreaSpline:function(e){var t=this.getGraphPathPrototypeAreaSpline,n,r=this.options,i=r.stacking,s=this.yAxis,o,u,a=[],f=[],l=this.index,c,h,p,d=s.stacks[this.stackKey],v=r.threshold,m=s.getThreshold(r.threshold),g,y,b=r.connectNulls||i==="percent",w=function(t,n,r){var o=e[t],u,c=o[r+"Null"]||0,h=o[r+"Cliff"]||0,g,y,b=!0;if(d&&d[o.x]&&d[o.x].points)for(x in d[o.x].points)if(x.split(",")[0]==l){u=i&&d[o.x].points[x];break}h||c?(g=(c?u[0]:u[1])+h,y=u[0]+h,b=!!c):!i&&e[n]&&e[n].isNull&&(g=y=v),g!==undefined&&(f.push({plotX:p,plotY:g===null?m:s.getThreshold(g),isNull:b}),a.push({plotX:p,plotY:y===null?m:s.getThreshold(y)}))};e=e||this.points;var e=this.points;i&&(e=this.getStackPointsAreaSpline()),this.chart.polar&&this.options.connectEnds!==!1&&e[0].y!==null&&(this.connectEnds=!0,e=[].concat(e,[e[0]]));for(c=0;c<e.length;c++){g=e[c].isNull=e[c].x===null||!Mt(e[c].y,!0),p=Ft(e[c].rectPlotX,e[c].plotX),y=Ft(e[c].yBottom,m);if(!g||b)b||w(c,c-1,"left"),g&&!i&&b||(f.push(e[c]),a.push({x:c,plotX:p,plotY:y})),b||w(c,c+1,"right")}return o=t.call(this,f,!0,!0),a.reversed=!0,u=t.call(this,a,!0,!0),u.length&&(u[0]=et),h=o.concat(u),n=t.call(this,f,!1,b),this.areaPath=h,n},getStackPointsAreaSpline:function(){var e=this,t=[],n=[],r=this.xAxis,i=this.yAxis,s=i.stacks[this.stackKey],o={},u=this.points,a=e.index,f=i.series,l=f.length,c,h=Ft(i.options.reversedStacks,!0)?1:-1,p,d;if(this.options.stacking){for(p=0;p<u.length;p++)o[u[p].x]=u[p];for(d in s)s[d].total!==null&&n.push(d);n.sort(function(e,t){return e-t}),c=mn(f,function(){return this.visible}),pn(n,function(e,u){var f=0,d,v;if(o[e]&&!o[e].isNull)t.push(o[e]),pn([-1,1],function(t){var r=t===1?"rightNull":"leftNull",i=t===1?"rightCliff":"leftCliff",f=0,m=s[n[u+t]];if(m){p=a;while(p>=0&&p<l)d=m.points[p],d||p!==a&&c[p]&&(v=s[e].points[p],v&&(f-=v[1]-v[0])),p+=h}o[e][i]=f});else{p=a;while(p>=0&&p<l){d=s[e].points[p];if(d){f=d[1];break}p+=h}f=i.toPixels(f,!0),t.push({isNull:!0,plotX:r.toPixels(e,!0),plotY:f,yBottom:f})}})}return t},clipNeg:function(){var e=this.options,t=this.chart,n=t.renderer,r=e.negativeColor||e.negativeFillColor,s,o,u,f=this.graph,l=this.area,c=this.posClip,h=this.negClip,p=t.chartWidth,d=t.chartHeight,v=a(p,d),m=this.yAxis,g,y;r&&(f||l)&&(s=i(m.toPixels(e.threshold||0,!0)),s<0&&(v-=s),g={x:0,y:0,width:v,height:s},y={x:0,y:s,width:v,height:v},t.inverted&&(g.height=y.y=t.plotWidth-s,n.isVML&&(g={x:t.plotWidth-s-t.plotLeft,y:0,width:p,height:d},y={x:s+t.plotLeft-p,y:0,width:t.plotLeft+s,height:p})),m.reversed?(o=y,u=g):(o=g,u=y),c?(c.animate(o),h.animate(u)):(this.posClip=c=n.clipRect(o),this.negClip=h=n.clipRect(u),f&&this.graphNeg&&(f.clip(c),this.graphNeg.clip(h)),l&&(l.clip(c),this.areaNeg.clip(h))))},invertGroups:function(){function n(){var t={width:e.yAxis.len,height:e.xAxis.len};pn(["group","markerGroup"],function(n){e[n]&&e[n].attr(t).invert()})}var e=this,t=e.chart;if(!e.xAxis)return;gn(t,"resize",n),gn(e,"destroy",function(){yn(t,"resize",n)}),n(),e.invertGroups=n},plotGroup:function(e,t,n,r,i){var s=this[e],o=!s;if(Ht(this.chart.renderer))return o&&(this[e]=s=this.chart.renderer.g(t).attr({visibility:n,zIndex:r||.1}).add(i)),s[o?"attr":"animate"](this.getPlotBox()),s},getPlotBox:function(){var e=this.chart,t=this.xAxis,n=this.yAxis;return e.inverted&&(t=n,n=this.xAxis),{translateX:t?t.left:e.plotLeft,translateY:n?n.top:e.plotTop,scaleX:1,scaleY:1}},render:function(){if(Ht(this.chart.renderer)){var e=this,t=e.chart,n,r=e.options,i=r.animation,s=Ht(t.renderer)&&i&&!!e.animate&&t.renderer.isSVG&&Ft(i.duration,500)||0,o=e.visible?K:$,u=r.zIndex,a=e.hasRendered,f=t.seriesGroup;n=e.plotGroup("group","series",o,u,f),e.markerGroup=e.plotGroup("markerGroup","markers",o,u,f),s&&e.animate(!0),e.getAttribs(),n.inverted=e.isCartesian?t.inverted:!1,e.drawGraph&&(e.drawGraph(),e.clipNeg()),pn(e.points,function(e){e.redraw&&e.redraw()}),e.drawDataLabels&&e.drawDataLabels(),e.visible&&e.drawPoints(),e.drawTracker&&e.options.enableMouseTracking!==!1&&e.drawTracker(),t.inverted&&e.invertGroups();if(r.clip!==!1&&!e.sharedClipKey&&!a){var l=isIEFunction();if(l&&l==7||l==8){var c=window.screen.availWidth>window.screen.availHeight?window.screen.availWidth:window.screen.availHeight;t.clipRect.height=c,t.clipRect.width=c}n.clip(t.clipRect)}s&&e.animate(),a||(s?e.animationTimeout=setTimeout(function(){e.afterAnimate()},s):e.afterAnimate()),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0}},redraw:function(){var e=this,t=e.chart,n=e.isDirtyData,r=e.group,i=e.xAxis,s=e.yAxis;r&&(t.inverted&&r.attr({width:t.plotWidth,height:t.plotHeight}),r.animate({translateX:Ft(i&&i.left,t.plotLeft),translateY:Ft(s&&s.top,t.plotTop)})),e.translate(),e.setTooltipPoints&&e.setTooltipPoints(!0),e.render(),n&&bn(e,"updatedData")}},tr.prototype={destroy:function(){rn(this,this.axis)},render:function(e){var t=this.options,n=t.format,r=n?Qt(n,this):t.formatter.call(this);this.label?this.label.attr({text:r,visibility:$}):this.label=this.axis.chart.renderer.text(r,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:$}).add(e)},setOffset:function(e,t){var n=this,r=n.axis,i=r.chart,s=i.inverted,o=this.isNegative,u=r.translate(r.usePercentage?100:this.total,0,0,0,1),a=r.translate(0),f=l(u-a),c=i.xAxis[0].translate(this.x)+e,h=i.plotHeight,p={x:s?o?u:u-f:c,y:s?h-c-t:o?h-u-f:h-u,width:s?f:t,height:s?t:f},d=this.label,v;d&&(d.align(this.alignOptions,null,p),v=d.alignAttr,d[this.options.crop===!1||i.isInsidePlot(v.x,v.y)?"show":"hide"](!0))}},Rn.prototype.buildStacks=function(){var e=this.series,t=Ft(this.options.reversedStacks,!0),n=e.length;if(!this.isXAxis){this.usePercentage=!1;while(n--)e[t?n:e.length-n-1].setStackedPoints();if(this.usePercentage)for(n=0;n<e.length;n++)e[n].setPercentStacks()}},Rn.prototype.renderStackTotals=function(){var e=this,t=e.chart,n=t.renderer,r=e.stacks,i,s,o,u=e.stackTotalGroup;u||(e.stackTotalGroup=u=n.g("stack-labels").attr({visibility:K,zIndex:6}).add()),u.translate(t.plotLeft,t.plotTop);for(i in r){s=r[i];for(o in s)s[o].render(u)}},er.prototype.setStackedPoints=function(){if(!this.options.stacking||this.visible!==!0&&this.chart.options.chart.ignoreHiddenSeries!==!1)return;var e=this,t=e.processedXData,n=e.processedYData,r=[],i=n.length,s=e.options,o=s.threshold,u=s.stack,f=s.stacking,c=e.stackKey,h="-"+c,p=e.negStacks,d=e.yAxis,v=d.stacks,m=d.oldStacks,g,y,b,w,E,S,x,T;for(S=0;S<i;S++)x=t[S],T=n[S],E=e.index+","+S,g=p&&T<o,w=g?h:c,v[w]||(v[w]={}),v[w][x]||(m[w]&&m[w][x]?(v[w][x]=m[w][x],v[w][x].total=null):v[w][x]=new tr(d,d.options.stackLabels,g,x,u)),y=v[w][x],y.points[E]=[y.cum||0],f==="percent"?(b=g?c:h,p&&v[b]&&v[b][x]?(b=v[b][x],y.total=b.total=a(b.total,y.total)+l(T)||0):y.total=on(y.total+(l(T)||0))):y.total=on(y.total+(T||0)),y.cum=(y.cum||0)+(T||0),y.points[E].push(y.cum),r[S]=y.cum;f==="percent"&&(d.usePercentage=!0),this.stackedYData=r,d.oldStacks={}},er.prototype.setPercentStacks=function(){var e=this,t=e.stackKey,n=e.yAxis.stacks,r=e.processedXData;pn([t,"-"+t],function(t){var i=r.length,s,o,u,a;while(i--)s=r[i],o=n[t]&&n[t][s],u=o&&o.points[e.index+","+i],u&&(a=o.total?100/o.total:0,u[0]=on(u[0]*a),u[1]=on(u[1]*a),e.stackedYData[i]=u[1])})},Tt(Gn.prototype,{addSeries:function(e,t,n){var r,i=this;return e&&(t=Ft(t,!0),bn(i,"addSeries",{options:e},function(){r=i.initSeries(e),i.isDirtyLegend=!0,i.linkSeries(),t&&i.redraw(n)})),r},addAxis:function(e,t,n,r){var i=t?"xAxis":"yAxis",s=this.options,o;o=new Rn(this,Nt(e,{index:this[i].length,isX:t})),s[i]=jt(s[i]||{}),s[i].push(e),Ft(n,!0)&&this.redraw(r)},showLoading:function(e){var t=this,n=t.options,r=t.loadingDiv,i=n.loading,s=function(){r&&It(r,{left:t.plotLeft+Q,top:t.plotTop+Q,width:t.plotWidth+Q,height:t.plotHeight+Q})};r||(t.loadingDiv=r=qt(W,{className:J+"loading"},Tt(i.style,{zIndex:10,display:G}),t.container),t.loadingSpan=qt("span",null,i.labelStyle,r),gn(t,"redraw",s)),t.loadingSpan.innerHTML=e||n.lang.loading,t.loadingShown||(It(r,{display:""}),En(r,{opacity:i.style.opacity},{duration:i.showDuration||0}),t.loadingShown=!0),s()},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&En(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){It(t,{display:G})}}),this.loadingShown=!1}}),Tt(Zn.prototype,{update:function(e,t,n,r){function l(){i.applyOptions(e),At(e)&&!Ot(e)&&(i.redraw=function(){o&&(e&&e.marker&&e.marker.symbol?i.graphic=o.destroy():o.attr(i.pointAttr[i.state||""])),e&&e.dataLabels&&i.dataLabel&&(i.dataLabel=i.dataLabel.destroy()),i.redraw=null}),u=i.index,s.updateParallelArrays(i,u),f.data[u]=i.options,s.isDirty=s.isDirtyData=!0,!s.fixedBox&&s.hasCartesianSeries&&(a.isDirtyBox=!0),f.legendType==="point"&&a.legend.destroyItem(i),t&&a.redraw(n)}var i=this,s=i.series,o=i.graphic,u,a=s.chart,f=s.options;t=Ft(t,!0),r===!1?l():i.firePointEvent("update",{options:e},l)},remove:function(e,t){var n=this,r=n.series,i=r.points,s=r.chart,o,u=r.data;un(t,s),e=Ft(e,!0),n.firePointEvent("remove",null,function(){o=hn(n,u),u.length===i.length&&i.splice(o,1),u.splice(o,1),r.options.data.splice(o,1),r.updateParallelArrays(n,"splice",o,1),n.destroy(),r.isDirty=!0,r.isDirtyData=!0,e&&s.redraw()})}}),Tt(er.prototype,{addPoint:function(e,t,n,r){var i=this,s=i.options,o=i.data,u=i.graph,a=i.area,f=i.chart,l=i.xAxis&&i.xAxis.names,c=u&&u.shift||0,h=s.data,p,d,v=i.xData,m,g;un(r,f),n&&pn([u,a,i.graphNeg,i.areaNeg],function(e){e&&(e.shift=c+1)}),a&&(a.isArea=!0),t=Ft(t,!0),p={series:i},i.pointClass.prototype.applyOptions.apply(p,[e]),m=p.x,g=v.length;if(i.requireSorting&&m<v[g-1]){d=!0;while(g&&v[g-1]>m)g--}i.updateParallelArrays(p,"splice",g,0,0),i.updateParallelArrays(p,g),l&&p.name&&(l[m]=p.name),h.splice(g,0,e),d&&(i.data.splice(g,0,null),i.processData()),s.legendType==="point"&&i.generatePoints(),n&&(o[0]&&o[0].remove?o[0].remove(!1):(o.shift(),i.updateParallelArrays(p,"shift"),h.shift())),i.isDirty=!0,i.isDirtyData=!0,t&&(i.getAttribs(),f.redraw())},remove:function(e,t){var n=this,r=n.chart;e=Ft(e,!0),n.isRemoving||(n.isRemoving=!0,bn(n,"remove",null,function(){n.destroy(),r.isDirtyLegend=r.isDirtyBox=!0,r.linkSeries(),e&&r.redraw(t)})),n.isRemoving=!1},update:function(t,n){var r=this,i=this.chart,s=this.userOptions,o=this.type,u=Et[o].prototype,a=["group","markerGroup","dataLabelsGroup"],f;pn(a,function(e){a[e]=r[e],delete r[e]}),t=Nt(s,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},t),this.remove(!1);for(f in u)u.hasOwnProperty(f)&&(this[f]=e);Tt(this,Et[t.type||o].prototype),pn(a,function(e){r[e]=a[e]}),this.init(i,t),i.linkSeries(),Ft(n,!0)&&i.redraw(!1)},removePoint:function(e,t,n){var r=this,i=r.data,s=i[e],o=r.points,u=r.chart,a=function(){i.length===o.length&&o.splice(e,1),i.splice(e,1),r.options.data.splice(e,1),r.updateParallelArrays(s||{series:r},"splice",e,1),s&&s.destroy(),r.isDirty=!0,r.isDirtyData=!0,t&&u.redraw()};un(n,u),t=Ft(t,!0),s?s.firePointEvent("remove",null,a):a()}}),Tt(Rn.prototype,{update:function(t,n){var r=this.chart;t=r.options[this.coll][this.options.index]=Nt(this.userOptions,t),this.destroy(!0),this._addedPlotLB=e,this.init(r,Tt(t,{events:e})),r.isDirtyBox=!0,Ft(n,!0)&&r.redraw()},remove:function(e){var t=this.chart,n=this.coll,r=this.series,i=r.length;while(i--)r[i]&&r[i].remove(!1);Pt(t.axes,this),Pt(t[n],this),t.options[n].splice(this.options.index,1),pn(t[n],function(e,t){e.options.index=t}),this.destroy(),t.isDirtyBox=!0,Ft(e,!0)&&t.redraw()},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}});var nr=Rt(er);Et.line=nr,Tn.area=Nt(Nn,{threshold:0});var rr=Rt(er,{type:"area",getSegments:function(){var e=this,t=[],n=[],r=[],i=this.xAxis,s=this.yAxis,o=s.stacks[this.stackKey],u={},a,f,l=this.points,c=this.options.connectNulls,h,p;if(this.options.stacking&&!this.cropped){for(h=0;h<l.length;h++)u[l[h].x]=l[h];for(p in o)o[p].total!==null&&r.push(+p);r.sort(function(e,t){return e-t}),pn(r,function(t){var r=0,l;if(c&&(!u[t]||u[t].y===null))return;if(u[t])n.push(u[t]);else{for(h=e.index;h<=s.series.length;h++){l=o[t].points[h+","+t];if(l){r=l[1];break}}a=i.translate(t),f=s.toPixels(r,!0),n.push({y:null,plotX:a,clientX:a,plotY:f,yBottom:f,onMouseOver:I})}}),n.length&&t.push(n)}else er.prototype.getSegments.call(this),t=this.segments;this.segments=t},getSegmentPath:function(e){var t=er.prototype.getSegmentPath.call(this,e),n=[].concat(t),r,i=this.options,s=t.length,o=this.yAxis.getThreshold(i.threshold),u;s===3&&n.push(et,t[1],t[2]);if(i.stacking&&!this.closedStacks)for(r=e.length-1;r>=0;r--)u=Ft(e[r].yBottom,o),r<e.length-1&&i.step&&n.push(e[r+1].plotX,u),n.push(e[r].plotX,u);else this.closeSegment(n,e,o);return this.areaPath=this.areaPath.concat(n),t},closeSegment:function(e,t,n){e.push(et,t[t.length-1].plotX,n,et,t[0].plotX,n)},drawGraph:function(){this.areaPath=[],er.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,n=this.options,r=n.negativeColor,i=n.negativeFillColor,s=[["area",this.color,n.fillColor]];(r||i)&&s.push(["areaNeg",r,i]),pn(s,function(r){var i=r[0],s=e[i];s?s.animate({d:t}):e[i]=e.chart.renderer.path(t).attr({fill:Ft(r[2],_n(r[1]).setOpacity(Ft(n.fillOpacity,.75)).get()),zIndex:0}).add(e.group)})},drawLegendSymbol:Qn.drawRectangle});Et.area=rr,Tn.spline=Nt(Nn);var ir=Rt(er,{type:"spline",getPointSpline:function(e,t,n){var r=1.5,i=r+1,s=t.plotX,o=t.plotY,u=e[n-1],l=e[n+1],c,h,p,d,v;if(u&&l){var m=u.plotX,g=u.plotY,y=l.plotX,b=l.plotY,w;c=(r*s+m)/i,h=(r*o+g)/i,p=(r*s+y)/i,d=(r*o+b)/i,w=(d-h)*(p-s)/(p-c)+o-d,h+=w,d+=w,h>g&&h>o?(h=a(g,o),d=2*o-h):h<g&&h<o&&(h=f(g,o),d=2*o-h),d>b&&d>o?(d=a(b,o),h=2*o-d):d<b&&d<o&&(d=f(b,o),h=2*o-d),t.rightContX=p,t.rightContY=d}return n?(v=["C",u.rightContX||u.plotX,u.rightContY||u.plotY,c||s,h||o,s,o],u.rightContX=u.rightContY=null):v=[Z,s,o],v}});Et.spline=ir,Tn.areaspline=Nt(Tn.area);var sr=rr.prototype,or=Rt(ir,{type:"areaspline",closedStacks:!0,getSegmentPath:sr.getSegmentPathAreaSpline,closeSegment:sr.closeSegment,drawGraph:sr.drawGraphAreaSpline,drawLegendSymbol:Qn.drawRectangle});Et.areaspline=or,Tn.column=Nt(Nn,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0});var ur=Rt(er,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){er.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&pn(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var t=this,n=t.options,r=t.xAxis,i=t.yAxis,s=r.reversed,o,u={},a,c=0;n.grouping===!1?c=1:pn(t.chart.series,function(n){var r=n.options,s=n.yAxis;n.type===t.type&&n.visible&&i.len===s.len&&i.pos===s.pos&&(r.stacking?(o=n.stackKey,u[o]===e&&(u[o]=c++),a=u[o]):r.grouping!==!1&&(a=c++),n.columnIndex=a)});var h=f(l(r.transA)*(r.ordinalSlope||n.pointRange||r.closestPointRange||r.tickInterval||1),r.len),p=h*n.groupPadding,d=h-2*p,v=d/c,m=n.pointWidth,g=Ht(m)?(v-m)/2:v*n.pointPadding,y=Ft(m,v-2*g),b=(s?c-(t.columnIndex||0):t.columnIndex)||0,w=g+(p+b*v-h/2)*(s?-1:1);return t.columnMetrics={width:y,offset:w}},translate:function(){var e=this,t=e.chart,n=e.options,r=e.borderWidth=Ft(n.borderWidth,e.activePointCount>.5*e.xAxis.len?0:1),s=e.yAxis,o=n.threshold,c=e.translatedThreshold=s.getThreshold(o),h=Ft(n.minPointLength,5),p=e.getColumnMetrics(),d=p.width,v=e.barW=a(d,1+2*r),m=e.pointXOffset=p.offset,g=-(r%2?.5:0),y=r%2?.5:1;t.renderer&&t.renderer.isVML&&t.inverted&&(y+=1),n.pointPadding&&(v=u(v)),er.prototype.translate.apply(e),pn(e.points,function(n){var r=Ft(n.yBottom,c),o=f(a(-999-r,n.plotY),s.len+999+r),u=n.plotX+m,p=v,b=f(o,r),w,E,S,x=a(o,r)-b;l(x)<h&&h&&(x=h,b=i(l(b-c)>h?r-h:c-(s.translate(n.y,0,1,0,1)<=c?h:0))),n.barX=u,n.pointWidth=d,n.tooltipPos=t.inverted?[s.len-o,e.xAxis.len-u-p/2]:[u+p/2,o<0?s.pos-t.plotTop:o+s.pos-t.plotTop],w=i(u+p)+g,u=i(u)+g,p=w-u,S=l(b)<.5,E=i(b+x)+y,b=i(b)+y,x=E-b,S&&(b-=1,x+=1),n.shapeType="rect",n.shapeArgs={x:u,y:b,width:p,height:x}})},getSymbol:I,drawLegendSymbol:Qn.drawRectangle,drawGraph:I,drawPoints:function(){var t=this,n=this.chart,r=t.options,i=n.renderer,s=r.animationLimit||250,o,u;pn(t.points,function(a){var f=a.plotY,l=a.graphic,c;f!==e&&!isNaN(f)&&a.y!==null?(o=a.shapeArgs,c=Ht(t.borderWidth)?{"stroke-width":t.borderWidth}:{},u=a.pointAttr[a.selected?it:nt]||t.pointAttr[nt],l?(Sn(l),l.attr(c)[n.pointCount<s?"animate":"attr"](Nt(o))):a.graphic=l=i[a.shapeType](o).attr(u).attr(c).add(t.group).shadow(r.shadow,null,r.stacking&&!r.borderRadius)):l&&(a.graphic=l.destroy())})},animate:function(e){var t=this,n=this.yAxis,r=t.options,i=this.chart.inverted,s={},o;T&&(e?(s.scaleY=.001,o=f(n.pos+n.len,a(n.pos,n.toPixels(r.threshold))),i?s.translateX=o-n.len:s.translateY=o,t.group.attr(s)):(s.scaleY=1,s[i?"translateX":"translateY"]=n.pos,t.group.animate(s,t.options.animation),t.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&pn(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),er.prototype.remove.apply(e,arguments)}});Et.column=ur,Tn.bar=Nt(Tn.column);var ar=Rt(ur,{type:"bar",inverted:!0});Et.bar=ar,Tn.scatter=Nt(Nn,{lineWidth:0,tooltip:{headerFormat:'<span style="color:{series.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"},stickyTracking:!1});var fr=Rt(er,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,singularTooltips:!0,drawGraph:function(){this.options.lineWidth&&er.prototype.drawGraph.call(this)}});Et.scatter=fr,Tn.pie=Nt(Nn,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});var lr=Rt(Zn,{init:function(){Zn.prototype.init.apply(this,arguments);var e=this,t;return e.y<0&&(e.y=null),Tt(e,{visible:e.visible!==!1,name:Ft(e.name,"Slice")}),t=function(t){e.slice(t.type==="select")},gn(e,"select",t),gn(e,"unselect",t),e},setVisible:function(t){var n=this,r=n.series,i=r.chart;n.visible=n.options.visible=t=t===e?!n.visible:t,r.options.data[hn(n,r.data)]=n.options,pn(["graphic","dataLabel","connector","shadowGroup"],function(e){n[e]&&n[e][t?"show":"hide"](!0)}),n.legendItem&&i.legend.colorizeItem(n,t),!r.isDirty&&r.options.ignoreHiddenPoint&&(r.isDirty=!0,i.redraw())},slice:function(e,t,n){var r=this,i=r.series,s=i.chart,o;un(n,s),t=Ft(t,!0),r.sliced=r.options.sliced=e=Ht(e)?e:!r.sliced,i.options.data[hn(r,i.data)]=r.options,o=e?r.slicedTranslation:{translateX:0,translateY:0},r.graphic.animate(o),r.shadowGroup&&r.shadowGroup.animate(o)},haloPath:function(e){var t=this.shapeArgs,n=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(n.plotLeft+t.x,n.plotTop+t.y,t.r+e,t.r+e,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}}),cr={type:"pie",isCartesian:!1,pointClass:lr,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},singularTooltips:!0,animate:function(e){var t=this,n=t.points,r=t.startAngleRad;e||(pn(n,function(e){var n=e.graphic,i=e.shapeArgs;n&&(n.attr({r:t.center[3]/2,start:r,end:r}),n.animate({r:i.r,start:i.start,end:i.end},t.options.animation))}),t.animate=null)},setData:function(e,t,n,r){er.prototype.setData.call(this,e,!1,n,r),this.processData(),this.generatePoints(),Ft(t,!0)&&this.chart.redraw(n)},generatePoints:function(){var e,t=0,n,r,i,s=this.options.ignoreHiddenPoint;er.prototype.generatePoints.call(this),n=this.points,r=n.length;for(e=0;e<r;e++)i=n[e],t+=s&&!i.visible?0:i.y;this.total=t;for(e=0;e<r;e++)i=n[e],i.percentage=t>0?i.y/t*100:0,i.total=t},translate:function(e){this.generatePoints();var t=this,n=0,s=1e3,o=t.options,u=o.slicedOffset,a=u+o.borderWidth,l,d,v,m=o.startAngle||0,g=t.startAngleRad=p/180*(m-90),y=t.endAngleRad=p/180*(Ft(o.endAngle,m+360)-90),b=y-g,w=t.points,E,S,x=o.dataLabels.distance,T=o.ignoreHiddenPoint,N,C=w.length,k;e||(t.center=e=t.getCenter()),t.getX=function(t,n){return v=r.asin(f((t-e[1])/(e[2]/2+x),1)),e[0]+(n?-1:1)*c(v)*(e[2]/2+x)};for(N=0;N<C;N++){k=w[N],l=g+n*b;if(!T||k.visible)n+=k.percentage/100;d=g+n*b,k.shapeType="arc",k.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:i(l*s)/s,end:i(d*s)/s},v=(d+l)/2,v>1.5*p?v-=2*p:v<-p/2&&(v+=2*p),k.slicedTranslation={translateX:i(c(v)*u),translateY:i(h(v)*u)},E=c(v)*e[2]/2,S=h(v)*e[2]/2,k.tooltipPos=[e[0]+E*.7,e[1]+S*.7],k.half=v<-p/2||v>p/2?1:0,k.angle=v,a=f(a,x/2),k.labelPos=[e[0]+E+c(v)*x,e[1]+S+h(v)*x,e[0]+E+c(v)*a,e[1]+S+h(v)*a,e[0]+E,e[1]+S,x<0?"center":k.half?"right":"left",v]}},drawGraph:null,drawPoints:function(){var e=this,t=e.chart,n=t.renderer,r,i,s=e.options.shadow,o,u;s&&!e.shadowGroup&&(e.shadowGroup=n.g("shadow").add(e.group)),pn(e.points,function(t){if(!t.setVisible)return;i=t.graphic,u=t.shapeArgs,o=t.shadowGroup,s&&!o&&(o=t.shadowGroup=n.g("shadow").add(e.shadowGroup)),r=t.sliced?t.slicedTranslation:{translateX:0,translateY:0},o&&o.attr(r),i?i.animate(Tt(u,r)):t.graphic=i=n[t.shapeType](u).setRadialReference(e.center).attr(t.pointAttr[t.selected?it:nt]).attr({"stroke-linejoin":"round"}).attr(r).add(e.group).shadow(s,o),t.visible!==undefined&&t.setVisible(t.visible)})},sortByAngle:function(e,t){e.sort(function(e,n){return e.angle!==undefined&&(n.angle-e.angle)*t})},drawLegendSymbol:Qn.drawRectangle,getCenter:Yn.getCenter,getSymbol:I,trimDataLabels:function(e){var t=this,n=t.options.dataLabels;return n&&n.maxLabelLength?xt(e,n.maxLabelLength):e}};cr=Rt(er,cr),Et.pie=cr,er.prototype.trimDataLabels=function(e){var t=this;return e},er.prototype.drawDataLabels=function(){var t=this,n=t.options,r=n.cursor,i=n.dataLabels,s=t.points,o,u,a=t.hasRendered||0,f,l;if(i.enabled||t._hasPointLabels)t.dlProcessOptions&&t.dlProcessOptions(i),l=t.plotGroup("dataLabelsGroup","data-labels",i.defer?$:K,i.zIndex||6),Ft(i.defer,!0)&&(l.attr({opacity:+a}),a||gn(t,"afterAnimate",function(){t.visible&&l.show(),l[n.animation?"animate":"attr"]({opacity:1},{duration:200})})),u=i,pn(s,function(n){var s,a=n.dataLabel,c,h,p,d,v=n.connector,m=!0;o=n.options&&n.options.dataLabels,s=Ft(o&&o.enabled,u.enabled);if(a&&!s)n.dataLabel=a.destroy();else if(s){i=Nt(u,o),d=i.rotation;if(!n.getLabelConfig)return;c=n.getLabelConfig(),f=i.format?Qt(i.format,c):i.formatter.call(c,i),f=t.trimDataLabels(f),i.style.color=Ft(i.color,i.style.color,t.color,"black");if(a)Ht(f)?(a.attr({text:f}),m=!1):(n.dataLabel=a=a.destroy(),v&&(n.connector=v.destroy()));else if(Ht(f)){h={fill:i.backgroundColor,stroke:i.borderColor,"stroke-width":i.borderWidth,r:i.borderRadius||0,rotation:d,padding:i.padding,zIndex:1};for(p in h)h[p]===e&&delete h[p];a=n.dataLabel=t.chart.renderer[d?"text":"label"](f,0,-999,null,null,null,i.useHTML).attr(h).css(Tt(i.style,r&&{cursor:r})).add(l).shadow(i.shadow)}a&&t.alignDataLabel(n,a,i,null,m)}})},er.prototype.alignDataLabel=function(e,t,n,r,s){var o=this.chart,u=o.inverted,a=Ft(e.plotX,-999),f=Ft(e.plotY,-999),l=t.getBBox(),c=this.visible&&(e.series.forceDL||o.isInsidePlot(a,i(f),u)||r&&o.isInsidePlot(a,u?r.x+1:r.y+r.height-1,u)),h;c&&(r=Tt({x:u?o.plotWidth-f:a,y:i(u?o.plotHeight-a:f),width:0,height:0},r),Tt(n,{width:l.width,height:l.height}),n.rotation?t[s?"attr":"animate"]({x:r.x+n.x+r.width/2,y:r.y+n.y+r.height/2}).attr({align:n.align}):(t.align(n,null,r,e),h=t.alignAttr,Ft(n.overflow,"justify")==="justify"?this.justifyDataLabel(t,n,h,l,r,s):Ft(n.crop,!0)&&(c=o.isInsidePlot(h.x,h.y)&&o.isInsidePlot(h.x+l.width,h.y+l.height)))),c||(t.attr({y:-999}),t.placed=!1)},er.prototype.justifyDataLabel=function(e,t,n,r,i,s){var o=this.chart,u=t.align,a=t.verticalAlign,f,l;f=n.x,f<0&&(u==="right"?t.align="left":t.x=-f,l=!0),f=n.x+r.width,f>o.plotWidth&&(u==="left"?t.align="right":t.x=o.plotWidth-f,l=!0),f=n.y,f<0&&(a==="bottom"?t.verticalAlign="top":t.y=-f,l=!0),f=n.y+r.height,f>o.plotHeight&&(a==="top"?t.verticalAlign="bottom":t.y=o.plotHeight-f,l=!0),l&&(e.placed=!s,e.align(t,null,i))},Et.pie&&(Et.pie.prototype.drawDataLabels=function(){var e=this,t=e.data,n,r=e.chart,s=e.options.dataLabels,o=Ft(s.connectorPadding,10),u=Ft(s.connectorWidth,1),c=r.plotWidth,h=r.plotHeight,p,d,v=Ft(s.softConnector,!0),m=s.distance,g=e.center,y=g[2]/2,b=g[1],w=m>0,E,S,x,T,N=[[],[]],C,k,L,A,O,M,_=[0,0,0,0],D=function(e,t){return t.y-e.y};if(!e.visible||!s.enabled&&!e._hasPointLabels)return;er.prototype.drawDataLabels.apply(e),pn(t,function(e){e.dataLabel&&e.visible&&N[e.half].push(e)}),O=0;while(!T&&t[O])T=t[O]&&t[O].dataLabel&&(t[O].dataLabel.getBBox().height||21),O++;if(!T)return;O=2;while(O--){var P=[],H,B=[],j=N[O],F,I,q=j.length,R;if(!q)continue;e.sortByAngle(j,O-.5),M=T=0;while(!T&&j[M])T=j[M]&&j[M].dataLabel&&(j[M].dataLabel.getBBox().height||21),M++;if(m>0){I=f(b+y+m,r.plotHeight);for(F=a(0,b-y-m);F<=I;F+=T)P.push(F);H=P.length;if(q>H){A=[].concat(j),A.sort(D),M=q;while(M--)A[M].rank=M;M=q;while(M--)j[M].rank>=H&&j.splice(M,1);q=j.length}for(M=0;M<q;M++){n=j[M],x=n.labelPos;var U=9999,z,W;for(W=0;W<H;W++)z=l(P[W]-x[1]),z<U&&(U=z,R=W);if(R<M&&P[M]!==null)R=M;else if(H<q-M+R&&P[M]!==null){R=H-q+M;while(P[R]===null)R++}else while(P[R]===null)R++;B.push({i:R,y:P[R]}),P[R]=null}B.sort(D)}for(M=0;M<q;M++){var X,V;n=j[M],x=n.labelPos,E=n.dataLabel,L=n.visible===!1?$:K,V=x[1];if(m>0){X=B.pop(),R=X.i,k=X.y;if(V>k&&P[R+1]!==null||V<k&&P[R-1]!==null)k=f(a(0,V),r.plotHeight)}else k=V;C=s.justify?g[0]+(O?-1:1)*(y+m):e.getX(k===b-y-m||k===b+y+m?V:k,O),E._attr={visibility:L,align:x[6]},E._pos={x:C+s.x+({left:o,right:-o}[x[6]]||0),y:k+s.y-10},E.connX=C,E.connY=k,this.options.size===null&&(S=E.width,C-S<o?_[3]=a(i(S-C+o),_[3]):C+S>c-o&&(_[1]=a(i(C+S-c+o),_[1])),k-T/2<0?_[0]=a(i(-k+T/2),_[0]):k+T/2>h&&(_[2]=a(i(k+T/2-h),_[2])))}}if(nn(_)===0||this.verifyDataLabelOverflow(_))this.placeDataLabels(),w&&u&&pn(this.points,function(t){p=t.connector,x=t.labelPos,E=t.dataLabel,E&&E._pos?(L=E._attr.visibility,C=E.connX,k=E.connY,d=v?[Z,C+(x[6]==="left"?5:-5),k,"C",C,k,2*x[2]-x[4],2*x[3]-x[5],x[2],x[3],et,x[4],x[5]]:[Z,C+(x[6]==="left"?5:-5),k,et,x[2],x[3],et,x[4],x[5]],p?(p.animate({d:d}),p.attr("visibility",L)):t.connector=p=e.chart.renderer.path(d).attr({"stroke-width":u,stroke:s.connectorColor||t.color||"#606060",visibility:L}).add(e.dataLabelsGroup)):p&&(t.connector=p.destroy())})},Et.pie.prototype.placeDataLabels=function(){pn(this.points,function(e){var t=e.dataLabel,n;t&&(n=t._pos,n?(t.attr(t._attr),t[t.moved?"animate":"attr"](n),t.moved=!0):t&&t.attr({y:-999}))})},Et.pie.prototype.alignDataLabel=I,Et.pie.prototype.verifyDataLabelOverflow=function(e){var t=this.center,n=this.options,r=n.center,i=n.minSize||80,s=i,o;return r[0]!==null?s=a(t[2]-a(e[1],e[3]),i):(s=a(t[2]-e[1]-e[3],i),t[0]+=(e[3]-e[1])/2),r[1]!==null?s=a(f(s,t[2]-a(e[0],e[2])),i):(s=a(f(s,t[2]-e[0]-e[2]),i),t[1]+=(e[0]-e[2])/2),s<t[2]?(t[2]=s,this.translate(t),pn(this.points,function(e){e.dataLabel&&(e.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):o=!0,o}),Et.column&&(Et.column.prototype.alignDataLabel=function(e,t,n,r,i){var s=this.chart,o=s.inverted,u=e.dlBox||e.shapeArgs,a=e.below||e.plotY>Ft(this.translatedThreshold,s.plotSizeY),f=Ft(n.inside,!!this.options.stacking);u&&(r=Nt(u),o&&(r={x:s.plotWidth-r.y-r.height,y:s.plotHeight-
r.x-r.width,width:r.height,height:r.width}),f||(o?(r.x+=a?0:r.width,r.width=0):(r.y+=a?r.height:0,r.height=0))),n.align=Ft(n.align,!o||f?"center":a?"right":"left"),n.verticalAlign=Ft(n.verticalAlign,o||f?"middle":a?"top":"bottom"),er.prototype.alignDataLabel.call(this,e,t,n,r,i)});var hr=St.TrackerMixin={drawTrackerPoint:function(){var t=this,n=t.chart,r=n.pointer,i=t.options.cursor,s=i&&{cursor:i},o=function(r){var i=r.target,s;n.hoverSeries!==t&&t.onMouseOver();while(i&&!s)s=i.point,i=i.parentNode;s!==e&&s!==n.hoverPoint&&s.onMouseOver&&(s.series.chart||(s.series=t),s.onMouseOver(r))};pn(t.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.element.point=e)}),t._hasTracking||(pn(t.trackerGroups,function(e){t[e]&&r&&(t[e].addClass(J+"tracker").on("mouseover",o).on("mouseout",function(e){r.onTrackerMouseOut(e)}).css(s),L&&t[e].on("touchstart",o))}),t._hasTracking=!0)},drawTrackerGraph:function(){var e=this,t=e.options,n=t.trackByArea,r=[].concat(n?e.areaPath:e.graphPath),i=r.length,s=e.chart,o=s.pointer,u=s.renderer,a=s.options.tooltip.snap,f=e.tracker,l=t.cursor,c=l&&{cursor:l},h=e.singlePoints,p,d,v=function(){s.hoverSeries!==e&&e.onMouseOver()},m="rgba(192,192,192,"+(T?1e-4:.002)+")";if(i&&!n){d=i+1;while(d--)r[d]===Z&&r.splice(d+1,0,r[d+1]-a,r[d+2],et),(d&&r[d]===Z||d===i)&&r.splice(d,0,et,r[d-2]+a,r[d-1])}for(d=0;d<h.length;d++)p=h[d],r.push(Z,p.plotX-a,p.plotY,et,p.plotX+a,p.plotY);f?f.attr({d:r}):(e.tracker=u.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?K:$,stroke:m,fill:n?m:G,"stroke-width":t.lineWidth+(n?0:2*a),zIndex:2}).add(e.group),pn([e.tracker,e.markerGroup],function(e){e.addClass(J+"tracker").on("mouseover",v).on("mouseout",function(e){o.onTrackerMouseOut(e)}).css(c),L&&e.on("touchstart",v)}))}};Et.column&&(ur.prototype.drawTracker=hr.drawTrackerPoint),Et.pie&&(Et.pie.prototype.drawTracker=hr.drawTrackerPoint),Et.scatter&&(fr.prototype.drawTracker=hr.drawTrackerPoint),Tt(Kn.prototype,{setItemEvents:function(e,t,n,r,i){var s=this,o=r.fontWeight||"normal";if(e.id&&e.id=="selectAllItemsLegendItem"){(n?t:e.legendGroup).on("click",function(t){var n=!0,r=e.chart.series[0].options.legendType==="point"?e.chart.series[0].data:e.chart.series;pn(r,function(e){if(e.id&&e.id=="selectAllItemsLegendItem")return;n=n&&e.visible});if(!n){pn(r,function(e){if(e.id&&e.id=="selectAllItemsLegendItem")return;e.setVisible&&e.setVisible(!0,!1)}),e.chart.legend.colorizeItem(e,!1),e.chart.redraw();return}});return}(n?t:e.legendGroup).on("mouseover",function(){e.setState(rt),r.fontWeight=o,e.visible&&(e.setState(rt),t.css(s.options.itemHoverStyle))}).on("mouseout",function(){t.css(e.visible?r:i),r.fontWeight=o,e.setState(nt,!0)}).on("click",function(t){var n="legendItemClick",r=function(){e.setVisible();var t=!0,n=e.chart.series[0].options.legendType==="point"?e.chart.series[0].data:e.chart.series;pn(n,function(e){if(e.id&&e.id=="selectAllItemsLegendItem")return;t=t&&e.visible});var r;allLegend=e.chart.legend.allItems,pn(allLegend,function(e){e.id&&e.id=="selectAllItemsLegendItem"&&(r=e)}),t?e.chart.legend.colorizeItem(r,!1):e.chart.legend.colorizeItem(r,!0),e.chart.redraw()};t={browserEvent:t},e.firePointEvent?e.firePointEvent(n,t,r):bn(e,n,t,r)})},createCheckboxForItem:function(e){var t=this;e.checkbox=qt("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},t.options.itemCheckboxStyle,t.chart.container),gn(e.checkbox,"click",function(t){var n=t.target;bn(e,"checkboxClick",{checked:n.checked},function(){e.select()})})}}),_.legend.itemStyle.cursor="pointer",Tt(Gn.prototype,{showResetZoom:function(){var e=Y.one(this.container).one("#customButton_ResetZoom");e.setStyle("display",""),this.resetZoomButton=e},zoomOut:function(){var e=this;bn(e,"selection",{resetSelection:!0},function(){e.zoom()})},zoom:function(e){var t=this,n,r=t.pointer,i=!1,s;!e||e.resetSelection?pn(t.axes,function(e){n=e.zoom()}):pn(e.xAxis.concat(e.yAxis),function(e){var t=e.axis,s=t.isXAxis;if(r[s?"zoomX":"zoomY"]||r[s?"pinchX":"pinchY"])n=t.zoom(e.min,e.max),t.displayBtn&&(i=!0)}),s=t.resetZoomButton;if(i){var o=Y.one(this.container).one("#customButton_ResetZoom");o&&(o.setAttribute("collapsed-button","False"),LogiXML.features.touch&&o.setStyle("display",""))}else if(!i){var o=Y.one(this.container).one("#customButton_ResetZoom");o&&(o.setStyle("display","none"),o.setAttribute("collapsed-button","True"))}if(n){t.redraw(Ft(t.options.chart.animation,e&&e.animation,t.pointCount<100));var u=JSON.parse(getInputViewStateElement(t,"zoom").value);u&&t.xAxis&&t.yAxis&&(u.xZoom[0]=u.xZoom[0]?u.xZoom[0]:{},u.yZoom[0]=u.yZoom[0]?u.yZoom[0]:{},u.xZoom[0].min=t.xAxis[0].min,u.xZoom[0].max=t.xAxis[0].max,u.yZoom[0].min=t.yAxis[0].min,u.yZoom[0].max=t.yAxis[0].max,getInputViewStateElement(t,"zoom").value=JSON.stringify(u),mergeHandlers(t))}},pan:function(e,t){var n=this,r=n.hoverPoints,i;r&&pn(r,function(e){e.setState()}),pn(t==="xy"?[1,0]:[1],function(t){var r=e[t?"chartX":"chartY"],s=n[t?"xAxis":"yAxis"][0],o=n[t?"mouseDownX":"mouseDownY"],u=(s.pointRange||0)/2,l=s.getExtremes(),c=s.toValue(o-r,!0)+u,h=s.toValue(o+n[t?"plotWidth":"plotHeight"]-r,!0)-u;s.series.length&&c>f(l.dataMin,l.min)&&h<a(l.dataMax,l.max)&&(s.setExtremes(c,h,!1,!1,{trigger:"pan"}),i=!0),n[t?"mouseDownX":"mouseDownY"]=r}),i&&n.redraw(!1),It(n.container,{cursor:"move"})},attachScrolling:function(){gn(this,"afterSetChartSize",function(e){var t=this.options.chart.scrollablePlotArea,n=t&&t.minWidth,r=t&&t.minHeight,i,s,o;this.renderer.forExport||(n?(this.scrollablePixelsX=i=Math.max(0,n-this.chartWidth),i&&(this.options.chart.scrollablePlotArea.marginHeightSet||(this.spacing[2]+=17,this.options.chart.scrollablePlotArea.marginHeightSet=!0),this.plotWidth+=i,this.inverted?(this.clipBox.height+=i,this.plotBox.height+=i):(this.clipBox.width+=i,this.plotBox.width+=i),o={1:{name:"right",value:i}})):r&&(this.scrollablePixelsY=s=Math.max(0,r-this.chartHeight),s&&(this.options.chart.scrollablePlotArea.marginWidthSet||(this.options.chart.spacing[1]+=17,this.options.chart.scrollablePlotArea.marginWidthSet=!0),this.plotHeight+=s,this.inverted?(this.clipBox.width+=s,this.plotBox.width+=s):(this.clipBox.height+=s,this.plotBox.height+=s),o={2:{name:"bottom",value:s}})),o&&!e.skipAxes&&this.axes.forEach(function(e){o[e.side]?e.getPlotLinePath=function(){var t=o[e.side].name,n=o[e.side].value,r=this[t],i;return this[t]=r-n,i=St.Axis.prototype.getPlotLinePath.apply(this,arguments),this[t]=r,i}:(e.setAxisSize(),e.setAxisTranslation())}))}),gn(this,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()})},setUpScrolling:function(){var e=this,t={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(t.overflowX="auto"),this.scrollablePixelsY&&(t.overflowY="auto"),this.scrollingContainer=qt("div",{className:"highcharts-scrolling"},t,this.renderTo),gn(this.scrollingContainer,"scroll",function(){e.pointer&&delete e.pointer.chartPosition}),this.innerContainer=qt("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},moveFixedElements:function(){var e=this.container,t=this.fixedRenderer,n=[".highcharts-contextbutton",".highcharts-credits",".highcharts-legend",".highcharts-legend-checkbox",".highcharts-navigator-series",".highcharts-navigator-xaxis",".highcharts-navigator-yaxis",".highcharts-navigator",".highcharts-reset-zoom",".highcharts-scrollbar",".highcharts-subtitle",".highcharts-title",".highcharts-tooltip",".highcharts-button"],r;this.scrollablePixelsX&&!this.inverted?r=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted?r=".highcharts-xaxis":this.scrollablePixelsY&&!this.inverted?r=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(r=".highcharts-yaxis"),n.push(r,r+"-labels"),n.forEach(function(n){[].forEach.call(e.querySelectorAll(n),function(e){(e.namespaceURI===S?t.box:t.box.parentNode).appendChild(e),e.style.pointerEvents="auto"})})},applyFixed:function(){var e,t,n,r=!this.fixedDiv,i=this.options.chart.scrollablePlotArea;r?(this.fixedDiv=qt("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:2},null,!0),this.renderTo.insertBefore(this.fixedDiv,this.renderTo.firstChild),this.renderTo.style.overflow="visible",this.fixedRenderer=e=new St.Renderer(this.fixedDiv,this.chartWidth,this.chartHeight),this.scrollableMask=e.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":Ft(i.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),this.moveFixedElements(),gn(this,"afterShowResetZoom",this.moveFixedElements),gn(this,"afterLayOutTitles",this.moveFixedElements)):this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),t=this.chartWidth+(this.scrollablePixelsX||0),n=this.chartHeight+(this.scrollablePixelsY||0),Sn(this.renderer.boxWrapper),Sn(this.chartBackground),this.container.style.width=t+"px",this.container.style.height=n+"px",this.renderer.boxWrapper.attr({width:t,height:n,viewBox:[0,0,t,n].join(" ")}),this.chartBackground.attr({width:t,height:n}),this.scrollablePixelsY&&(this.scrollingContainer.style.height=this.chartHeight+"px"),r&&(i.scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixelsX*i.scrollPositionX),i.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*i.scrollPositionY));var s=this.axisOffset,o=this.plotTop-s[0]-1,u=this.plotLeft-s[3]-1,a=this.plotTop+this.plotHeight+s[2]+1,f=this.plotLeft+this.plotWidth+s[1]+1,l=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0),c=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0),h;this.scrollablePixelsX?h=["M",0,o,"L",this.plotLeft-1,o,"L",this.plotLeft-1,a,"L",0,a,"Z","M",l,o,"L",this.chartWidth,o,"L",this.chartWidth,a,"L",l,a,"Z"]:this.scrollablePixelsY?h=["M",u,0,"L",u,this.plotTop-1,"L",f,this.plotTop-1,"L",f,0,"Z","M",u,c,"L",u,this.chartHeight,"L",f,this.chartHeight,"L",f,c,"Z"]:h=["M",0,0],this.redrawTrigger!=="adjustHeight"&&this.scrollableMask.attr({d:h})}}),Tt(Zn.prototype,{select:function(e,t){var n=this,r=n.series,i=r.chart;e=Ft(e,!n.selected),n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=n.options.selected=e,r.options.data[hn(n,r.data)]=n.options,n.setState(e&&it),r.options.accumulate||pn(i.getSelectedPoints(),function(e){e.selected&&e!==n&&(e.selected=e.options.selected=!1,r.options.data[hn(e,r.data)]=e.options,e.setState(nt),e.firePointEvent("unselect"))})}),bn(this.series,"pointselection",this)},onMouseOver:function(e){var t=this,n=t.series,r=n.chart,i=r.tooltip,s=r.hoverPoint;s&&s!==t&&s.onMouseOut(),t.firePointEvent("mouseOver"),n.tooltipOptions.enabled!==!1&&i&&(!i.shared||n.noSharedTooltip)?i.refresh(t,e):n.tooltipOptions.enabled==0&&i.hide(0),t.setState(rt),r.hoverPoint=t},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;this.firePointEvent("mouseOut");if(!t||hn(this,t)===-1)this.setState(),e.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var e=this,t=Nt(e.series.options.point,e.options),n=t.events,r;e.events=n;for(r in n)gn(e,r,n[r]);this.hasImportedEvents=!0}},setState:function(e,t){var n=this,r=n.plotX,i=n.plotY,s=n.series,o=s.options.states,u=Tn[s.type].marker&&s.options.marker,a=u&&!u.enabled,f=u&&u.states[e],l=f&&f.enabled===!1,c=s.stateMarkerGraphic,h=n.marker||{},p=s.chart,d,v=s.halo,m,g,y;e=e||nt,y=n.pointAttr[e]||s.pointAttr[e];if(e===n.state&&!t||n.selected&&e!==it||o[e]&&o[e].enabled===!1||e&&(l||a&&f.enabled===!1)||e&&h.states&&h.states[e]&&h.states[e].enabled===!1)return;n.graphic?(d=u&&n.graphic.symbolName&&y.r,n.graphic.attr(Nt(y,d?{x:r-d,y:i-d,width:2*d,height:2*d}:{})),c&&c.hide()):(e&&f&&(d=f.radius,g=h.symbol||s.symbol,c&&c.currentSymbol!==g&&(c=c.destroy()),c?c[t?"animate":"attr"]({x:r-d,y:i-d}):g&&(s.stateMarkerGraphic=c=p.renderer.symbol(g,r-d,i-d,2*d,2*d).attr(y).add(s.markerGroup),c.currentSymbol=g)),c&&c[e&&p.isInsidePlot(r,i,p.inverted)?"show":"hide"]()),m=o[e]&&o[e].halo,m&&m.size&&n.haloPath?(v||(s.halo=v=p.renderer.path().add(s.seriesGroup)),v.attr(Tt({fill:_n(n.color||s.color).setOpacity(m.opacity).get()},m.attributes))[t?"animate":"attr"]({d:n.haloPath(m.size)})):v&&v.attr({d:[]}),n.state=e},haloPath:function(e){var t=this.series,n=t.chart,r=t.getPlotBox(),i=n.inverted;return n.renderer.symbols.circle(r.translateX+(i?t.yAxis?t.yAxis.len-this.plotY:this.plotY:this.plotX)-e,r.translateY+(i?t.xAxis?t.xAxis.len-this.plotX:this.plotX:this.plotY)-e,e*2,e*2)}}),Tt(er.prototype,{onMouseOver:function(){var e=this,t=e.chart,n=t.hoverSeries;n&&n!==e&&n.onMouseOut(),e.options.events.mouseOver&&bn(e,"mouseOver"),e.setState(rt),t.hoverSeries=e},onMouseOut:function(e){var t=this,n=t.options,r=t.chart,i=r.tooltip,s=r.hoverPoint;s&&s.onMouseOut(),t&&n.events.mouseOut&&bn(t,"mouseOut"),i&&!n.stickyTracking&&(!i.shared||t.noSharedTooltip)&&i.hide(null,e),t.setState(),r.hoverSeries=null},setState:function(e){var t=this,n=t.options,r=t.graph,i=t.graphNeg,s=n.states,o=n.lineWidth,u;e=e||nt;if(t.state!==e){t.state=e;if(s[e]&&s[e].enabled===!1)return;if(e){o=s[e].lineWidth||o+(s[e].lineWidthPlus||0);var a=arguments[1];if(a&&t.points)for(var f=0;f<t.points.length;f++)t.points[f].setState&&t.points[f].setState(e)}r&&!r.dashstyle&&(u={"stroke-width":o},r.attr(u),i&&i.attr(u))}},setVisible:function(t,n){var r=this,i=r.chart,s=r.legendItem,o,u=i.options.chart.ignoreHiddenSeries,a=r.visible;r.visible=t=r.userOptions.visible=t===e?!a:t,o=t?"show":"hide",pn(["group","dataLabelsGroup","markerGroup","tracker"],function(e){r[e]&&r[e][o]()}),i.hoverSeries===r&&r.onMouseOut(),s&&i.legend.colorizeItem(r,t),r.isDirty=!0,r.options.stacking&&pn(i.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),pn(r.linkedSeries,function(e){e.setVisible(t,!1)}),u&&(i.isDirtyBox=!0);var f=!1;pn(r.xAxis.series,function(e){f=f||e.visible}),r.xAxis.showAxis=f,r.xAxis.options.showEmpty=f&&r.xAxis.options.showEmpty;var l=!1;pn(r.yAxis.series,function(e){l=l||e.visible}),r.yAxis.showAxis=l,r.yAxis.options.showEmpty=l&&r.yAxis.options.showEmpty,n!==!1&&i.redraw(),bn(r,o)},setTooltipPoints:function(t){var n=this,r=[],i,o,u,l=n.xAxis,c=l&&l.getExtremes(),h=l?l.tooltipLen||l.len:n.chart.plotSizeX,p,d,v,m,g=[];if(n.options.enableMouseTracking===!1||n.singularTooltips)return;t&&(n.tooltipPoints=null),pn(n.segments||n.points,function(e){r=r.concat(e)}),l&&l.reversed&&(r=r.reverse()),n.orderTooltipPoints&&n.orderTooltipPoints(r),i=r.length;for(m=0;m<i;m++){p=r[m],d=p.x;if(d>=c.min&&d<=c.max){v=r[m+1],o=u===e?0:u+1,u=r[m+1]?f(a(0,s((p.clientX+(v?v.wrappedClientX||v.clientX:h))/2)),h):h;while(o>=0&&o<=u)g[o++]=p}}n.tooltipPoints=g},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){var n=this;n.selected=t=t===e?!n.selected:t,n.checkbox&&(n.checkbox.checked=t),bn(n,t?"select":"unselect")},drawTracker:hr.drawTrackerGraph}),Tt(St,{Axis:Rn,Chart:Gn,Color:_n,Point:Zn,Tick:qn,Renderer:k,Series:er,SVGElement:Dn,SVGRenderer:Pn,arrayMin:tn,arrayMax:nn,charts:q,dateFormat:D,format:Qt,pathAnim:B,getOptions:Ln,hasBidiBug:N,isTouchDevice:E,numberFormat:Ut,seriesTypes:Et,setOptions:kn,addEvent:gn,removeEvent:yn,createElement:qt,discardElement:sn,css:It,each:pn,extend:Tt,map:mn,merge:Nt,pick:Ft,splat:jt,extendClass:Rt,pInt:kt,wrap:Wt,svg:T,uniqueKey:Xt,find:Vt,canvas:C,vml:!T&&!C,product:U,version:z})})();

/* 
* rdChartCanvas/modules/funnel.src.js 
*/
/**
 * @license 
 * Highcharts funnel module
 *
 * (c) 2010-2014 Torstein Honsi
 *
 * License: www.highcharts.com/license
 *//*global Highcharts */(function(e){var t=e.getOptions(),n=t.plotOptions,r=e.seriesTypes,i=e.merge,s=function(){},o=e.each;n.funnel=i(n.pie,{animation:!1,center:["50%","50%"],width:"90%",neckWidth:"30%",height:"100%",neckHeight:"25%",reversed:!1,dataLabels:{connectorWidth:1,connectorColor:"#606060"},size:!0,states:{select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}}}),r.funnel=e.extendClass(r.pie,{type:"funnel",animate:s,singularTooltips:!0,translate:function(){var e=function(e,t){return/%$/.test(e)?t*parseInt(e,10)/100:parseInt(e,10)},t=0,n=this,r=n.chart,i=n.options,u=i.reversed,a=r.plotWidth,f=r.plotHeight,l=0,c=i.center,h=e(c[0],a),p=e(c[1],f),d=e(i.width,a),v,m,g=e(i.height,f),y=e(i.neckWidth,a),b=e(i.neckHeight,f),w=g-b,E=n.data,S,x,T=i.dataLabels.position==="left"?1:0,N,C,k,L,A,O,M;n.getWidthAt=m=function(e){return e>g-b||g===b?y:y+(d-y)*((g-b-e)/(g-b))},n.getX=function(e,t){return h+(t?-1:1)*(m(u?f-e:e)/2+i.dataLabels.distance)},n.center=[h,p,g],n.centerX=h,o(E,function(e){e.visible&&(t+=e.y)}),o(E,function(e){if(!e.visible)return;M=null,x=t?e.y/t:0,C=p-g/2+l*g,A=C+x*g,v=m(C),N=h-v/2,k=N+v,v=m(A),L=h-v/2,O=L+v,C>w?(N=L=h-y/2,k=O=h+y/2):A>w&&(M=A,v=m(w),L=h-v/2,O=L+v,A=w),u&&(C=g-C,A=g-A,M=M?g-M:null),S=["M",N,C,"L",k,C,O,A],M&&S.push(O,M,L,M),S.push(L,A,"Z"),e.shapeType="path",e.shapeArgs={d:S},e.percentage=x*100,e.plotX=h,e.plotY=(C+(M||A))/2,e.tooltipPos=[h,e.plotY],e.slice=s,e.half=T,l+=x})},drawPoints:function(){var e=this,t=e.options,n=e.chart,r=n.renderer;o(e.data,function(n){var i=n.graphic,s=n.shapeArgs;i?i.animate(s):n.graphic=r.path(s).attr({fill:n.selected?t.states.select.color:n.color,stroke:n.selected?t.states.select.borderColor:t.borderColor,"stroke-width":t.borderWidth}).add(e.group)})},sortByAngle:function(e){e.sort(function(e,t){return e.plotY-t.plotY})},drawDataLabels:function(){var e=this.data,t=this.options.dataLabels.distance,n,i,s,o=e.length,u,a;this.center[2]-=2*t;while(o--){s=e[o],n=s.half,i=n?1:-1,a=s.plotY,u=this.getX(a,n),s.labelPos=[0,a,u+(t-5)*i,a,u+t*i,a,n?"right":"left",0];if(s.dataLabel){if(s.dataLabel.element){var f=s.dataLabel.element;f.remove?f.remove():f.parentNode.removeChild(f)}s.dataLabel.destroy&&s.dataLabel.destroy(),s.dataLabel=null}}r.pie.prototype.drawDataLabels.call(this)}}),t.plotOptions.pyramid=e.merge(t.plotOptions.funnel,{neckWidth:"0%",neckHeight:"0%",reversed:!0}),e.seriesTypes.pyramid=e.extendClass(e.seriesTypes.funnel,{type:"pyramid"})})(Highcharts);

/* 
* rdChartCanvas/highcharts-more.js 
*/
// ==ClosureCompiler==
// @compilation_level SIMPLE_OPTIMIZATIONS
/**
 * @license Highcharts JS v4.0.4 (2014-09-02)
 *
 * (c) 2009-2014 Torstein Honsi
 *
 * License: www.highcharts.com/license
 */// JSLint options:
/*global Highcharts, HighchartsAdapter, document, window, navigator, setInterval, clearInterval, clearTimeout, setTimeout, location, jQuery, $, console */(function(e,t){function L(e,t,n){this.init.call(this,e,t,n)}var n=e.arrayMin,r=e.arrayMax,i=e.each,s=e.extend,o=e.merge,u=e.map,a=e.pick,f=e.pInt,l=e.getOptions().plotOptions,c=e.seriesTypes,h=e.extendClass,p=e.splat,d=e.wrap,v=e.Axis,m=e.Tick,g=e.Point,y=e.Pointer,b=e.CenteredSeriesMixin,w=e.TrackerMixin,E=e.Series,S=Math,x=S.round,T=S.floor,N=S.max,C=e.Color,k=function(){};s(L.prototype,{init:function(e,t,n){var r=this,s,u=r.defaultOptions;r.chart=t,t.angular&&(u.background={}),r.options=e=o(u,e),s=e.background,s&&i([].concat(p(s)).reverse(),function(e){var t=e.backgroundColor;e=o(r.defaultBackgroundOptions,e),t&&(e.backgroundColor=t),e.color=e.backgroundColor,n.options.plotBands.unshift(e)});if(e.scale){var a,f=e.scale.indexOf("%");f>-1?(a=parseInt(e.scale.substring(0,f)),a/=100):a=parseFloat(e.scale),r.options.scale=a}},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});var A=v.prototype,O=m.prototype,M={getOffset:k,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:k,setCategories:k,setTitle:k},_={isRadial:!0,defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(e){var t=this.options=o(this.defaultOptions,this.defaultRadialOptions,e);t.plotBands||(t.plotBands=[])},getOffset:function(){A.getOffset.call(this),this.chart.axisOffset[this.side]=0,this.center=this.pane.center=b.getCenter.call(this.pane),this.center[2]*=this.pane.options.scale?this.pane.options.scale:1},getLinePath:function(e,t){var n=this.center;return t=a(t,n[2]/2-this.offset),this.chart.renderer.symbols.arc(this.left+n[0],this.top+n[1],t,t,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})},setAxisTranslation:function(){A.setAxisTranslation.call(this),this.center&&(this.isCircular?this.transA=(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.transA=this.center[2]/2/(this.max-this.min||1),this.isXAxis?this.minPixelPadding=this.transA*this.minPointOffset:this.minPixelPadding=0)},beforeSetTickPositions:function(){this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)},setAxisSize:function(){A.setAxisSize.call(this),this.isRadial&&(this.center=this.pane.center=e.CenteredSeriesMixin.getCenter.call(this.pane),this.center[2]*=this.pane.options.scale?this.pane.options.scale:1,this.isCircular&&(this.sector=this.endAngleRad-this.startAngleRad),this.len=this.width=this.height=this.center[2]*a(this.sector,1)/2)},getPosition:function(e,t){return this.postTranslate(this.isCircular?this.translate(e):0,a(this.isCircular?t:this.translate(e),this.center[2]/2)-this.offset)},postTranslate:function(e,t){var n=this.chart,r=this.center;return e=this.startAngleRad+e,{x:n.plotLeft+r[0]+Math.cos(e)*t,y:n.plotTop+r[1]+Math.sin(e)*t}},getPlotBandPath:function(e,t,n){var r=this.center,i=this.startAngleRad,s=r[2]/2,o=[a(n.outerRadius,"100%"),n.innerRadius,a(n.thickness,10)],l=/%$/,c,h,p,d=this.isCircular,v;return this.options.gridLineInterpolation==="polygon"?v=this.getPlotLinePath(e).concat(this.getPlotLinePath(t,!0)):(d||(o[0]=this.translate(e),o[1]=this.translate(t)),o=u(o,function(e){return l.test(e)&&(e=f(e,10)*s/100),e}),n.shape==="circle"||!d?(c=-Math.PI/2,h=Math.PI*1.5,p=!0):(c=i+this.translate(e),h=i+this.translate(t)),v=this.chart.renderer.symbols.arc(this.left+r[0],this.top+r[1],o[0],o[0],{start:c,end:h,innerR:a(o[1],o[0]-o[2]),open:p})),v},getPlotLinePath:function(e,t){var n=this,r=n.center,s=n.chart,o=n.getPosition(e),u,a,f,l;return n.isCircular?l=["M",r[0]+s.plotLeft,r[1]+s.plotTop,"L",o.x,o.y]:n.options.gridLineInterpolation==="circle"?(e=n.translate(e),e&&(l=n.getLinePath(0,e))):(i(s.xAxis,function(e){e.pane===n.pane&&(u=e)}),l=[],e=n.translate(e),f=u.tickPositions,u.autoConnect&&(f=f.concat([f[0]])),t&&(f=[].concat(f).reverse()),i(f,function(t,n){a=u.getPosition(t,e),l.push(n?"L":"M",a.x,a.y)})),l},getTitlePosition:function(){var e=this.center,t=this.chart,n=this.options.title;return{x:t.plotLeft+e[0]+(n.x||0),y:t.plotTop+e[1]-{high:.5,middle:.25,low:0}[n.align]*e[2]+(n.y||0)}}};d(A,"init",function(e,n,r){var i=this,u=n.angular,f=n.polar,l=r.isX,c=u&&l,h,d,v,m,g=n.options,y=r.pane||0,b,w;u?(s(this,c?M:_),h=!l,h&&(this.defaultRadialOptions=this.defaultRadialGaugeOptions)):f&&(s(this,_),h=l,this.defaultRadialOptions=l?this.defaultRadialXOptions:o(this.defaultYAxisOptions,this.defaultRadialYOptions)),e.call(this,n,r),this.options.hasBinaryValues&&(i.hasBinaryValues=!0),!c&&(u||f)&&(m=this.options,n.panes||(n.panes=[]),this.pane=b=n.panes[y]=n.panes[y]||new L(p(g.pane)[y],n,i),w=b.options,n.inverted=!1,g.chart.zoomType=null,this.startAngleRad=d=(w.startAngle-90)*Math.PI/180,this.endAngleRad=v=(a(w.endAngle,w.startAngle+360)-90)*Math.PI/180,this.offset=m.offset||0,this.isCircular=h,h&&r.max===t&&v-d===2*Math.PI&&(this.autoConnect=!0))}),d(O,"getPosition",function(e,t,n,r,i){var s=this.axis;return s.getPosition?s.getPosition(n):e.call(this,t,n,r,i)}),d(O,"getLabelPosition",function(e,t,n,r,i,s,o,u,f){var l=this.axis,c=s.y,h,p=s.align,d=(l.translate(this.pos)+l.startAngleRad+Math.PI/2)/Math.PI*180%360;return l.isRadial?(h=l.getPosition(this.pos,l.center[2]/2+a(s.distance,-25)),s.rotation==="auto"?r.attr({rotation:d}):c===null&&(c=l.chart.renderer.fontMetrics(r.styles.fontSize).b-r.getBBox().height/2),p===null&&(l.isCircular?d>20&&d<160?p="left":d>200&&d<340?p="right":p="center":p="center",r.attr({align:p})),h.x+=s.x,h.y+=c):h=e.call(this,t,n,r,i,s,o,u,f),h}),d(O,"getMarkPath",function(e,t,n,r,i,s,o){var u=this.axis,a,f;return u.isRadial?(a=u.getPosition(this.pos,u.center[2]/2+r),f=["M",t,n,"L",a.x,a.y]):f=e.call(this,t,n,r,i,s,o),f}),l.arearange=o(l.area,{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},states:{hover:{halo:!1}}}),c.arearange=h(c.area,{type:"arearange",pointArrayMap:["low","high"],toYData:function(e){return[e.low,e.high]},pointValKey:"low",getSegments:function(){var e=this;i(e.points,function(t){!!e.options.connectNulls||t.low!==null&&t.high!==null?t.low===null&&t.high!==null&&(t.y=t.high):t.y=null}),E.prototype.getSegments.call(this)},translate:function(){var e=this,t=e.yAxis;c.area.prototype.translate.apply(e),i(e.points,function(e){var n=e.low,r=e.high,i=e.plotY;r===null&&n===null?e.y=null:n===null?(e.plotLow=e.plotY=null,e.plotHigh=t.translate(r,0,1,0,1)):r===null?(e.plotLow=i,e.plotHigh=null):(e.plotLow=i,e.plotHigh=t.translate(r,0,1,0,1))})},getSegmentPath:function(e){var t,n=[],r=e.length,i=E.prototype.getSegmentPath,s,o,u,a=this.options,f=a.step,l;t=HighchartsAdapter.grep(e,function(e){return e.plotLow!==null});while(r--)s=e[r],s.plotHigh!==null&&n.push({plotX:s.plotX,plotY:s.plotHigh});return u=i.call(this,t),f&&(f===!0&&(f="left"),a.step={left:"right",center:"center",right:"left"}[f]),l=i.call(this,n),a.step=f,o=[].concat(u,l),l[0]="L",this.areaPath=this.areaPath.concat(u,l),o},drawDataLabels:function(){var e=this.data,t=e.length,n,r=[],i=E.prototype,s=this.options.dataLabels,o=s.align,u,a=this.chart.inverted;if(s.enabled||this._hasPointLabels){n=t;while(n--)u=e[n],u.y=u.high,u._plotY=u.plotY,u.plotY=u.plotHigh,r[n]=u.dataLabel,u.dataLabel=u.dataLabelUpper,u.below=!1,a?(o||(s.align="left"),s.y=s.xHigh,s.x=s.yHigh):(s.x=s.xHigh,s.y=s.yHigh);i.drawDataLabels&&i.drawDataLabels.apply(this,arguments),n=t;while(n--)u=e[n],u.dataLabelUpper=u.dataLabel,u.dataLabel=r[n],u.y=u.low,u.plotY=u._plotY,u.below=!0,a?(o||(s.align="right"),s.y=s.xLow,s.x=s.yLow):(s.x=s.xLow,s.y=s.yLow);i.drawDataLabels&&i.drawDataLabels.apply(this,arguments)}s.align=o},alignDataLabel:function(){c.column.prototype.alignDataLabel.apply(this,arguments)},getSymbol:k,drawPoints:k}),l.areasplinerange=o(l.arearange),c.areasplinerange=h(c.arearange,{type:"areasplinerange",getPointSpline:c.spline.prototype.getPointSpline}),function(){var e=c.column.prototype;l.columnrange=o(l.column,l.arearange,{lineWidth:1,pointRange:null}),c.columnrange=h(c.arearange,{type:"columnrange",translate:function(){var t=this,n=t.yAxis,r;e.translate.apply(t),i(t.points,function(e){var i=e.shapeArgs,s=t.options.minPointLength,o,u,a;e.tooltipPos=null,e.plotHigh=r=n.translate(e.high,0,1,0,1),e.plotLow=e.plotY,a=r,u=e.plotY-r,u<s&&(o=s-u,u+=o,a-=o/2),i.height=u,i.y=a})},trackerGroups:["group","dataLabelsGroup"],drawGraph:k,pointAttrToOptions:e.pointAttrToOptions,drawPoints:e.drawPoints,drawTracker:e.drawTracker,animate:e.animate,getColumnMetrics:e.getColumnMetrics})}(),l.gauge=o(l.line,{dataLabels:{enabled:!0,defer:!1,y:15,borderWidth:1,borderColor:"silver",borderRadius:3,crop:!1,style:{fontWeight:"bold"},verticalAlign:"top",zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1});var D=h(g,{setState:function(e){this.state=e}}),P={type:"gauge",pointClass:D,angular:!0,drawGraph:k,fixedBox:!0,forceDL:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var e=this,t=e.yAxis,n=e.options,r=t.center;e.generatePoints(),i(e.points,function(e){var i=o(n.dial,e.dial),s=f(a(i.radius,80))*r[2]/200,u=f(a(i.baseLength,70))*s/100,l=f(a(i.rearLength,10))*s/100,c=i.baseWidth||3,h=i.topWidth||1,p=n.overshoot,d=t.startAngleRad+t.translate(e.y,null,null,null,!0);p&&typeof p=="number"?(p=p/180*Math.PI,d=Math.max(t.startAngleRad-p,Math.min(t.endAngleRad+p,d))):n.wrap===!1&&(d=Math.max(t.startAngleRad,Math.min(t.endAngleRad,d))),d=d*180/Math.PI,e.shapeType="path",e.shapeArgs={d:i.path||["M",-l,-c/2,"L",u,-c/2,s,-h/2,s,h/2,u,c/2,-l,c/2,"z"],translateX:r[0],translateY:r[1],rotation:d},e.plotX=r[0],e.plotY=r[1]})},drawPoints:function(){var e=this,t=e.yAxis.center,n=e.pivot,r=e.options,s=r.pivot,u=e.chart.renderer;i(e.points,function(t){var n=t.graphic,i=t.shapeArgs,s=i.d,a=o(r.dial,t.dial);n?(n.animate(i),i.d=s):t.graphic=u[t.shapeType](i).attr({stroke:a.borderColor||"none","stroke-width":a.borderWidth||0,fill:a.backgroundColor||"black",rotation:i.rotation}).add(e.group)}),n?n.animate({translateX:t[0],translateY:t[1]}):e.pivot=u.circle(0,0,a(s.radius,5)).attr({"stroke-width":s.borderWidth||0,stroke:s.borderColor||"silver",fill:s.backgroundColor||"black"}).translate(t[0],t[1]).add(e.group)},animate:function(e){var t=this;e||(i(t.points,function(e){var n=e.graphic;n&&(t.yAxis.reversed&&t.chart.options.pane&&(t.yAxis.startAngleRad=Math.PI/180*(t.chart.options.pane.endAngle-90)),n.attr({rotation:t.yAxis.startAngleRad*180/Math.PI}),n.animate({rotation:e.shapeArgs.rotation},t.options.animation))}),t.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup),E.prototype.render.call(this),this.group.clip(this.chart.clipRect)},setData:function(e,t){E.prototype.setData.call(this,e,!1),this.processData(),this.generatePoints(),a(t,!0)&&this.chart.redraw()},drawTracker:w&&w.drawTrackerPoint};c.gauge=h(c.line,P),l.boxplot=o(l.column,{fillColor:"#FFFFFF",lineWidth:1,medianWidth:2,states:{hover:{brightness:-0.3}},threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> <b> {series.name}</b><br/>Maximum: {point.high}<br/>Upper quartile: {point.q3}<br/>Median: {point.median}<br/>Lower quartile: {point.q1}<br/>Minimum: {point.low}<br/>'},whiskerLength:"50%",whiskerWidth:2}),c.boxplot=h(c.column,{type:"boxplot",pointArrayMap:["low","q1","median","q3","high"],toYData:function(e){return[e.low,e.q1,e.median,e.q3,e.high]},pointValKey:"high",pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth"},drawDataLabels:k,translate:function(){var e=this,t=e.yAxis,n=e.pointArrayMap;c.column.prototype.translate.apply(e),i(e.points,function(e){i(n,function(n){e[n]!==null&&(e[n+"Plot"]=t.translate(e[n],0,1,0,1))})})},drawPoints:function(){var e=this,n=e.points,r=e.options,s=e.chart,o=s.renderer,u,f,l,c,h,p,d,v,m,g,y,b,w,E,S,N,C,k,L,A,O,M,_=e.doQuartiles!==!1,D=parseInt(e.options.whiskerLength,10)/100;i(n,function(n){m=n.graphic,O=n.shapeArgs,y={},E={},N={},M=n.color||e.color,n.plotY!==t&&(u=n.pointAttr[n.selected?"selected":""],C=O.width,k=T(O.x),L=k+C,A=x(C/2),f=T(_?n.q1Plot:n.lowPlot),l=T(_?n.q3Plot:n.lowPlot),c=T(n.highPlot),h=T(n.lowPlot),y.stroke=n.stemColor||r.stemColor||M,y["stroke-width"]=a(n.stemWidth,r.stemWidth,r.lineWidth),y.dashstyle=n.stemDashStyle||r.stemDashStyle,E.stroke=n.whiskerColor||r.whiskerColor||M,E["stroke-width"]=a(n.whiskerWidth,r.whiskerWidth,r.lineWidth),N.stroke=n.medianColor||r.medianColor||M,N["stroke-width"]=a(n.medianWidth,r.medianWidth,r.lineWidth),N["stroke-linecap"]="round",d=y["stroke-width"]%2/2,v=k+A+d,g=["M",v,l,"L",v,c,"M",v,f,"L",v,h],_&&(d=u["stroke-width"]%2/2,v=T(v)+d,f=T(f)+d,l=T(l)+d,k+=d,L+=d,b=["M",k,l,"L",k,f,"L",L,f,"L",L,l,"L",k,l,"z"]),D&&(d=E["stroke-width"]%2/2,c+=d,h+=d,w=["M",v-A*D,c,"L",v+A*D,c,"M",v-A*D,h,"L",v+A*D,h]),d=N["stroke-width"]%2/2,p=x(n.medianPlot)+d,S=["M",k,p,"L",L,p],m?(n.stem.animate({d:g}),D&&n.whiskers.animate({d:w}),_&&n.box.animate({d:b}),n.medianShape.animate({d:S})):(n.graphic=m=o.g().add(e.group),n.stem=o.path(g).attr(y).add(m),D&&(n.whiskers=o.path(w).attr(E).add(m)),_&&(n.box=o.path(b).attr(u).add(m)),n.medianShape=o.path(S).attr(N).add(m)))})}}),l.errorbar=o(l.boxplot,{color:"#000000",grouping:!1,linkedTo:":previous",tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},whiskerWidth:null}),c.errorbar=h(c.boxplot,{type:"errorbar",pointArrayMap:["low","high"],toYData:function(e){return[e.low,e.high]},pointValKey:"high",doQuartiles:!1,drawDataLabels:c.arearange?c.arearange.prototype.drawDataLabels:k,getColumnMetrics:function(){return this.linkedParent&&this.linkedParent.columnMetrics||c.column.prototype.getColumnMetrics.call(this)}}),l.waterfall=o(l.column,{lineWidth:1,lineColor:"#333",dashStyle:"dot",borderColor:"#333",states:{hover:{lineWidthPlus:0}}}),c.waterfall=h(c.column,{type:"waterfall",upColorProp:"fill",pointArrayMap:["low","y"],pointValKey:"y",init:function(e,t){t.stacking=!0,c.column.prototype.init.call(this,e,t)},translate:function(){var e=this,t=e.options,n=e.yAxis,r,i,s,o,u,a,f,l,h,p,d=t.threshold,v;c.column.prototype.translate.apply(this),l=h=d,s=e.points;for(i=0,r=s.length;i<r;i++)o=s[i],u=o.shapeArgs,a=e.getStack(i),p=a.points[e.index+","+i],isNaN(o.y)&&(o.y=e.yData[i]),f=N(l,l+o.y)+p[0],u.y=n.translate(f,0,1),o.isSum?(u.y=n.translate(p[1],0,1),u.height=n.translate(p[0],0,1)-u.y):o.isIntermediateSum?(u.y=n.translate(p[1],0,1),u.height=n.translate(h,0,1)-u.y,h=p[1]):l+=a.total,u.height<0&&(u.y+=u.height,u.height*=-1),o.plotY=u.y=x(u.y)-e.borderWidth%2/2,u.height=N(x(u.height),.001),o.yBottom=u.y+u.height,v=o.plotY+(o.negative?u.height:0),e.chart.inverted?o.tooltipPos[0]=n.len-v:o.tooltipPos[1]=v},processData:function(e){var t=this,n=t.options,r=t.yData,i=t.points,s,o=r.length,u=n.threshold||0,a,f,l,c,h,p;f=a=l=c=u;for(p=0;p<o;p++)h=r[p],s=i&&i[p]?i[p]:{},h==="sum"||s.isSum?r[p]=f:h==="intermediateSum"||s.isIntermediateSum?r[p]=a:(f+=h,a+=h),l=Math.min(f,l),c=Math.max(f,c);E.prototype.processData.call(this,e),t.dataMin=l,t.dataMax=c},toYData:function(e){return e.isSum?e.x===0?null:"sum":e.isIntermediateSum?e.x===0?null:"intermediateSum":e.y},getAttribs:function(){c.column.prototype.getAttribs.apply(this,arguments);var t=this,n=t.options,r=n.states,s=n.upColor||t.color,u=e.Color(s).brighten(.1).get(),a=o(t.pointAttr),f=t.upColorProp;a[""][f]=s,a.hover[f]=r.hover.upColor||u,a.select[f]=r.select.upColor||s,i(t.points,function(e){e.y>0&&!e.color&&(e.pointAttr=a,e.color=s)})},getGraphPath:function(){var e=this.data,t=e.length,n=this.options.lineWidth+this.borderWidth,r=x(n)%2/2,i=[],s="M",o="L",u,a,f,l;for(f=1;f<t;f++)a=e[f].shapeArgs,u=e[f-1].shapeArgs,l=[s,u.x+u.width,u.y+r,o,a.x,u.y+r],e[f-1].y<0&&(l[2]+=u.height,l[5]+=u.height),i=i.concat(l);return i},getExtremes:k,getStack:function(e){var t=this.yAxis,n=t.stacks,r=this.stackKey;return this.processedYData[e]<this.options.threshold&&(r="-"+r),n[r][e]},drawGraph:E.prototype.drawGraph}),l.bubble=o(l.scatter,{dataLabels:{formatter:function(){return this.point.z},inside:!0,style:{color:"white"},verticalAlign:"middle"},marker:{lineColor:null,lineWidth:1},minSize:8,maxSize:"20%",states:{hover:{halo:{size:5}}},tooltip:{pointFormat:"({point.x}, {point.y}), Size: {point.z}"},turboThreshold:0,zThreshold:0});var H=h(g,{haloPath:function(){return g.prototype.haloPath.call(this,this.shapeArgs.r+this.series.options.states.hover.halo.size)}});c.bubble=h(c.scatter,{type:"bubble",pointClass:H,pointArrayMap:["y","z"],parallelArrays:["x","y","z"],trackerGroups:["group","dataLabelsGroup"],bubblePadding:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor"},applyOpacity:function(e){var t=this.options.marker,n=a(t.fillOpacity,.5);return e=e||t.fillColor||this.color,n!==1&&(e=C(e).setOpacity(n).get("rgba")),e},convertAttribs:function(){var e=E.prototype.convertAttribs.apply(this,arguments);return e.fill=this.applyOpacity(e.fill),e},getRadii:function(e,t,n,r){if(r<n)if(r>0){var i=r;r=n,n=i}else n==0&&r==0?(n=8,r=S.min(chart.plotWidth,chart.plotHeight)*.2):r=n;var s,o,u=this.zData,a=[],f=S.ceil(n+S.sqrt(.5)*(r-n))/2,l=r/2/Math.sqrt(t);if(!l||!isFinite(l))for(var c=0;c<u.length;c++)a.push(f);else for(o=0,s=u.length;o<s;o++){var h=S.ceil(Math.sqrt(u[o])*l);h*2<n&&(h=S.ceil(n/2)),h?a.push(h):a.push(f)}this.radii=a},animate:function(e){var t=this.options.animation;e||(i(this.points,function(e){var n=e.graphic,r=e.shapeArgs;n&&r&&(n.attr("r",1),n.animate({r:r.r},t))}),this.animate=null)},translate:function(){var e,n=this.data,r,i,s=this.radii;c.scatter.prototype.translate.call(this),e=n.length;while(e--)r=n[e],i=s?s[e]:0,r.negative=r.z<(this.options.zThreshold||0),i>=this.minPxSize/2?(r.shapeType="circle",r.shapeArgs={x:r.plotX,y:r.plotY,r:i},r.dlBox={x:r.plotX-i,y:r.plotY-i,width:2*i,height:2*i}):r.shapeArgs=r.plotY=r.dlBox=t},drawLegendSymbol:function(e,t){var n=f(e.itemStyle.fontSize)/2;t.legendSymbol=this.chart.renderer.circle(n,e.baseline-n,n).attr({zIndex:3}).add(t.legendGroup),t.legendSymbol.isMarker=!0},drawPoints:c.column.prototype.drawPoints,alignDataLabel:c.column.prototype.alignDataLabel}),v.prototype.beforePadding=function(){var e=this,s=this.len,o=this.chart,u=0,l=s,c=this.isXAxis,h=c?"xData":"yData",p=this.min,d={},v=S.min(o.plotWidth,o.plotHeight),m=Number.MAX_VALUE,g=-Number.MAX_VALUE,y=this.max-p,b=s/y,w=[];this.tickPositions&&(i(this.series,function(t){var s=t.options,u;t.bubblePadding&&(t.visible||!o.options.chart.ignoreHiddenSeries)&&(e.allowZoomOutside=!0,w.push(t),c&&(i(["minSize","maxSize"],function(e){var t=s[e],n=/%$/.test(t);t=f(t),d[e]=n?v*t/100:t}),t.minPxSize=d.minSize,u=t.zData,u.length&&(m=a(s.zMin,S.min(m,S.max(n(u),s.displayNegative===!1?s.zThreshold:-Number.MAX_VALUE))),g=a(s.zMax,S.max(g,r(u))))))}),i(w,function(e){var t=e[h],n=t.length,r;c&&e.getRadii(m,g,d.minSize,d.maxSize);if(y>0)while(n--)typeof t[n]=="number"&&(r=e.radii[n],u=Math.min((t[n]-p)*b-r,u),l=Math.max((t[n]-p)*b+r,l))}),w.length&&y>0&&a(this.options.min,this.userMin)===t&&a(this.options.max,this.userMax)===t&&(l-=s,b*=(s+u-l)/s,this.min+=u/b,this.max+=l/b))},function(){function r(e,t,n){e.call(this,t,n),this.chart.polar&&(this.closeSegment=function(e){var t=this.xAxis.center;e.push("L",t[0],t[1])},this.closedStacks=!0)}function o(e,t){var n=this.chart,r=this.options.animation,i=this.group,s=this.markerGroup,o=this.xAxis.center,u=n.plotLeft,a=n.plotTop,f;n.polar?n.renderer.isSVG&&(r===!0&&(r={}),t?(f={translateX:o[0]+u,translateY:o[1]+a,scaleX:.001,scaleY:.001},i.attr(f),s&&s.attr(f)):(f={translateX:u,translateY:a,scaleX:1,scaleY:1},i.animate(f,r),s&&s.animate(f,r),this.animate=null)):e.call(this,t)}var e=E.prototype,t=y.prototype,n;e.toXY=function(e){var t,n=this.chart,r=e.plotX,i=e.plotY,s;e.rectPlotX=r,e.rectPlotY=i,s=(r/Math.PI*180+this.xAxis.pane.options.startAngle)%360,s<0&&(s+=360),e.clientX=s,t=this.xAxis.postTranslate(e.plotX,this.yAxis.len-i),e.plotX=e.polarPlotX=t.x-n.plotLeft,e.plotY=e.polarPlotY=t.y-n.plotTop},e.orderTooltipPoints=function(e){e.sort(function(e,t){return e.clientX-t.clientX}),e[0]&&this.chart.polar&&(e[0].wrappedClientX=e[0].clientX+360,e.push(e[0]))},c.area&&d(c.area.prototype,"init",r),c.areaspline&&d(c.areaspline.prototype,"init",r),c.spline&&d(c.spline.prototype,"getPointSpline",function(e,t,n,r){var i,s=1.5,o=s+1,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x;return this.chart.polar?(u=n.plotX,a=n.plotY,f=t[r-1],l=t[r+1],this.connectEnds&&(f||(f=t[t.length-2]),l||(l=t[1])),f&&l&&(c=f.plotX,h=f.plotY,p=l.plotX,d=l.plotY,v=(s*u+c)/o,m=(s*a+h)/o,g=(s*u+p)/o,y=(s*a+d)/o,b=Math.sqrt(Math.pow(v-u,2)+Math.pow(m-a,2)),w=Math.sqrt(Math.pow(g-u,2)+Math.pow(y-a,2)),E=Math.atan2(m-a,v-u),S=Math.atan2(y-a,g-u),x=Math.PI/2+(E+S)/2,Math.abs(E-x)>Math.PI/2&&(x-=Math.PI),v=u+Math.cos(x)*b,m=a+Math.sin(x)*b,g=u+Math.cos(Math.PI+x)*w,y=a+Math.sin(Math.PI+x)*w,n.rightContX=g,n.rightContY=y),r?(i=["C",f.rightContX||f.plotX,f.rightContY||f.plotY,v||u,m||a,u,a],f.rightContX=f.rightContY=null):i=["M",u,a]):i=e.call(this,t,n,r),i}),d(e,"translate",function(e){e.call(this);if(this.chart.polar&&!this.preventPostTranslate){var t=this.points,n=t.length;while(n--)this.toXY(t[n])}}),d(e,"getSegmentPath",function(e,t){var n=this.points;return this.chart.polar&&this.options.connectEnds!==!1&&t[t.length-1]===n[n.length-1]&&n[0].y!==null&&(this.connectEnds=!0,t=[].concat(t,[n[0]])),e.call(this,t)}),d(e,"getSegmentPathAreaSpline",function(e,t){var n=this.points;return this.chart.polar&&this.options.connectEnds!==!1&&t[t.length-1]===n[n.length-1]&&n[0].y!==null&&(this.connectEnds=!0,t=[].concat(t,[n[0]])),e.call(this,t)}),d(e,"animate",o),d(e,"setTooltipPoints",function(e,t){return this.chart.polar&&s(this.xAxis,{tooltipLen:360}),e.call(this,t)}),c.column&&(n=c.column.prototype,d(n,"animate",o),d(n,"translate",function(e){var t=this.xAxis,n=this.yAxis.len,r=t.center,i=t.startAngleRad,s=this.chart.renderer,o,u,f,l;this.preventPostTranslate=!0,e.call(this);if(t.isRadial){u=this.points,l=u.length;while(l--)f=u[l],o=f.barX+i,f.shapeType="path",f.shapeArgs={d:s.symbols.arc(r[0],r[1],n-f.plotY,null,{start:o,end:o+f.pointWidth,innerR:n-a(f.yBottom,n)})},this.toXY(f),f.tooltipPos=[f.plotX,f.plotY],f.ttBelow=f.plotY>r[1]}}),d(n,"alignDataLabel",function(t,n,r,i,s,o){if(this.chart.polar){var u=n.rectPlotX/Math.PI*180,a,f;i.align===null&&(u>20&&u<160?a="left":u>200&&u<340?a="right":a="center",i.align=a),i.verticalAlign===null&&(u<45||u>315?f="bottom":u>135&&u<225?f="top":f="middle",i.verticalAlign=f),e.alignDataLabel.call(this,n,r,i,s,o)}else t.call(this,n,r,i,s,o)})),d(t,"getIndex",function(e,t){var n,r=this.chart,i,s,o;return r.polar?(i=r.xAxis[0].center,s=t.chartX-i[0]-r.plotLeft,o=t.chartY-i[1]-r.plotTop,n=180-Math.round(Math.atan2(s,o)/Math.PI*180)):n=e.call(this,t),n}),d(t,"getCoordinates",function(e,t){var n=this.chart,r={xAxis:[],yAxis:[]};return n.polar?i(n.axes,function(e){var i=e.isXAxis,s=e.center,o=t.chartX-s[0]-n.plotLeft,u=t.chartY-s[1]-n.plotTop;r[i?"xAxis":"yAxis"].push({axis:e,value:e.translate(i?Math.PI-Math.atan2(o,u):Math.sqrt(Math.pow(o,2)+Math.pow(u,2)),!0)})}):r=e.call(this,t),r})}()})(Highcharts);

/* 
* rdChartCanvas/modules/exporting.src.js 
*/
/**
 * @license Highcharts JS v3.0.8 (2014-01-09)
 * Exporting module
 *
 * (c) 2010-2014 Torstein Honsi
 *
 * License: www.highcharts.com/license
 */// JSLint options:
/*global Highcharts, document, window, Math, setTimeout */(function(Highcharts){var Chart=Highcharts.Chart,addEvent=Highcharts.addEvent,removeEvent=Highcharts.removeEvent,createElement=Highcharts.createElement,discardElement=Highcharts.discardElement,css=Highcharts.css,merge=Highcharts.merge,each=Highcharts.each,extend=Highcharts.extend,math=Math,mathMax=math.max,doc=document,win=window,isTouchDevice=Highcharts.isTouchDevice,M="M",L="L",DIV="div",HIDDEN="hidden",NONE="none",PREFIX="highcharts-",ABSOLUTE="absolute",PX="px",UNDEFINED,symbols=Highcharts.Renderer.prototype.symbols,defaultOptions=Highcharts.getOptions(),buttonOffset;extend(defaultOptions.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"}),defaultOptions.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF",padding:"5px 0"},menuItemStyle:{padding:"0 10px",background:NONE,color:"#303030",fontSize:isTouchDevice?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{symbolFill:"#E0E0E0",symbolSize:14,symbolStroke:"#666",symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,theme:{zIndex:20,states:{hover:{style:{cursor:"pointer"}}}},verticalAlign:"top",width:24}},defaultOptions.exporting={type:"image/png",url:"http://export.highcharts.com/",buttons:{contextButton:{enabled:!1,menuClassName:PREFIX+"contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}},Highcharts.post=function(e,t,n){var r,i;i=createElement("form",merge({method:"post",action:e,enctype:"multipart/form-data"},n),{display:NONE},doc.body);for(r in t)createElement("input",{type:HIDDEN,name:r,value:t[r]},null,i);i.submit(),discardElement(i)},extend(Chart.prototype,{getSVG:function(e){var t=this,n,r,i,s,o,u,a,f,l=merge(t.options,e);return doc.createElementNS||(doc.createElementNS=function(e,t){return doc.createElement(t)}),r=createElement("div",null,{position:"absolute",top:"-9999em",width:t.chartWidth+"px",height:t.chartHeight+"px"},doc.body),a=t.renderTo.style.width,f=t.renderTo.style.height,o=l.exporting.sourceWidth||l.chart.width||/px$/.test(a)&&parseInt(a,10)||600,u=l.exporting.sourceHeight||l.chart.height||/px$/.test(f)&&parseInt(f,10)||400,extend(l.chart,{animation:!1,renderTo:r,forExport:!0,renderer:"SVGRenderer",width:o,height:u}),l.exporting.enabled=!1,delete l.data,l.series=[],each(t.series,function(e){s=merge(e.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:e.visible}),s.isInternal||l.series.push(s)}),each(t.axes,function(e){e.userOptions.internalKey=Highcharts.uniqueKey()}),l.isExportRender=!0,n=new Highcharts.Chart(l,t.callback),e&&each(["xAxis","yAxis","series"],function(t){var r={};e[t]&&(r[t]=e[t],n.update(r))}),each(t.axes,function(e){var t=Highcharts.find(n.axes,function(t){return t.options.internalKey===e.userOptions.internalKey}),r=e.getExtremes(),i=r.userMin,s=r.userMax;t&&(i!==undefined||s!==undefined)&&t.setExtremes(i,s,!0,!1)}),i=n.getChartHTML(),i=t.sanitizeSVG(i,l),l=null,n.destroy(),discardElement(r),i},sanitizeSVG:function(e,t){if(t&&t.exporting&&t.exporting.allowHTML){var n=e.match(/<\/svg>(.*?$)/);n&&(n='<foreignObject x="0" y="0" width="'+t.chart.width+'" '+'height="'+t.chart.height+'">'+'<body xmlns="http://www.w3.org/1999/xhtml">'+n[1]+"</body>"+"</foreignObject>",e=e.replace("</svg>",n+"</svg>"))}return e=e.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(\S+)("|&quot;)\)/g,"url($2)").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (NS[0-9]+\:)?href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/&nbsp;/g," ").replace(/&shy;/g,"­"),e=e.replace(/<IMG /g,"<image ").replace(/<(\/?)TITLE>/g,"<$1title>").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/ id=([^" >]+)/g,' id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(e){return e.toLowerCase()}),e},getChartHTML:function(){return this.container.innerHTML},exportChart:function(e,t){e=e||{};var n=this,r=n.options.exporting,i=n.getSVG(merge({chart:{borderRadius:0}},r.chartOptions,t,{exporting:{sourceWidth:e.sourceWidth||r.sourceWidth,sourceHeight:e.sourceHeight||r.sourceHeight}}));e=merge(n.options.exporting,e),Highcharts.post(e.url,{filename:e.filename||"chart",type:e.type,width:e.width||0,scale:e.scale||2,svg:i},e.formAttributes)},print:function(){var e=this,t=e.container,n=[],r=t.parentNode,i=doc.body,s=i.childNodes;if(e.isPrinting)return;e.isPrinting=!0,each(s,function(e,t){e.nodeType===1&&(n[t]=e.style.display,e.style.display=NONE)}),i.appendChild(t),win.focus(),win.print(),setTimeout(function(){r.appendChild(t),each(s,function(e,t){e.nodeType===1&&(e.style.display=n[t])}),e.isPrinting=!1},1e3)},contextMenu:function(e,t,n,r,i,s,o){var u=this,a=u.options.navigation,f=a.menuItemStyle,l=u.chartWidth,c=u.chartHeight,h="cache-"+e,p=u[h],d=mathMax(i,s),v="3px 3px 10px #888",m,g,y,b,w=function(t){u.pointer.inClass(t.target,e)||g()};p||(u[h]=p=createElement(DIV,{className:e},{position:ABSOLUTE,zIndex:1e3,padding:d+PX},u.container),m=createElement(DIV,null,extend({MozBoxShadow:v,WebkitBoxShadow:v,boxShadow:v},a.menuStyle),p),g=function(){css(p,{display:NONE}),o&&o.setState(0),u.openMenu=!1},addEvent(p,"mouseleave",function(){y=setTimeout(g,500)}),addEvent(p,"mouseenter",function(){clearTimeout(y)}),addEvent(document,"mouseup",w),addEvent(u,"destroy",function(){removeEvent(document,"mouseup",w)}),each(t,function(e){if(e){var t=e.separator?createElement("hr",null,null,m):createElement(DIV,{onmouseover:function(){css(this,a.menuItemHoverStyle)},onmouseout:function(){css(this,f)},onclick:function(){g(),e.onclick.apply(u,arguments)},innerHTML:e.text||u.options.lang[e.textKey]},extend({cursor:"pointer"},f),m);u.exportDivElements.push(t)}}),u.exportDivElements.push(m,p),u.exportMenuWidth=p.offsetWidth,u.exportMenuHeight=p.offsetHeight),b={display:"block"},n+u.exportMenuWidth>l?b.right=l-n-i-d+PX:b.left=n-d+PX,r+s+u.exportMenuHeight>c&&o.alignOptions.verticalAlign!=="top"?b.bottom=c-r-d+PX:b.top=r+s-d+PX,css(p,b),u.openMenu=!0},getSVGForExport:function(e,t){var n=this.options.exporting;return this.getSVG(merge({chart:{borderRadius:0}},n.chartOptions,t,{exporting:{sourceWidth:e&&e.sourceWidth||n.sourceWidth,sourceHeight:e&&e.sourceHeight||n.sourceHeight}}))},addButton:function(options){var chart=this,renderer=chart.renderer,btnOptions=merge(chart.options.navigation.buttonOptions,options),onclick=btnOptions.onclick,menuItems=btnOptions.menuItems,symbol,button,symbolAttr={stroke:btnOptions.symbolStroke,fill:btnOptions.symbolFill},symbolSize=btnOptions.symbolSize||12;chart.btnCount||(chart.btnCount=0),chart.exportDivElements||(chart.exportDivElements=[],chart.exportSVGElements=[]);if(btnOptions.enabled===!1||!chart.renderer)return;var attr=btnOptions.theme,states=attr.states,hover=states&&states.hover,select=states&&states.select,callback;delete attr.states;if(onclick&&typeof onclick=="string"){var fBodyCopy=onclick.toString();onclick=function(){eval(fBodyCopy)}}onclick?callback=function(){onclick.apply(chart,arguments)}:menuItems&&(callback=function(){chart.contextMenu(button.menuClassName,menuItems,button.translateX,button.translateY,button.width,button.height,button),button.setState(2)}),btnOptions.text&&btnOptions.symbol?attr.paddingLeft=Highcharts.pick(attr.paddingLeft,25):btnOptions.text||extend(attr,{width:btnOptions.width,height:btnOptions.height,padding:0}),attr&&attr.strokeWidth&&(attr["stroke-width"]=attr.strokeWidth),hover&&hover.strokeWidth&&(hover["stroke-width"]=hover.strokeWidth),button=renderer.button(btnOptions.text,0,0,callback,attr,hover,select).attr({"stroke-linecap":"round","pointer-events":"auto"});var titleNode=button.element.getElementsByTagName("title")[0];titleNode||(titleNode=doc.createElementNS("http://www.w3.org/2000/svg","title"),button.element.appendChild(titleNode));var titleString=btnOptions.title||chart.options.lang[btnOptions._titleKey]||"";if(titleString!==""){var titleLines=titleString.split(/\/r\/n/gi);for(var i=0;i<titleLines.length;i++)titleNode.appendChild(doc.createTextNode(titleLines[i])),i!==titleLines.length-1&&titleNode.appendChild(doc.createElement("br"))}button.menuClassName=options.menuClassName||PREFIX+"menu-"+chart.btnCount++,btnOptions.symbol&&(symbol=renderer.symbol(btnOptions.symbol,btnOptions.symbolX-symbolSize/2,btnOptions.symbolY-symbolSize/2,symbolSize,symbolSize).attr(extend(symbolAttr,{"stroke-width":btnOptions.symbolStrokeWidth||1,zIndex:1})).add(button)),chart.buttonOffset||(chart.buttonOffset=0),chart.options.navigation.buttonOptions.prevAlignState||(chart.options.navigation.buttonOptions.prevAlignState=btnOptions.align),chart.options.navigation.buttonOptions.prevVerticalAlignState||(chart.options.navigation.buttonOptions.prevVerticalAlignState=btnOptions.verticalAlign);if(btnOptions.align!==chart.options.navigation.buttonOptions.prevAlignState||btnOptions.verticalAlign!==chart.options.navigation.buttonOptions.prevVerticalAlignState)chart.buttonOffset=0;button.add().align(extend(btnOptions,{width:button.width,x:Highcharts.pick(btnOptions.x,chart.buttonOffset)}),!0,"spacingBox"),chart.buttonOffset+=(button.width+btnOptions.buttonSpacing)*(btnOptions.align==="right"?-1:1),button.element.id=btnOptions.id,chart.exportSVGElements.push(button,symbol)},destroyExport:function(e){var t=e.target,n,r;for(n=0;n<t.exportSVGElements.length;n++)r=t.exportSVGElements[n],r&&(r.onclick=r.ontouchstart=null,t.exportSVGElements[n]=r.destroy());for(n=0;n<t.exportDivElements.length;n++)r=t.exportDivElements[n],removeEvent(r,"mouseleave"),t.exportDivElements[n]=r.onmouseout=r.onmouseover=r.ontouchstart=r.onclick=null,discardElement(r)}}),symbols.menu=function(e,t,n,r){var i=[M,e,t+2.5,L,e+n,t+2.5,M,e,t+r/2+.5,L,e+n,t+r/2+.5,M,e,t+r-1.5,L,e+n,t+r-1.5];return i},symbols.exportIcon=function(e,t,n,r){return["M",e,t+n,"L",e+n,t+r,e+n,t+r*.8,e,t+r*.8,"Z","M",e+n*.5,t+r*.8,"L",e+n*.8,t+r*.4,e+n*.4,t+r*.4,e+n*.4,t,e+n*.6,t,e+n*.6,t+r*.4,e+n*.2,t+r*.4,"Z"]},Chart.prototype.callbacks.push(function(e){var t,n=e.options.exporting,r=n.buttons;buttonOffset=0;if(n.enabled!==!1){for(t in r)e.addButton(r[t]);addEvent(e,"destroy",e.destroyExport)}})})(Highcharts);

/* 
* rdChartCanvas/modules/offline-exporting.src.js 
*/
/**
 * @license Highcharts JS v5.0.6 (2016-12-07)
 * Client side exporting module
 *
 * (c) 2015 Torstein Honsi / Oystein Moseng
 *
 * License: www.highcharts.com/license
 */(function(e){typeof module=="object"&&module.exports?module.exports=e:e(Highcharts)})(function(e){(function(e){"use strict";function f(e,t){var n=i.getElementsByTagName("head")[0],r=i.createElement("script");r.type="text/javascript",r.src=e,r.onload=t,r.onerror=function(){console.error("Error loading script",e)},n.appendChild(r)}var t=e.merge,n=window,r=n.navigator,i=n.document,s=e.each,o=n.URL||n.webkitURL||n,u=/Edge\/|Trident\/|MSIE /.test(r.userAgent),a=u?150:0;e.CanVGRenderer={},e.downloadURL=function(e,t){var s=i.createElement("a"),o;if(r.msSaveOrOpenBlob){r.msSaveOrOpenBlob(e,t);return}if(s.download!==undefined)s.href=e,s.download=t,s.target="_blank",i.body.appendChild(s),s.click(),i.body.removeChild(s);else try{o=n.open(e,"chart");if(o===undefined||o===null)throw"Failed to open window"}catch(u){n.location.href=e}},e.svgToDataUrl=function(e){var t=r.userAgent.indexOf("WebKit")>-1&&r.userAgent.indexOf("Chrome")<0;try{if(!t&&r.userAgent.toLowerCase().indexOf("firefox")<0)return o.createObjectURL(new n.Blob([e],{type:"image/svg+xml;charset-utf-16"}))}catch(i){}return"data:image/svg+xml;charset=UTF-8,"+encodeURIComponent(e)},e.imageToDataUrl=function(e,t,r,s,o,u,f,l,c){var h=new n.Image,p,d=function(){setTimeout(function(){var n=i.createElement("canvas"),u=n.getContext&&n.getContext("2d"),a;try{if(!u)f(e,t,r,s);else{n.height=h.height*s,n.width=h.width*s,u.drawImage(h,0,0,n.width,n.height);try{a=n.toDataURL(t),o(a,t,r,s)}catch(l){p(e,t,r,s)}}}finally{c&&c(e,t,r,s)}},a)},v=function(){l(e,t,r,s),c&&c(e,t,r,s)};p=function(){h=new n.Image,p=u,h.crossOrigin="Anonymous",h.onload=d,h.onerror=v,h.src=e},h.onload=d,h.onerror=v,h.src=e},e.downloadSVGLocal=function(t,u,a,l){function w(e,t){var r=e.width.baseVal.value+2*t,i=e.height.baseVal.value+2*t,s=new n.jsPDF("l","pt",[r,i]);return n.svgElementToPdf(e,s,{removeInvalid:!0}),s.output("datauristring")}function E(){m.innerHTML=t;var n=m.getElementsByTagName("text"),r,i=m.getElementsByTagName("svg")[0].style;s(n,function(e){s(["font-family","font-size"],function(t){!e.style[t]&&i[t]&&(e.style[t]=i[t])}),e.style["font-family"]=e.style["font-family"]&&e.style["font-family"].split(" ").splice(-1),r=e.getElementsByTagName("title"),s(r,function(t){e.removeChild(t)})});var o=w(m.firstChild,0);e.downloadURL(o,y),l&&l()}var c,h,p=!0,d,v=u.libURL||e.getOptions().exporting.libURL,m=i.createElement("div"),g=u.type||"image/png",y=(u.filename||"chart")+"."+(g==="image/svg+xml"?"svg":g.split("/")[1]),b=u.scale||1;v=v.slice(-1)!=="/"?v+"/":v;if(g==="image/svg+xml")try{r.msSaveOrOpenBlob?(h=new MSBlobBuilder,h.append(t),c=h.getBlob("image/svg+xml")):c=e.svgToDataUrl(t),e.downloadURL(c,y),l&&l()}catch(S){a()}else g==="application/pdf"?n.jsPDF&&n.svgElementToPdf?E():(p=!0,f(v+"jspdf.js",function(){f(v+"rgbcolor.js",function(){f(v+"svg2pdf.js",function(){E()})})})):(c=e.svgToDataUrl(t),d=function(){try{o.revokeObjectURL(c)}catch(e){}},e.imageToDataUrl(c,g,{},b,function(t){try{e.downloadURL(t,y),l&&l()}catch(n){a()}},function(){var s=i.createElement("canvas"),o=s.getContext("2d"),u=t.match(/^<svg[^>]*width\s*=\s*\"?(\d+)\"?[^>]*>/)[1]*b,c=t.match(/^<svg[^>]*height\s*=\s*\"?(\d+)\"?[^>]*>/)[1]*b,h=function(){try{o.drawSvg(t,0,0,u,c),e.downloadURL(r.msSaveOrOpenBlob?s.msToBlob():s.toDataURL(g),y),l&&l()}catch(n){a()}finally{d()}};s.width=u,s.height=c,n.canvg?h():(p=!0,f(v+"rgbcolor.js",function(){f(v+"canvg.js",function(){h()})}))},a,a,function(){p&&d()}))},e.Chart.prototype.getSVGForLocalExport=function(t,n,r,i){var s=this,o,u=0,a,f,l,c,h,p=function(e){return s.sanitizeSVG(e,f)},d=function(e,t,n){++u,n.imageElement.setAttributeNS("http://www.w3.org/1999/xlink","href",e),u===o.length&&i(p(a.innerHTML))};e.wrap(e.Chart.prototype,"getChartHTML",function(e){var t=e.apply(this,Array.prototype.slice.call(arguments,1));return f=this.options,a=this.container.cloneNode(!0),t}),s.getSVGForExport(t,n),a||(a=this.container.cloneNode(!0)),o=a.getElementsByTagName("image");try{if(!o.length){i(p(a.innerHTML));return}for(c=0,h=o.length;c<h;++c)l=o[c],e.imageToDataUrl(l.getAttributeNS("http://www.w3.org/1999/xlink","href"),"image/png",{imageElement:l},t.scale,d,r,r,r)}catch(v){r()}},e.Chart.prototype.exportChartLocal=function(t,n){var r=this,i=Y.one(r.renderTo).ancestor('div[id^="rdDashboardPanel-"], div.rd-report-author-element, #rdDivAgPanels');if(i&&!r.options.title.text){var s=i.one('#rdDashboardCaptionID, span[id^="lblVisualizationTitle_"], span[id^="lblHeadingAnalChart_"]');s&&(r.options.exporting.chartOptions={},r.options.exporting.chartOptions.title=r.options.title,r.options.exporting.chartOptions.title.text=s.get("innerText"))}var o=e.merge(r.options.exporting,t),a=function(){if(o.fallbackToExportServer===!1){if(!o.error)throw"Fallback to export server disabled";o.error()}else r.exportChart(o)},f=function(t){t.indexOf("<foreignObject")>-1&&o.type!=="image/svg+xml"?a():e.downloadSVGLocal(t,o,a)};if((u&&o.type!=="image/svg+xml"||o.type==="application/pdf")&&r.container.getElementsByTagName("image").length){a();return}r.getSVGForLocalExport(o,n,a,f)},t(!0,e.getOptions().exporting,{libURL:"https://code.highcharts.com/5.0.6/lib/",buttons:{contextButton:{menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChartLocal()}},{textKey:"downloadJPEG",onclick:function(){this.exportChartLocal({type:"image/jpeg"})}},{textKey:"downloadSVG",onclick:function(){this.exportChartLocal({type:"image/svg+xml"})}},{textKey:"downloadPDF",onclick:function(){this.exportChartLocal({type:"application/pdf"})}}]}}})})(e)});

/* 
* rdChartCanvas/rdHighchartRangeSelection.js 
*/
YUI.add("chartCanvasRangeSelection",function(e){var t=e.Lang,n="rdChartCanvasRangeSelection",r=5,i=5;e.LogiXML.Node.destroyClassKeys.push(n),e.namespace("LogiXML").ChartCanvasRangeSelection=e.Base.create("ChartCanvasRangeSelection",e.Base,[],{_handlers:{},configNode:null,constrainDiv:null,maskDiv:null,maskDraggable:null,maskResizer:null,callback:null,maskType:null,fillColor:null,isReadOnly:!1,initializer:function(e){this.configNode=e.configNode,this.callback=e.callback,this.maskType=e.maskType,this.fillColor=e.fillColor,this.isReadOnly=e.isReadOnly,this.configNode.setData(n,this),this.createConstrainDiv(e.constrainRect),this.createMaskDiv(e.maskRect),this.configNode.all(".yui3-resize-handle-inner").each(function(e){e.setAttribute("class","")})},destructor:function(){var e=this.configNode;this._clearHandlers(),this.maskResizer&&this.maskResizer.destroy(),this.constrainDiv&&this.constrainDiv.remove(),this.maskDiv&&this.maskDiv.remove(),this.configNode.setData(n,null)},_clearHandlers:function(){var t=this;e.each(this._handlers,function(e){e&&(e.detach(),e=null)})},createConstrainDiv:function(t){if(!t)return;this.constrainDiv=e.Node.create('<div style="visibility: hidden;position:absolute;"></div>'),this.constrainDiv.setStyles({top:t.y+"px",left:t.x+"px",height:t.height+"px",width:t.width+"px"}),this.configNode.insert(this.constrainDiv,0)},createMaskDiv:function(t){if(!t)return;this.maskDiv=e.Node.create('<div style="position:absolute;"></div>');var n=e.LogiXML.Color.hexWithOpacity(this.fillColor),r=n[0],i=n[1];this.maskDiv.setStyles({top:t.y+"px",left:t.x+"px",height:t.height+"px",width:t.width+"px",backgroundColor:r,opacity:i}),this.isReadOnly!==!0&&this.maskDiv.setStyle("cursor","move"),this.configNode.appendChild(this.maskDiv),this.isReadOnly!==!0&&(this.createMaskDraggable(),this.createResizer())},createMaskDraggable:function(){this.maskDraggable=new e.DD.Drag({node:this.maskDiv}),this.constrainDiv&&this.maskDraggable.plug(e.Plugin.DDConstrained,{constrain2node:this.constrainDiv}),this._handlers.dragEnd=this.maskDraggable.on("drag:end",this.maskChanged,this)},createResizer:function(){var t=this,n={node:this.maskDiv,handles:this.maskType=="x"?"l,r":this.maskType=="y"?"t,b":"all"};this.maskResizer=new e.LogiXML.ChartFX.Resize(n),this.constrainDiv&&this.maskResizer.plug(e.Plugin.ResizeConstrained,{constrain:this.constrainDiv}),this._handlers.resized=this.maskResizer.on("resize:end",this.maskChanged,this)},maskChanged:function(e){var t={x:this.maskDiv.get("offsetLeft"),y:this.maskDiv.get("offsetTop"),height:this.maskDiv.get("offsetHeight"),width:this.maskDiv.get("offsetWidth")};this.callback&&this.callback(t)}},{})},"1.0.0",{requires:["base","dom-base","node-base","resize-base","event","color-utils","node-event-simulate","event-synthetic","node-custom-destroy","dd-drag","dd-constrain","dd-delegate","drawable-overlay","drawable-overlay-resize","drawable-overlay-size-constrain","chartfx-resize"]});

/* 
* rdChartCanvas/rdHighchartsLocalization.js 
*/
//"use strict";
Highcharts&&LogiXML&&LogiXML.Localization&&Highcharts.setOptions({lang:{resetZoom:LogiXML.Localization.Strings.resetZoom,resetZoomTitle:LogiXML.Localization.Strings.resetZoomTitle,loading:LogiXML.Localization.Strings.loading,months:LogiXML.Localization.DateFormatInfo.monthNames,shortMonths:LogiXML.Localization.DateFormatInfo.abbreviatedMonthNames,weekdays:LogiXML.Localization.DateFormatInfo.dayNames,decimalPoint:LogiXML.Localization.NumFormatInfo.numberDecimalSeparator,thousandsSep:LogiXML.Localization.NumFormatInfo.numberGroupSeparator}});

/* 
* rdChartCanvas/rdHighchartsFormatters.js 
*/
//"use strict";
window.LogiXML===undefined&&(window.LogiXML={}),LogiXML.HighchartsFormatters={setFormatters:function(e){var t,n,r,i;if(e.xAxis){LogiXML.HighchartsFormatters.checkForDateInAxises(e.xAxis);for(var s=0;s<e.xAxis.length;s++){var o=e.xAxis[s];o.title&&o.title.format&&(o.title.text=LogiXML.Formatter.format(o.title.text,o.title.format))}}if(e.yAxis){LogiXML.HighchartsFormatters.checkForDateInAxises(e.yAxis);for(var s=0;s<e.yAxis.length;s++){var u=e.yAxis[s];u.title&&u.title.format&&(u.title.text=LogiXML.Formatter.format(u.title.text,u.title.format)),this.checkForOnOffInAxis(u)}}if(e.xAxis){t=0,n=e.xAxis.length;for(;t<n;t++)r=e.xAxis[t],r.labels&&r.labels.formatter=="labelFormatter"&&(r.labels.formatter=LogiXML.HighchartsFormatters.labelFormatter),this.checkForOnOffInAxis(r)}if(e.yAxis){t=0,n=e.yAxis.length;for(;t<n;t++){r=e.yAxis[t],r.labels&&r.labels.formatter=="labelFormatter"&&(r.labels.formatter=LogiXML.HighchartsFormatters.labelFormatter);if(r.stackLabels&&r.stackLabels.formatter=="stackLabelFormatter"){var a=r.stackLabels.format;r.stackLabels.formatter=LogiXML.HighchartsFormatters.stackLabelFormatter,r.stackLabels._format=r.stackLabels.format,r.stackLabels.format=null}}}e.legend&&e.legend&&e.legend.labelFormatter=="legendLabelFormatter"&&(e.legend.labelFormatter=LogiXML.HighchartsFormatters.legendLabelFormatter,e.legend._format=e.legend.labelFormat,e.legend.labelFormat=null);var f=function(e){if(e.dataLabels&&e.dataLabels.formatter)switch(e.dataLabels.formatter){case"dataLabelFormatter":e.dataLabels.formatter=LogiXML.HighchartsFormatters.dataLabelFormatter,e.dataLabels._format=i.dataLabels.format,e.dataLabels.format=null;break;case"sideLabelFormatter":e.dataLabels.formatter=LogiXML.HighchartsFormatters.sideLabelFormatter,e.dataLabels._format=i.dataLabels.format,e.dataLabels._showPointName=i.dataLabels.showPointName,e.dataLabels.format=null}};if(e.series){t=0,n=e.series.length;for(;t<n;t++){i=e.series[t];if(!i.data)continue;for(var l=0;l<i.data.length;l++){var c=i.data[l];c!=null&&c!=undefined&&f(c)}f(i)}}},checkForOnOffInAxis:function(e){e.labels&&e.labels.format&&(e.labels.format=="Yes/No"||e.labels.format=="On/Off"||e.labels.format=="True/False")&&(e.hasBinaryValues=!0)},checkForDateInAxises:function(e){if(!e||!LogiXML.HighchartsFormatters.isArray(e))return;var t=0,n=e.length;for(;t<n;t++)e[t].labels&&e[t].type=="datetime"&&e[t].categories&&LogiXML.HighchartsFormatters.convertTimeStampToDate(e[t].categories)},convertTimeStampToDate:function(e){if(!e&&e.length==0)return;var t=e.length;for(var n=0;n<t;n++)e[n]=new Date(e[n])},isArray:function(e){return Object.prototype.toString.call(e)==="[object Array]"},isNumber:function(e){return typeof e=="number"},splat:function(e){return LogiXML.HighchartsFormatters.isArray(e)?e:[e]},pick:function(){var e=arguments,t,n,r=e.length;for(t=0;t<r;t++){n=e[t];if(typeof n!="undefined"&&n!==null)return n}},inArray:function(e,t){var n,r=0;if(t){n=t.length;for(;r<n;r++)if(t[r]===e)return r}return-1},tooltipFormatter:function(e){var t=this.point.series.quicktip,n,r,i,s;this.point.isGroup&&(t=this.point.style.quicktip);if(this.point.isIntermediateSum||this.point.isSum){this.point.qt=[];for(var n=0;n<t.rows.length;n++)this.point.qt.push(LogiXML.HighchartsFormatters.format(this.point.y,t.rows[n].format))}if(!t){if(this.point.series.chart.autoQuicktip===!1)return!1;var o=this.points||LogiXML.HighchartsFormatters.splat(this),u=o[0].series,a;this.point.series.chart.tooltip.style||(this.point.series.chart.tooltip.style={}),a=[LogiXML.HighchartsFormatters.tooltipAutoHeaderFormatter(o[0])],n=0,r=o.length;for(;n<r;n++)u=o[n].series,u.tooltipFormatter?a.push(u.tooltipFormatter(o[n])):a.push(LogiXML.HighchartsFormatters.tooltipAutoPointFormatter(this.point));return a.push(e.options.footerFormat||""),i='<div class="rdquicktip-content"><div class="body">',i+=a.join("").replace(/style\=\"[^\"]*\"/g,"").replace(/<span >Series [0-9]+<\/span>(<br\/>|:)/g,"").replace(/<br\/><span .+ Series [0-9:]+(<br\/> |: )/g,"<br/>").replace(/<span .+ Series [0-9]+<\/span><br\/>/g,""),i+="</div></div>",i}this.point.series.chart.tooltip.style||(this.point.series.chart.tooltip.style={}),this.point.series.chart.tooltip.style.padding=0,i='<div class="rdquicktip-content">',t.title&&(i+='<div class="header">'+t.title+"</div>"),i+='<div class="body">',t.descr&&(i+="<p>"+t.descr+"</p>");var f="Percent",l="@Chart.rdStackedChartPercentage~";if(this.point.percentage!=undefined&&i.indexOf(l)>-1){var c=LogiXML.Formatter.format(this.point.percentage/100,f);i=i.replace(new RegExp(l,"g"),c)}if(t.rows&&t.rows.length>0){i+='<table class="rdquicktip-table">',n=0,r=t.rows.length;for(;n<r;n++){var h="<tr><td>"+t.rows[n].caption+"</td><td>"+LogiXML.decodeHtml(t.rows[n].value||"",t.rows[n].format=="HTML")+"</td></tr>";if(this.point.percentage!=undefined&&h.indexOf(l)>-1){var c=LogiXML.Formatter.format(this.point.percentage/100,t.rows[n].format||f);h=h.replace(new RegExp(l,"g"),c)}i+=h}i+="</table>"}if(this.point.qt&&this.point.qt.length>0){n=0,r=this.point.qt.length;for(;n<r;n++){var p=this.point.qt[n];if(p=="LogiHideEle")return"";p||(p=""),p.startsWith("$0")&&(p="$"+p),i=i.replace(new RegExp("\\{"+n+"\\}","g"),LogiXML.decodeHtml(p,t.rows&&t.rows[n]&&t.rows[n].format&&t.rows[n].format=="HTML"))}}return i+="</div></div></div>",i},tooltipAutoHeaderFormatter:function(e){var t=e.series,n=t.tooltipOptions,r=n.dateTimeLabelFormats,i=n.xDateFormat||r.year,s=t.xAxis,o=s&&s.options.type==="datetime",u=s&&s.options.type==="category",a=n.headerFormat,f=s&&s.closestPointRange,l;if(o&&!i)if(f){for(l in timeUnits)if(timeUnits[l]>=f){i=r[l];break}}else i=r.day;return s&&s.options&&s.options.labels&&s.options.labels.format?u&&e.point?a=a.replace("{point.key}",LogiXML.Formatter.format(e.point.name,s.options.labels.format)):a=a.replace("{point.key}",LogiXML.Formatter.format(o?new Date(e.key):e.key,s.options.labels.format)):o&&i&&LogiXML.HighchartsFormatters.isNumber(e.key)?i=="%Y"&&e.key?a=a.replace("{point.key}",LogiXML.Formatter.formatDate(e.key,"d")):a=a.replace("{point.key}","{point.key:"+i+"}"):t.xAxis?t.xAxis?u&&e.point&&(a=a.replace("{point.key}",e.point.name)):(a=a.replace("{point.key:.2f}",e.key),n.pointFormat=n.pointFormat.replace("{series.name}:","")):(a=a.replace("{point.key:.2f}",e.key),n.pointFormat=n.pointFormat.replace("{series.name}:","").replace("●","")),Highcharts.format(a,{point:e,series:t})},tooltipAutoPointFormatter:function(e){var t=e.series,n=t.tooltipOptions,r=t.tooltipOptions.pointFormat,i=t.tooltipOptions,s=LogiXML.HighchartsFormatters.pick(i.valueDecimals,""),o=t.xAxis&&t.xAxis.options.type==="datetime",u=t.yAxis&&t.yAxis.options.type==="datetime",a=i.valuePrefix||"",f=i.valueSuffix||"",l,c=0,h,p,d,v,m,g=!1;t.xAxis&&t.xAxis.options&&t.xAxis.options.labels&&t.xAxis.options.labels.format&&(r=r.replace("{point.x}",LogiXML.Formatter.format(o?new Date(e.x):e.x,t.xAxis.options.labels.format))),t.yAxis&&t.yAxis.options&&t.yAxis.options.labels&&t.yAxis.options.labels.format?r=r.replace("{point.y}",LogiXML.Formatter.format(u?new Date(e.y):e.y,t.yAxis.options.labels.format)):t&&t.options&&t.options.dataLabels&&t.options.dataLabels._format&&t.options.type!=="pie"&&(r=r.replace("{point.y}",LogiXML.Formatter.format(u?new Date(e.y):e.y,t.options.dataLabels._format))),l=t.pointArrayMap||["x","y"],LogiXML.HighchartsFormatters.inArray("x",l)==-1&&(l.push("x"),g=!0),h=l.length;for(;c<h;c++){p=l[c],p=="x"?v=t.xAxis&&t.xAxis.options.type||"category":v=t.yAxis&&t.yAxis.options.type||"linear",d="";switch(v){case"category":break;case"datetime":p=="x"?d=n.xDateFormat:d=n.yDateFormat;if(!d){m=e[p],m&&(r=r.replace("{point."+p+"}",LogiXML.Formatter.formatDate(m,"d")));continue}break;default:d=":,."+s+"f"}p="{point."+p;if(a||f)r=r.replace(p+"}",a+p+"}"+f);d&&d!==""&&(r=r.replace(p+"}",p+d+"}"))}return g&&l.removeAt(l.indexOf("x")),Highcharts.format(r,{point:e,series:e.series})},dataLabelFormatter:function(){var e=this.series.options.dataLabels._format,t=this.y;return this.series.options.stacking&&t===0?"":(e=="HTML"&&this.key&&(this.key=LogiXML.decodeHtml(this.key,!0)),LogiXML.Formatter.format(t,e))},sideLabelFormatter:function(){var e=this.series.options.dataLabels._format,t=this.point&&this.point.name?this.point.name:"",n=this.y,r=this.series.options.dataLabels.showPointName,i=this.series.options.dataLabels.showDataValue,s;if(e!=null&&e!=""){if(e=="Percent"||e=="p"||e=="%"||e.indexOf("%",e.length-1)!==-1)n=this.percentage/100;n=LogiXML.Formatter.format(n,e)}return r&&i?s="<div>"+t+"<br />"+n+"</div>":r?s=LogiXML.Formatter.format(t,e):s=n,s},legendLabelFormatter:function(){var e=this.chart?this.chart.options.legend._format=="HTML"?"":this.chart.options.legend._format:this.series.chart.options.legend._format;return LogiXML.Formatter.format(this.name,e)},stackLabelFormatter:function(){var e=this.options._format;return LogiXML.Formatter.format(this.total,e)},labelFormatter:function(){var e=this.axis.options.labels.format;return this.dateTimeLabelFormat||this.value instanceof Date?LogiXML.Formatter.formatDate(this.value,e):LogiXML.Formatter.format(this.value,e)},format:function(e,t){return this.value instanceof Date?LogiXML.Formatter.formatDate(e,t):LogiXML.Formatter.format(e,t)}};

/* 
* rdChartCanvas/modules/rdTreemapSeries.js 
*/
/**
 * @license 
 * Highcharts funnel module, Beta
 *
 * (c) 2010-2012 Torstein Hønsi
 *
 * License: www.highcharts.com/license
 *//*global Highcharts */var getColorComponentFromRgbString=function(e,t){var n=/rgb\((\d+),(\d+),(\d+)\)/,r=n.exec(e),i=t/8+1;return r[i]},getColorComponent=function(e,t){if(e.startsWith("rgb"))return getColorComponentFromRgbString(e,t);var n=parseInt(e.substring(1),16);return n>>t&255},Color=Highcharts.Color||{};Color.getPercentOfSpreadColor3=function(e,t,n,r,i,s){if(t>=n)return i;e<t&&(e=t),e>n&&(e=n),e=(e-t)/(n-t);var o=parseInt(r.substring(1,3),16),u=parseInt(r.substring(3,5),16),a=parseInt(r.substring(5,7),16),f=parseInt(i.substring(1,3),16),l=parseInt(i.substring(3,5),16),c=parseInt(i.substring(5,7),16),h=parseInt(s.substring(1,3),16),p=parseInt(s.substring(3,5),16),d=parseInt(s.substring(5,7),16),v=Math.sin((e+.5)*Math.PI),m=Math.sin(e*Math.PI),g=Math.sin((e-.5)*Math.PI);v<0&&(v=0),m<0&&(m=0),g<0&&(g=0);var y=o*v+f*m+h*g,b=u*v+l*m+p*g,w=a*v+c*m+d*g;y>255&&(y=255),b>255&&(b=255),w>255&&(w=255);var E=function(e){var t=Math.floor(e).toString(16);return t==="0"?"00":t};return"#"+E(y)+E(b)+E(w)},Color.R=function(e){return getColorComponent(e,16)},Color.G=function(e){return getColorComponent(e,8)},Color.B=function(e){return getColorComponent(e,0)},Array.prototype.flattern=function(e){var t=[];for(var n=0;n<this.length;n++){var r=this[n],i=e(r);if(i&&i.length){var s=i.flattern(e);t=t.concat(s)}else t.push(r)}return t},function(e){var t="",n="hover",r="select",i=e.getOptions(),s=i.plotOptions,o=e.seriesTypes,u=e.merge,a=function(){},f=e.each;s.treemap=u(s.pie,{center:["50%","50%"],width:"100%",height:"100%",dataLabels:{connectorWidth:1,connectorColor:"#606060",align:"left",verticalAlign:"top"},size:!0,states:{select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},tooltip:{headerFormat:'<span style="font-size: 10px">{point.key:.2f}</span><br/>',pointFormat:'<span style="color:{series.color}"></span>{series.name}: <b>{point.y:.2f}</b><br/>'}}),o.treemap=e.extendClass(o.pie,{type:"treemap",pointClass:e.Point,animate:a,trackerGroups:["group","dataLabelsGroup","cellsGroup"],gradientColors:["#339900","#FF0000"],treeMapRectSize:function(){var e=this.chart.plotBox;return{X:e.x,Y:e.y,Width:e.width,Height:e.height}},isInsidePlot:function(){return!0},calculateCells:function(e,t,n){var r;if(t==null)r=n||this.treeMapRectSize();else{var i=t.isGroup?t.name||"|":t.name,s=LogiXML.layout.getTextDimensions(i,t.style),o=5;r={X:t.Rect.X+o,Y:t.Rect.Y+s.height+o,Width:t.Rect.Width-o*2,Height:t.Rect.Height-s.height-o*2};if(!r.Width||r.Width<0)r.Width=0;if(!r.Height||r.Height<0)r.Height=0}if(!e||!e.length)return;var u=function(e,t){return t.y-e.y};e=e.sort(u),this.calculateCellSizes(r,e);for(var a=0;a<e.length;a++){var f=e[a];f.parent=t,f.children&&f.children.length&&(f.children=f.children.sort(u),this.calculateCells(f.children,f))}var l=this.userOptions;this.evaluateCellsColors(e,l.lowValueColor,l.mediumValueColor,l.highValueColor)},getAspect:function(e,t,n,r,i,s){var o=0,u=0,a=0;for(var f=t;f<=n;f++)o+=e[f].ScaledSizeValue;s?(u=o/i*100,a=i):(u=r,a=o/r*100);for(f=t;f<=n;f++){e[f].WidthTemp=u,e[f].HeightTemp=a;var l=e[f].ScaledSizeValue/o;s?e[f].HeightTemp*=l:e[f].WidthTemp*=l}var c=e[n];return Math.max(c.HeightTemp/c.WidthTemp,c.WidthTemp/c.HeightTemp)},calculateCellSizes:function(e,t){if(t.length===0)return;if(e.Width<=0||e.Height<=0)for(var n=0;n<t.length;n++)t[n].Rect=e;var r=e.Width,i=e.Height,s=0,o=0,u=t[0].y;for(var a=1;a<t.length;a++)u=Math.min(t[a].y,u);var f=0;if(u<0)f=Math.abs(u)*2;else if(u===0){var l=1;f=Math.abs(u)+l}var c=0;for(a=0;a<t.length;a++){var h=t[a].y;c+=h+f}var p=e.Width*e.Height/c/100;for(a=0;a<t.length;a++)h=t[a].y,t[a].ScaledSizeValue=(h+f)*p;var d=0,v=0,m=r>i,g=Number.MAX_VALUE,y=0;while(v!=t.length){y=this.getAspect(t,d,v,r,i,m);if((y>g||y<1)&&t.length>1){var b=0,w=0;for(var a=d;a<=v;a++){var E=t[a].Rect||{};E.X=e.X+s+b,E.Y=e.Y+o+w,m?w+=E.Height:b+=E.Width,t[a].Rect=E}m?s+=t[d].Rect.Width:o+=t[d].Rect.Height,r=e.Width-s,i=e.Height-o,m=r>i,d=v,g=Number.MAX_VALUE;continue}for(a=d;a<=v;a++)t[a].Rect||(t[a].Rect={}),t[a].Rect.Width=t[a].WidthTemp||0,t[a].Rect.Height=t[a].HeightTemp||0;g=y,v+=1}var S=0,x=0;for(a=d;a<v;a++)t[a].Rect.X=e.X+s+S,t[a].Rect.Y=e.Y+o+x,m?x+=t[a].Rect.Height:S+=t[a].Rect.Width},getCenter:e.CenteredSeriesMixin.getCenter,drawDataLabels:function(){var t=this,n=t.options,r=n.cursor,i=n.dataLabels,s=t.points,o,u,a,l;if(i.enabled||t._hasPointLabels){t.dlProcessOptions&&t.dlProcessOptions(i),l=t.plotGroup("dataLabelsGroup","data-labels",t.visible?e.VISIBLE:e.HIDDEN,i.zIndex||6);var c=function(e){t.drawLabel(e.name,e,l),e.children&&f(e.children,function(e){c(e)})};f(s,function(e){c(e)})}},translate:function(e){var t=0,n=this,r=!0,i=n.chart,s=n.options,o=n.data,u=s.dataLabels.position==="left"?1:0;n.center=n.options.center,i.isInsidePlot=n.isInsidePlot,e||(n.center=e=n.getCenter());var a=function(e,t){var r=t,i=n.pointClass.prototype;e.onMouseOver=i.onMouseOver,e.firePointEvent=i.firePointEvent,e.getLabelConfig=i.getLabelConfig,e.setState=i.setState,e.onMouseOut=i.onMouseOut,e.select=e.selectable?i.select:function(){},e.series=n,e.half=u,e.color=parseFloat(e.color)||10,e.isGroup=e.children&&e.children.length,e.getContrastTextColor=function(e,t,n){var r=Color.R(e)*.244627436+Color.G(e)*.672045616+Color.R(e)*.083326949;return r<127.5?t:n},e.y=parseFloat(e.y)||0,e.getStyle=function(){return this.isGroup?s.dataGrouping.groupStyles[r]:s.dataLabels.style},e.style=e.getStyle(),e.style.style&&(e.style.color=e.style.style.color,e.style.fontSize=e.style.style.fontSize||s.dataLabels.style.fontSize,e.style.fontWeight=e.style.style.fontWeight,e.style.fontFamily=e.style.style.fontFamily),e.style.cellBorderColor=e.isGroup?e.style.cellBorderColor:s.cellBorderColor,e.style.cellBorderThickness=e.isGroup?e.style.cellBorderThickness:s.cellBorderThickness,e.style.cursor=e.isGroup?e.selectable?"pointer":"default":s.cursor,e.getColor=function(){return this.isGroup?this.style.backgroundColor:e.Color},e.Color=e.getColor(),e.darkBackgroundFontColor=s.darkBackgroundFontColor||"White",e.lightBackgroundFontColor=s.lightBackgroundFontColor||"Black",e.label={},e.label.color=function(t){return t.isGroup?e.style.color:t.getContrastTextColor(t.getColor(),t.darkBackgroundFontColor,t.lightBackgroundFontColor)};var o="left";e.style.align&&(o=e.style.align.toLowerCase()),e.label.align=e.isGroup?o:s.dataLabels.align,e.label.verticalAlign=e.isGroup?"top":s.dataLabels.verticalAlign,e.label.getTextAnchor=function(){var e={center:"middle",right:"end",left:"start"};return e[this.align]};if(e.isDate)LogiXML.isNumeric(e.name)?e.value=new Date(parseInt(e.name)):e.value=new Date(e.name);else{var f=LogiXML.isNumeric(e.name)&&e.name%1!==0;e.value=f?parseFloat(e.name):e.name}e.name=LogiXML.Formatter.format(e.value,e.style.format),e.isGroup&&e.style.events?(e.events=e.style.events,e.style.events.click&&e.style.events.click.indexOf("SubmitForm")>-1&&(e.style.cursor="pointer")):e.events=s._events;for(var l=0;e.children&&l<e.children.length;l++){var c=e.children[l];a(c,r+1)}};for(var f=0;f<o.length;f++){var l=o[f];a(l,0)}i.cellsGroup=n.cellsGroup=i.renderer.g().attr({"class":"highcharts-series highcharts-tracker"}).add(i.seriesGroup);var c=function(e,t){return t.y-e.y};s.data.sort(c),this.calculateCells(o)},alignDataLabel:function(e){var t=e.name,n=this.chart.plotBox,r={point:e},i=e.Rect,s=LogiXML.layout.getTextDimensions("|",e.style),o=function(t,n){if(t==="")return"";var r=LogiXML.layout.getTextDimensions(t,e.style);if(r.height>n.Height)return"";if(r.width<n.Width)return t.toString();var i=0,s="",u="...",a=t.split("<br/>"),f=a[a.length-1];while(LogiXML.layout.getTextDimensions(s,e.style).width<n.Width)s=f.substring(0,i++);var l=f.substring(0,i-2).trim(),c=f.substring(l.length).trim();a.pop(),a.push(l),a.push(c);var h=a.join("<br/>"),p=o(h,n);return p===""?(a.pop(),a.length===1&&a[0].length>4?a[0].substring(0,a[0].length-3)+u:a.join("<br/>")):p},u=2,a=e.style.cellBorderThickness/2+u,f=i.Height;e.children&&e.children.length&&(f=Math.min(e.children[0].Rect.Y-e.Rect.Y,f)),t!=undefined&&t.toString().length?t=o(t.toString(),{Width:i.Width-a,Height:f}):t="";var l=t.split("<br/>").length||1,c=LogiXML.layout.getTextDimensions(t,e.style),h=i.Y-n.y;switch(e.label.verticalAlign){case"bottom":h+=i.Height;break;case"middle":h+=(i.Height+c.height)/2;break;default:h+=c.height}h-=a+(l-1)*s.height;var p=i.X-n.x;c.width+6<=i.Width&&(p+=u);switch(e.label.align){case"right":p+=i.Width-a;break;case"center":p+=i.Width/2;break;default:p+=a}return{x:p,y:h,text:t}},drawLabel:function(e,t){var n=t.style,r=this,i=this.chart,s=i.renderer,o={color:t.label.color(t),fontSize:n.fontSize,"font-weight":n.fontWeight,"font-family":n.fontFamily,cursor:n.cursor},u=r.alignDataLabel(t);if(t.dataLabel&&!i.options.isExportRender){var a=t.dataLabel.element;r.dataLabelsGroup.safeRemoveChild(a),t.dataLabel=null}var f=t.dataLabel=s.text(u.text,u.x,u.y).attr({"text-anchor":t.label.getTextAnchor()}).css(o).add(r.dataLabelsGroup);return t.dataLabel.element.point=t,f},drawPoints:function(){var r=this,i=r.options,s=r.chart,o=s.renderer,a=function(r){var l=r.style,c={fill:r.getColor(),stroke:l.cellBorderColor,"stroke-width":l.cellBorderThickness,cursor:r.style.cursor};r.pointAttr||(r.pointAttr={}),r.pointAttr[t]=c;var h=e.Color(r.getColor()).brighten(i.states.hover.brightness).get();r.pointAttr[n]=u(c,{fill:h});var p=Math.round(r.Rect.Y+r.Rect.Height)-Math.round(r.Rect.Y),d=Math.round(r.Rect.X+r.Rect.Width)-Math.round(r.Rect.X),v=Math.round(r.Rect.X),m=Math.round(r.Rect.Y);if(r.graphic&&!s.options.isExportRender){var g=r.graphic.element;document.documentMode<=8?(g.parentElement.removeChild(g),delete r.graphic):(g.setAttribute("width",d),g.setAttribute("height",p),g.setAttribute("x",v),g.setAttribute("y",m),r.graphic.show())}else r.rect=r.graphic=o.rect(v,m,d,p,0).attr(c).add(s.cellsGroup);r.selected&&r.setState("select"),r.events&&(r.graphic.element.onclick=new Function("e",r.events.click),r.dataLabel&&r.dataLabel.element&&(r.dataLabel.element.onclick=new Function("e",r.events.click))),r.rect.element.point=r,r.children&&f(r.children,a)};f(r.data,a)},sortByAngle:a,drawTracker:e.TrackerMixin.drawTrackerPoint,evaluateCellsColors:function(e,t,n,r){var i=this,s=i.options,o=s.highValueColor||i.gradientColors[0],u=s.lowValueColor||i.gradientColors[1],a=s.mediumValueColor||Color.getPercentOfSpreadColor3(.25,0,1,u,o,o),f=function(e,t,n){var r=Color.R(e)+(Color.R(t)-Color.R(e))*n,i=Color.G(e)+(Color.G(t)-Color.G(e))*n,s=Color.B(e)+(Color.B(t)-Color.B(e))*n;return"rgb("+Math.floor(r)+","+Math.floor(i)+","+Math.floor(s)+")"};isNaN(t)&&(t=0),isNaN(n)&&(n=.5),isNaN(r)&&(r=1);if(e.length==0)return;var l=e.flattern(function(e){return e.children}),c=[];for(var h=0;h<l.length;h++){var p=l[h];c.push(p.colorValue)}var d=Math.min.apply(null,c),v=Math.max.apply(null,c),m=d<0?d*-1+1:0,g=0,y=0;m>0&&(g+=y*m,d+=m,v+=m);var b=v-d;for(var w=0;w<l.length;w++){var E=l[w];E.ColorValue=E.colorValue;if(E.IsGroup)continue;if(b===0)E.Color=u;else{var S=(E.ColorValue+m-d)/b;if(S>=0&&S<=t)E.Color=u;else if(S>t&&S<=n)x=(E.ColorValue+m-d-b*t)/(b*n-b*t),E.Color=f(u,a,x);else if(S>n&&S<r){var x=(E.ColorValue+m-d-b*(n-t))/(b*(r+t)-b*(n+t));E.Color=f(a,o,x)}else{if(!(S>=r&&S<=1))throw"Color scaled value out of range";E.Color=o}}E.fill=E.Color}}})}(Highcharts);

/* 
* rdChartCanvas/modules/rdTrendlineSeries.js 
*/
(function(e){var t=e.getOptions(),n=t.plotOptions,r=e.seriesTypes,i=e.merge,s=function(){},o=e.each;n.trendline=i(n.spline,{}),r.trendline=e.extendClass(r.spline,{type:"trendline",init:function(t,n){var r=n.parentId,i=n.lineAlgorithm,s,o=0,u=t.series.length,a,f;for(;o<u;o++)if(t.series[o].options.id==r){s=t.series[o].options;break}s.data.length>0&&s.dataInfo&&(a=this.extractXYDataFromSeries(s)),a&&a.data&&a.data.length>=2&&(i=i.toLowerCase().replace("regression",""),f=this.methods[i](a.data),n.data=f),e.Series.prototype.init.apply(this,arguments)},methods:{lowess:function(e){return this.loess_pairs(e,.25)},linear:function(e){return regression("linear",e).points},logarithmic:function(e){return regression("logarithmic",e).points},power:function(e){return regression("power",e).points},polynomial2:function(e){return regression("polynomial",e,2).points},polynomial3:function(e){return regression("polynomial",e,3).points},polynomial4:function(e){return regression("polynomial",e,4).points},loess_pairs:function(e,t){if(e&&e.length<4)return e;var n=e.map(function(e){return e[0]}),r=e.map(function(e){return e[1]}),i=this.loess(n,r,t);return n.map(function(e,t){return[e,i[t]]})},loess:function(e,t,n){function r(e){var t=1-e*e*e;return t*t*t}var i=[],s=0,o=Math.floor(n*e.length)-1;for(var u in e){var a=e[u];u>0&&o<e.length-1&&e[o+1]-e[u]<e[u]-e[s]&&(s++,o++);var f;e[u]-e[s]>e[o]-e[u]?f=s:f=o;var l=e[f]-a,c=l==0||isNaN(l)?0:Math.abs(1/l),h=0,p=0,d=0,v=0,m=0,g=s;while(g<=o){var y=e[g],b=t[g],w;g<u?w=a-y:w=y-a;var E=r(w*c),S=y*E;h+=E,p+=S,d+=y*S,v+=b*E,m+=b*S,g++}var x=p/h,T=v/h,N=m/h,C=d/h,k;C==x*x?k=0:k=(N-x*T)/(C-x*x);var L=T-k*x;i[u]=k*a+L}return i}},extractXYDataFromSeries:function(e){var t=e.data,n=e.dataInfo,r={data:[],xType:"Text",yType:"Number"},i=0,s,o,u,a,f,l=!1;s=n.columnMap.length;for(;i<s;i++)switch(n.columnMap[i].name){case"x":o=n.columnMap[i].dataType,a=i;break;case"y":u=n.columnMap[i].dataType,f=i}o&&o!="Text"&&(l=!0),r.xType=o,r.yType=u,i=0,s=t.length;for(;i<s;i++)switch(n.serilizationType){case"array":r.data.push([i,t[i]]);break;case"arrays":r.data.push([l?t[i][a]:i,t[i][f]]);break;case"objects":r.data.push([l?t[i].x:i,t[i].y])}if(e.type.toLowerCase()=="scatter"){var c={};r.data.forEach(function(e){var t=e[0];t&&(c[t]?c[t]={sum:c[t].sum+e[1],count:++c[t].count}:c[t]={sum:e[1],count:1})}),r.data=Object.keys(c).map(function(e){return[+e,c[e].sum/c[e].count]}),r.data.sort(function(e,t){return e[0]-t[0]})}return r}})})(Highcharts),function(){var e=function(e,t){var n=0,r=0,i=0,s=0,o=0,u=e.length-1,a=new Array(t);for(n=0;n<u;n++){s=n;for(r=n+1;r<u;r++)Math.abs(e[n][r])>Math.abs(e[n][s])&&(s=r);for(i=n;i<u+1;i++)o=e[i][n],e[i][n]=e[i][s],e[i][s]=o;for(r=n+1;r<u;r++)for(i=u;i>=n;i--)e[i][r]-=e[i][n]*e[n][r]/e[n][n]}for(r=u-1;r>=0;r--){o=0;for(i=r+1;i<u;i++)o+=e[i][r]*a[i];a[r]=(e[u][r]-o)/e[r][r]}return a},t={linear:function(e){var t=[0,0,0,0,0],n=0,r=[];for(;n<e.length;n++)t[0]+=e[n][0],t[1]+=e[n][1],t[2]+=e[n][0]*e[n][0],t[3]+=e[n][0]*e[n][1],t[4]+=e[n][1]*e[n][1];var i=(n*t[3]-t[0]*t[1])/(n*t[2]-t[0]*t[0]),s=t[1]/n-i*t[0]/n;for(var o=0,u=e.length;o<u;o++){var a=[e[o][0],e[o][0]*i+s];r.push(a)}var f="y = "+Math.round(i*100)/100+"x + "+Math.round(s*100)/100;return{equation:[i,s],points:r,string:f}},exponential:function(e){var t=[0,0,0,0,0,0],n=0,r=[];for(a=e.length;n<a;n++)t[0]+=e[n][0],t[1]+=e[n][1],t[2]+=e[n][0]*e[n][0]*e[n][1],t[3]+=e[n][1]*Math.log(e[n][1]),t[4]+=e[n][0]*e[n][1]*Math.log(e[n][1]),t[5]+=e[n][0]*e[n][1];var i=t[1]*t[2]-t[5]*t[5],s=Math.pow(Math.E,(t[2]*t[3]-t[5]*t[4])/i),o=(t[1]*t[4]-t[5]*t[3])/i;for(var u=0,a=e.length;u<a;u++){var f=[e[u][0],s*Math.pow(Math.E,o*e[u][0])];r.push(f)}var l="y = "+Math.round(s*100)/100+"e^("+Math.round(o*100)/100+"x)";return{equation:[s,o],points:r,string:l}},logarithmic:function(e){var t=[0,0,0,0],n=0,r=[];for(u=e.length;n<u;n++)t[0]+=Math.log(e[n][0]),t[1]+=e[n][1]*Math.log(e[n][0]),t[2]+=e[n][1],t[3]+=Math.pow(Math.log(e[n][0]),2);var i=(n*t[1]-t[2]*t[0])/(n*t[3]-t[0]*t[0]),s=(t[2]-i*t[0])/n;for(var o=0,u=e.length;o<u;o++){var a=[e[o][0],s+i*Math.log(e[o][0])];r.push(a)}var f="y = "+Math.round(s*100)/100+" + "+Math.round(i*100)/100+" ln(x)";return{equation:[s,i],points:r,string:f}},power:function(e){var t=[0,0,0,0],n=0,r=[];for(u=e.length;n<u;n++)t[0]+=Math.log(e[n][0]),t[1]+=Math.log(e[n][1])*Math.log(e[n][0]),t[2]+=Math.log(e[n][1]),t[3]+=Math.pow(Math.log(e[n][0]),2);var i=(n*t[1]-t[2]*t[0])/(n*t[3]-t[0]*t[0]),s=Math.pow(Math.E,(t[2]-i*t[0])/n);for(var o=0,u=e.length;o<u;o++){var a=[e[o][0],s*Math.pow(e[o][0],i)];r.push(a)}var f="y = "+Math.round(s*100)/100+"x^"+Math.round(i*100)/100;return{equation:[s,i],points:r,string:f}},polynomial:function(t,n){typeof n=="undefined"&&(n=2);var r=[],i=[],s=[],o=0,u=0,a=0,f=n+1;for(;a<f;a++){for(var l=0,c=t.length;l<c;l++)o+=Math.pow(t[l][0],a)*t[l][1];r.push(o),o=0;var h=[];for(var p=0;p<f;p++){for(var l=0,c=t.length;l<c;l++)u+=Math.pow(t[l][0],a+p);h.push(u),u=0}i.push(h)}i.push(r);var d=e(i,f);for(var a=0,c=t.length;a<c;a++){var v=0;for(var m=0;m<d.length;m++)v+=d[m]*Math.pow(t[a][0],m);s.push([t[a][0],v])}var g="y = ";for(var a=d.length-1;a>=0;a--)a>1?g+=Math.round(d[a]*100)/100+"x^"+a+" + ":a==1?g+=Math.round(d[a]*100)/100+"x"+" + ":g+=Math.round(d[a]*100)/100;return{equation:d,points:s,string:g}}},n=function(e,n,r){if(typeof e=="string")return t[e](n,r)};typeof exports!="undefined"?module.exports=n:window.regression=n}();

/* 
* rdChartCanvas/rdNoDataForHighcharts.js 
*/
/**
 * @license Highcharts JS v3.0.7 (2013-10-24)
 * Plugin for displaying a message when there is no data visible in chart.
 *
 * (c) 2010-2013 Highsoft AS
 * Author: Øystein Moseng
 *
 * License: www.highcharts.com/license
 */(function(e){function s(){return!!this.points.length&&this.points.some(function(e){return e.y})}function o(){var e=this;if(!e.options.noData||!e.options.noData.enabled||e.resetZoomButton)return;var t=e.options.noData.text;e.hasData()?e.hideNoData():e.angular||(e.showNoData(t),e.destroyUnboundDataLabels())}var t=e.seriesTypes,n=e.Chart.prototype,r=e.getOptions(),i=e.extend;i(r.lang,{noData:"No data to display"}),r.noData={position:{x:0,y:0,align:"center",verticalAlign:"middle"},attr:{},style:{fontWeight:"bold",fontSize:"12px",color:"#60606a"},text:null},t.treemap&&(t.treemap.prototype.hasData=function(){return this.data&&this.data.length}),t.pie.prototype.hasData=s,t.gauge&&(t.gauge.prototype.hasData=s),t.waterfall&&(t.waterfall.prototype.hasData=s),e.Series.prototype.hasData=function(){return this.dataMax!==undefined&&this.dataMin!==undefined},n.showNoData=function(e){var t=this,n=t.options,r=e||n.text||n.lang.noData,s=n.noData;if(!t.noDataLabel){t.noDataLabel=t.renderer.label(r,0,0,null,null,null,null,null,"no-data").attr(s.attr).css(s.style).add(),t.noDataLabel.align(i(t.noDataLabel.getBBox(),s.position),!1,"plotBox");if(t.xAxis)for(var o=0;o<t.xAxis.length;o++)t.xAxis[o].destroy();if(t.yAxis)for(var o=0;o<t.yAxis.length;o++)t.yAxis[o].destroy()}},n.hideNoData=function(){var e=this;e.noDataLabel&&(e.noDataLabel=e.noDataLabel.destroy())},n.hasData=function(){var e=this,t=e.series,n=t.length;while(n--)if(t[n].hasData()&&!t[n].options.isInternal)return!0;return!1},n.destroyUnboundDataLabels=function(){var e=this,t=e.series,n=t.length;while(n--)if(!t[n].hasData())for(var r=0;r<t[n].points.length;r++){var i=t[n].points[r];i&&i.destroy&&i.destroy()}},n.callbacks.push(function(t){e.addEvent(t,"load",o),e.addEvent(t,"redraw",o)})})(Highcharts);

/* 
* rdYui/chartcanvas.js 
*/
function rdGetChartCanvasObject(e){if(!e||e=="")return null;var t=Y.one("#"+e);return t?t.getData("rdChartCanvas"):null}YUI.add("chartCanvas",function(Y){Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){for(var n=t||0,r=this.length;n<r;n++)if(this[n]===e)return n;return-1});var Lang=Y.Lang,TRIGGER="rdChartCanvas";LogiXML.Ajax.AjaxTarget&&LogiXML.Ajax.AjaxTarget().on("reinitialize",function(){if(LogiXML&&LogiXML.Dashboard&&LogiXML.Dashboard.pageDashboard&&LogiXML.Dashboard.pageDashboard.refreshing)return;Y.LogiXML.ChartCanvas.createElements(!0)}),Y.LogiXML.Node.destroyClassKeys.push(TRIGGER),Y.namespace("LogiXML").ChartCanvas=Y.Base.create("ChartCanvas",Y.Base,[],{_handlers:{},configNode:null,id:null,chart:null,reportName:null,renderMode:null,jsonUrl:null,chartPointer:null,refreshAfterResize:!1,debugUrl:null,isUnderSE:null,inputElement:null,changeFlagElement:null,mask:null,restoreSelectionForSeriesIndex:null,maxVisiblePoints:null,refreshTimers:[],drillTo:null,currentDrillTo:null,initializer:function(e){this._parseHTMLConfig(),this.configNode.setData(TRIGGER,this);var t=this.extractOptionsFromHtmlNode(this.configNode);this._handlers.chartError=Highcharts.addEvent(this.configNode.getDOMNode(),"error",Y.LogiXML.ChartCanvas.handleError),this._handlers.setSize=this.configNode.on("setSize",this.resized,this),this.initChart(t),this.isResponsive()&&this.subscribeToWindowResize()},isResponsive:function(){var e=this.configNode.getAttribute("style"),t=this.configNode.getStyle("width");return e.indexOf("width")>-1?t.indexOf("%")>-1?!0:!1:!0},subscribeToWindowResize:function(){window.LogiXML.chartCanvasWindowResize||(window.LogiXML.chartCanvasWindowResize=Y.on("windowresize",function(){Y.LogiXML.ChartCanvas.reflowAllCharts()}))},responsiveResize:function(e,t){if(e.chart&&e.chart.container&&e.chart.options&&e.chart.options.chart){var n=Y.one(e.chart.container);n.hide();var r=e.configNode.get("offsetWidth");n.show(),e.chart.options.chart.width=r,e.chart.reflow()}},extractOptionsFromHtmlNode:function(e){var t=e.getAttribute("data-options"),n=this.parseJson(t);return n},rdUpdateChartData:function(e){var t="rdAjaxCommand=RefreshElement&rdRefreshElementID="+this.id+"&rdReport="+this.reportName+"&rdRequestForwarding=Form";t+="&rdChartRefreshType=UpdateData",t=this.attachRequestParams(t,e),rdAjaxRequest(t)},rdAppendChartData:function(e,t){this.maxVisiblePoints=t;var n="rdAjaxCommand=RefreshElement&rdRefreshElementID="+this.id+"&rdReport="+this.reportName+"&rdRequestForwarding=Form";n+="&rdChartRefreshType=AppendData",n=this.attachRequestParams(n,e),rdAjaxRequest(n)},attachRequestParams:function(e,t){if(t)for(var n in t)e+="&"+encodeURIComponent(n)+"="+encodeURIComponent(t[n]);return e},setChartDataFromRefreshElement:function(e){var t=this.extractOptionsFromHtmlNode(e),n=e.getAttribute("data-refresh-type");if(!n||n=="")n="UpdateData";e.getAttribute("bookmark-migration-finished")&&this.chart.renderTo.setAttribute("bookmark-migration-finished",e.getAttribute("bookmark-migration-finished")),this.rdSetChartData(t,n)},rdSetChartData:function(e,t,n){this.preProcessChartOptions(e);if(!t||t=="")t="UpdateData";!n&&this.maxVisiblePoints&&(n=this.maxVisiblePoints);switch(t){case"UpdateData":var r=0,i=e.series.length,s=0,o=this.chart.series.length,u;for(;r<i;r++){u=e.series[r].id;for(s=0;s<o;s++)this.chart.series[s].options.id==u&&e.series[r].data&&e.series[r].data.length&&this.chart.series[s].setData(e.series[r].data)}this.chart.setTitle(e.title,!0);break;case"AppendData":var r=0,i=e.series.length,s=0,o=this.chart.series.length,u;for(;r<i;r++){u=e.series[r].id;for(s=0;s<o;s++)if(this.chart.series[s].options.id==u){var a=e.series[r].visibleTimespan,f=0;if(a){var l=a.split(":"),c=l[0]*36e5+l[1]*6e4+l[2]*1e3,h=LogiXML.getTimestampWithoutClientOffset(new Date),p=new Date(h-c);for(var d=this.chart.series[s].data.length;d>=0;d--)this.chart.series[s].data[d]&&new Date(this.chart.series[s].data[d].x)<p&&f++;if(e.series[r].data)for(var v=0;v<e.series[r].data.length;v++){var m=e.series[r].data[v];f>0?(this.chart.series[s].addPoint(m,!1,!0),f--):this.chart.series[s].addPoint(m,!1,!1)}this.setRefreshTimerPreviousValue(),this.chart.xAxis[0].setExtremes(p,h)}else{if(n&&n>0){var g=this.chart.series[s].data.length,y=g-n;if(y>0)for(var d=0;d<y;d++)f++}if(e.series[r].data)for(var v=0;v<e.series[r].data.length;v++){var m=e.series[r].data[v];f>0?(this.chart.series[s].addPoint(m,!1,!0),f--):this.chart.series[s].addPoint(m,!1,!1)}}this.chart.xAxis&&this.chart.xAxis[0]&&(this.chart.xAxis[0].minRange=null),this.chart.redraw()}}break;default:throw"Refresh type is undefined"}this.postProcessChartOptions(e)},setRefreshTimerInitialDateRange:function(e){if(!e.series||e.series.length==0)return;var t=0,n=e.series.length,r,i=!1,s=!1;for(;t<n;t++){s=!1;var o=e.series[t];if(o.visibleTimespan){s=!0;var u=o.visibleTimespan,a=u.split(":"),f=a[0]*36e5+a[1]*6e4+a[2]*1e3,l=LogiXML.getTimestampWithoutClientOffset(new Date),c=new Date(l-f),h=LogiXML.getGuid();e.xAxis||(e.xAxis=[]),e.xAxis.length==0&&(e.xAxis.push({id:h,labels:{},title:{text:null},type:"datetime"}),o.xAxis=h),e.xAxis[0].min=c.getTime(),e.xAxis[0].max=(new Date(l)).getTime(),i=!0}if(o.refreshInterval){var p="rdAjaxCommand=RefreshElement&rdRefreshElementID="+this.id+"&rdRefreshSeriesTimerEvent=True"+"&rdChartRefreshType="+(s?"AppendData":"UpdateData")+"&rdChartCanvasId="+this.id+"&rdChartCanvasSeriesId="+o.id+"&rdReport="+this.reportName;this.refreshTimers.push(this.createRefreshInterval(p,o.refreshInterval))}}return i},createRefreshInterval:function(e,t){return setInterval(function(){rdAjaxRequestWithFormVars(e)},t)},setRefreshTimerPreviousValue:function(){if(!this.chart||!this.chart.series||!this.chart.series.length>0)return;var e=0,t=this.chart.series.length,n,r;for(;e<t;e++){var n=this.chart.series[e];if(n.userOptions&&n.userOptions.visibleTimespan){r=null,n.xData&&n.xData.length>0&&(r=n.xData[n.xData.length-1]);if(r){var i=n.userOptions.inputIdForLastValue;i&&this.getOrCreateInputElement(i).setAttribute("value",(new Date(r)).toISOString())}}}},destructor:function(){var e=this.configNode;this._clearHandlers(),this.chart.destroy(),e.setData(TRIGGER,null),this.drillInfoBreadcrumb&&this.drillInfoBreadcrumb.destroy()},_clearHandlers:function(){var e=this;Y.each(this._handlers,function(e){e&&(e.detach(),e=null)}),Y.each(this.refreshTimers,function(e){e&&clearTimeout(e)})},_parseHTMLConfig:function(){this.configNode=this.get("configNode"),this.id=this.configNode.getAttribute("id"),this.reportName=this.configNode.getAttribute("data-report-name"),this.renderMode=this.configNode.getAttribute("data-render-mode"),this.jsonUrl=this.configNode.getAttribute("data-json-url"),this.chartPointer=this.configNode.getAttribute("data-chart-pointer"),this.refreshAfterResize=this.configNode.getAttribute("data-refresh-after-resize")=="True",this.debugUrl=this.configNode.getAttribute("data-debug-url"),this.isUnderSE=this.configNode.getAttribute("data-under-se")},initChart:function(e){if(this.id){var t=this.id.replace(/_Row[0-9]+$/g,"").replace(/\./g,"\\.");Y.one("#rdResizerAttrs_"+t)&&rdInitHighChartsResizer&&rdInitHighChartsResizer(this.configNode.getDOMNode())}this.renderMode!="Skeleton"?this.createChart(e):(this.createChart(e),this.id!="rdMigrationGauge"&&this.chart.showLoading('<img src="rdTemplate/rdWait.gif" alt="loading..."></img>'),this.requestChartData(null,"createChart",!0))},preProcessChartOptions:function(e){e.series&&this.setActions(e.series),e.tooltip&&(e.tooltip.formatter=LogiXML.HighchartsFormatters.tooltipFormatter),e.chart.events||(e.chart.events={}),e.title&&e.title.text&&(e.title.text=LogiXML.decodeHtml(e.title.text,e.title.useHTML)),e.legend&&e.legend.title&&e.legend.title.text&&(e.legend.title.text=LogiXML.decodeHtml(e.legend.title.text,e.legend.labelFormat=="HTML")),e.legend&&e.legend.title&&e.legend.title.text&&(e.legend.title.text=LogiXML.decodeHtml(e.legend.title.text,e.legend.labelFormat=="HTML")),e.subtitle&&e.subtitle.text&&(e.subtitle.text=LogiXML.decodeHtml(e.subtitle.text,e.subtitle.useHTML));if(e.series&&e.series.length>0)for(a=0;a<e.series.length;a++){var t=e.series[a];t.name&&(t.name=LogiXML.decodeHtml(t.name,!0));var n=t.data;for(var r=0;n&&r<n.length;r++)if(n[r].name)if(t.xAxis){var i;for(var s=0;s<e.xAxis.length;s++)if(e.xAxis[s].id==t.xAxis){i=e.xAxis[s];break}n[r].name=LogiXML.decodeHtml(n[r].name,i&&i.labels&&i.labels.format==="HTML")}else n[r].name=LogiXML.decodeHtml(n[r].name,e.xAxis[0]&&e.xAxis[0].labels&&e.xAxis[0].labels.format==="HTML")}if(e.series&&e.series.length>0)for(a=0;a<e.series.length;a++){var t=e.series[a];t.name&&(t.name=LogiXML.decodeHtml(t.name));var n=t.data;for(var r=0;n&&r<n.length;r++)n[r].name&&(n[r].name=LogiXML.decodeHtml(n[r].name))}if(e.chart.type=e.yAxis&&e.yAxis.length>0&&e.yAxis[0].lineColor&&e.yAxis[0].plotBands&&e.yAxis[0].plotBands.length>0){var o={},u=e.yAxis[0];o.color=u.lineColor,o.from=u.min,o.to=u.max,o.thickness=u.lineWidth,u.lineColor="transparent",u.plotBands.unshift(o)}if(e.xAxis&&e.xAxis.length>0)for(var a=0;a<e.xAxis.length;a++){var u=e.xAxis[a];u.title&&u.title.text&&(u.title.text=LogiXML.decodeHtml(u.title.text));var f=u.plotBands;if(f)for(var s=0;s<f.length;s++){var l=f[s];l&&l.label&&l.label.text&&(l.label.text=LogiXML.decodeHtml(l.label.text,l.label.format=="HTML"))}var c=u.plotLines;if(c)for(s=0;s<c.length;s++){var h=c[s];h&&h.label&&h.label.text&&(h.label.text=LogiXML.decodeHtml(h.label.text,h.label.format=="HTML"))}}if(e.yAxis&&e.yAxis.length>0)for(a=0;a<e.yAxis.length;a++){var u=e.yAxis[a];u.title&&u.title.text&&(u.title.text=LogiXML.decodeHtml(u.title.text));var f=u.plotBands;if(f)for(var s=0;s<f.length;s++){var l=f[s];l&&l.label&&l.label.text&&(l.label.text=LogiXML.decodeHtml(l.label.text,l.label.format=="HTML"))}var c=u.plotLines;if(c)for(s=0;s<c.length;s++){var h=c[s];h&&h.label&&h.label.text&&(h.label.text=LogiXML.decodeHtml(h.label.text,h.label.format=="HTML"))}}if(e.quicktips&&e.quicktips.length>0)for(a=0;a<e.quicktips.length;a++)if(e.quicktips[a].rows&&e.quicktips[a].rows.length>0)for(var r=0;r<e.quicktips[a].rows.length;r++){var p=e.quicktips[a].rows[r];p&&p.caption&&(p.caption=LogiXML.decodeHtml(p.caption,p.format=="HTML"))}LogiXML.HighchartsFormatters.setFormatters(e),this.preProcessDrillTo(e)},postProcessChartOptions:function(e){e.quicktips&&this.setQuicktipsData(e.quicktips),this.disableSelectionForExcludedPoints(),this.setCursorForAreaSelection(),this.disableSelectionForExcludedDrillTo()},createChart:function(e,t){this.configNode.fire("beforeCreateChart",{id:this.id,options:e,chartCanvas:this,chart:this.chart});var n;this.chart&&(n=this.chart.viewstates,this.chart.destroy());var r=this.configNode.getAttribute("data-width"),i=this.configNode.getAttribute("data-height");r>0&&i>0&&(e.chart.width=r,e.chart.height=i,t&&(this.configNode.removeAttribute("data-width"),this.configNode.removeAttribute("data-height"))),t||this.fixupAfChartHeight(this.configNode,e),e.chart.renderTo=this.configNode.getDOMNode(),this.preProcessChartOptions(e),this.setSelection(e);var s=this.setRefreshTimerInitialDateRange(e);if(e.chart.options3d&&e.series){var o=!1;for(var u=0;u<e.series.length;u++)if(e.series[u].type=="pie"){o=!0;break}o&&(e.plotOptions||(e.plotOptions={}),e.plotOptions.pie||(e.plotOptions.pie={}),e.plotOptions.pie.depth=e.chart.options3d.depth)}e.isChartCanvas=!0,this.chart=new Highcharts.Chart(e),s&&this.setRefreshTimerPreviousValue(),this.chart.options3d=e.chart.options3d,this.chart.options3d&&(this.chart.options3d.disableDragging||(addRotationMouseEvents(this.chart),saveOptions3DState&&(saveRotationStateFunc=saveOptions3DState))),n&&(this.chart.viewstates=n),this.postProcessChartOptions(e),e.autoQuicktip===!1&&(this.chart.autoQuicktip=!1),this.restoreSelectionForSeriesIndex!==null&&(this.syncSelectedValues(this.chart.series[this.restoreSelectionForSeriesIndex]),this.restoreSelectionForSeriesIndex=null),typeof setChartStateEventHandlers!="undefined"&&setChartStateEventHandlers(this.chart);if(t&&!this.chart.viewstates){var a=document.getElementById("rdBookmarkReqId_"+this.chart.userOptions.id+"_viewstates");a&&(this.chart.viewstates=a.innerHTML)}if(typeof this.chart.container!="undefined"){var f=Y.one(this.chart.container).all("*[id^=customButton_]");f.each(function(e){e.setStyle("display","none")});var l=Y.one(this.chart.container).one("#customButton_DrillBack");l&&(this.drillTo&&this.drillTo.drilledToStates&&this.drillTo.drilledToStates.length>0?(LogiXML.features.touch&&l.setStyle("display",""),l.setAttribute("collapsed-button","False")):l&&l.setAttribute("collapsed-button","True"));var c=Y.one(this.chart.container).one("#customButton_ResetZoom");c&&c.setAttribute("collapsed-button","True");var h=Y.one(this.chart.container).one("#customButton_ChartExport");h&&LogiXML.features.touch&&h.setStyle("display",""),typeof restoreChartState!="undefined"&&restoreChartState(this.chart),this.chart.chartCanvas=this;if(this.chart.angular&&this.chart.panes&&this.chart.panes.length>0&&this.chart.options.series.length>0&&this.chart.options.series[0].events){var p=Y.one(this.chart.renderTo).all("path"),d=this.chart.panes[0].options;if(d.background&&d.background.length>0){var v=d.background[0];v.backgroundColor&&(p=p.filter(function(){return Y.one(this).getAttribute("fill").toLowerCase()==v.backgroundColor.toLowerCase()})),v.borderColor&&(p=p.filter(function(){return Y.one(this).getAttribute("stroke").toLowerCase()==v.borderColor.toLowerCase()})),v.borderWidth&&(p=p.filter("[stroke-width='"+v.borderWidth+"']"));if(p&&p._nodes&&p._nodes.length==1&&this.chart.series&&this.chart.series.length>0&&this.chart.series[0].points&&this.chart.series[0].points.length>0){var m=this.chart,g=p._nodes[0];Highcharts.addEvent(g,"click",function(e){m.hoverPoint=m.series[0].points[0],Y.one(m.series[0].group.element).simulate("click",e),m.hoverPoint=null}),g.style.cursor="pointer"}}}}var y=this.configNode.ancestor(".rdBrowserBorn");y&&y.setAttribute("data-rdBrowserBornReady","true"),this.configNode.fire("afterCreateChart",{id:this.id,options:e,chartCanvas:this,chart:this.chart})},fixupAfChartHeight:function(e,t){var n=this.configNode.ancestor(".rdDashboardPanel");if(n){var r=t.chart.height;if(t.chart.height!=r){var i=n.one(".chartfx-wrapper");if(i){var s=i.getAttribute("afResized");s||(t.chart.height=r,i.set("offsetHeight",r),i.setAttribute("afResized",!0))}}}},requestChartData:function(e,t,n,r,i){var s=e?e:this.jsonUrl;this.chart&&t!="createChart"&&(s+="&rdDynamicChartWidth="+this.chart.chartWidth,s+="&rdDynamicChartHeight="+this.chart.chartHeight),s+="&guid="+LogiXML.getGuid(),t||(t="createChart"),this.configNode.fire("beforeRequestData",{id:this.id,chartCanvas:this,chart:this.chart,dataUrl:s}),Y.io(s,{on:{success:function(e,s){var o=this.parseJson(s.responseText);this.configNode.fire("afterRequestData",{id:this.id,chartCanvas:this,chart:this.chart,options:o}),o&&this[t](o,n,r,i)},failure:function(e,t,n){this.showError("ERROR "+e+" "+n)}},context:this})},parseJson:function(jsonString){var obj;try{var reportDevPrefix="rdChart error;",redirectPrefix="redirect:";if(jsonString.startsWith(reportDevPrefix)){this.debugUrl=jsonString.substring(reportDevPrefix.length),this.debugUrl&&this.debugUrl.startsWith(redirectPrefix)&&(this.debugUrl=this.debugUrl.substring(redirectPrefix.length)),this.showError();return}document.URL&&document.URL.indexOf("file:")!=-1?(eval("window.tmp="+jsonString+";"),obj=window.tmp):obj=Y.JSON.parse(jsonString),LogiXML.EventBus&&LogiXML.EventBus.ChartCanvasEvents&&LogiXML.EventBus.ChartCanvasEvents().fire("load",{id:this.id,options:obj})}catch(e){this.showError("JSON parse failed: "+jsonString);return}return obj},setSelection:function(e){if(!e.series||e.series.length==0)return;var t,n,r=0,i=e.series.length,s=this;e.chart.events||(e.chart.events={});for(;r<i;r++){t=e.series[r];if(t.selection){n=t.selection,n.mode!="Range"&&(t.marker.enabled=!0),t.events||(t.events={});var o;switch(n.selectionType){case"ClickSinglePoint":case"ClickMultiplePoints":case"ClickRangePoints":t.allowPointSelect=n.isReadOnly!==!0,t.accumulate=n.selectionType!="ClickSinglePoint",this.syncSelectedValues(t),t.allowPointSelect&&(t.events.pointselection=function(e){return s.pointsSelected(e.target,!0,e),!1},e.chart.events.click=function(e){var t=Y.one(e.target);(!t||!t.ancestor(".highcharts-button"))&&s.destroySelection(e,!0)});break;case"Area":case"AreaXAxis":case"AreaYAxis":if(n.isReadOnly!==!0){switch(n.selectionType){case"AreaXAxis":e.chart.zoomType="x",o="ew-resize";break;case"AreaYAxis":e.chart.zoomType="y",o="ns-resize";break;default:e.chart.zoomType="xy",o="crosshair"}t.accumulate=!0,e.chart.events.selection=function(e){return s.selectionDrawn(e,!0),!1},e.chart.events.redraw=function(e){s.chartRedrawn(e)},e.chart.events.selectionStarted=function(e){e.selectionMarker.attr({cursor:o}),s.chart.plotBackground.element.style.cursor=o,s.destroySelection()}}n.mode=="Point"?this.syncSelectedValues(t,r):this.restoreSelectionForSeriesIndex=r,e.chart.customSelection=!0,n.disableClearSelection||(e.chart.events.click=function(e){var t=Y.one(e.target);(!t||!t.ancestor(".highcharts-button"))&&s.destroySelection(e,!0)})}}}},setCursorForAreaSelection:function(){if(!this.chart.series||this.chart.series.length==0)return;var e,t=0,n=this.chart.series.length;for(;t<n;t++)e=this.chart.series[t],e.options.selection&&e.options.selection.selectionType.indexOf("Area")!=-1&&e.options.cursor&&(this.chart.plotBackground.element.style.cursor=e.options.cursor,this.plotBackgroundCursor=e.options.cursor)},disableSelectionForExcludedPoints:function(){if(!this.chart.series||this.chart.series.length==0)return;var e,t,n=0,r=this.chart.series.length,i=0,s=0;for(;n<r;n++){e=this.chart.series[n];if(e.options.selection&&e.options.selection.excludedPointValues&&e.options.selection.excludedPointValues.length>0){t=e.options.selection,i=0,s=e.data.length;for(;i<s;i++)e.data[i].graphic&&t.excludedPointValues.indexOf(e.data[i].id)!=-1&&e.data[i].graphic.attr({cursor:"default"})}}},disableSelectionForExcludedDrillTo:function(){if(!this.chart.series||this.chart.series.length==0||!this.chart.options.drillTo)return;var e,t,n=0,r=this.chart.series.length,i=0,s=0;for(;n<r;n++){e=this.chart.series[n];if(this.chart.options.drillTo.excludedPointValues&&this.chart.options.drillTo.excludedPointValues.length>0){i=0,s=e.data.length;for(;i<s;i++)e.data[i].graphic&&this.chart.options.drillTo.excludedPointValues.indexOf(e.data[i].name?e.data[i].name:e.data[i].x)!=-1&&e.data[i].graphic.attr({cursor:"default"})}}},pointsSelected:function(e,t,n,r){var i=e.options.selection,s,o,u,a,f,l;if(!i)return;if(this.disableNestedEvents)return;if(i.excludedPointValues&&i.excludedPointValues.length>0&&n&&i.excludedPointValues.indexOf(n.id)!=-1){var c=!n.selected;n.selected=n.options.selected=c,n.setState(c&&"select");return}if(t&&i.deffered&&!r&&n.options){var c=!n.selected;n.selected=n.options.selected=c,n.setState(c&&"select"),this.defferedSelectedPoint=n;return}if(t&&i.deffered&&r&&this.defferedSelectedPoint){var c=!this.defferedSelectedPoint.selected;this.defferedSelectedPoint.selected=this.defferedSelectedPoint.options.selected=c,this.defferedSelectedPoint.setState(c&&"select")}var h=e.type==="treemap",p=h?{}:[];if(h){this.getSelectedValuesForTreemap(e,p);var d=p.length;for(var v in p){var m=p[v];s=this.getOrCreateInputElement(v),a=this.getInputElementValue(s),f=m.join(","),a!=f&&(this.setInputElementValue(s,f),LogiXML.rdInputTextDelimiter&&(o=this.getOrCreateInputElement("rdCSV_"+v),l=LogiXML.rdInputTextDelimiter.delimit(m,",",'"',"\\"),this.setInputElementValue(o,l)),i.changeFlagElementId&&i.changeFlagElementId.length>0&&(u=this.getOrCreateInputElement(i.changeFlagElementId),u.set("value","True")),t&&(HighchartsAdapter.fireEvent(e,"selectionChange",null),f==""?HighchartsAdapter.fireEvent(e,"selectionCleared",null):HighchartsAdapter.fireEvent(e,"selectionMade",null)))}}else{this.getSelectedValues(e,p);if(i.valueElementId&&i.valueElementId.length>0){s=this.getOrCreateInputElement(i.valueElementId),a=this.getInputElementValue(s),f=p.join(",");var g=null;if(a!=f){this.setInputElementValue(s,f),LogiXML.rdInputTextDelimiter&&(l=LogiXML.rdInputTextDelimiter.delimit(p,",",'"',"\\"),o=this.getOrCreateInputElement("rdCSV_"+i.valueElementId),this.setInputElementValue(o,l)),i.changeFlagElementId&&i.changeFlagElementId.length>0&&(u=this.getOrCreateInputElement(i.changeFlagElementId),u.set("value","True"));var y=p[0],b=p[p.length-1];if(n&&i.selectionType=="ClickRangePoints"&&y!=b){this.disableNestedEvents=!0;if(!n.selected&&e.points[n.index-1]&&e.points[n.index-1].selected&&e.points[n.index+1]&&e.points[n.index+1].selected){var w=window.LogiXML["chart_"+this.id+"_clickedValue"];w&&(g=this.getPointById(e,w)),g||(g=this.getPointById(e,b)),g.index>n.index?this.changeSelection(e,y,n.id,!0):this.changeSelection(e,n.id,b,!0),p=[],this.getSelectedValues(e,p)}y=p[0],b=p[p.length-1],y!=b&&this.changeSelection(e,y,b,!0),p=[],this.getSelectedValues(e,p),f=p.join(","),LogiXML.rdTextInputDelimiter&&(l=LogiXML.rdInputTextDelimiter.delimit(p,",",'"',"\\")),this.setInputElementValue(s,f),o&&this.setInputElementValue(o,l),this.disableNestedEvents=!1}n&&(window.LogiXML["chart_"+this.id+"_clickedValue"]=n.id),t&&(HighchartsAdapter.fireEvent(e,"selectionChange",null),f==""?HighchartsAdapter.fireEvent(e,"selectionCleared",null):HighchartsAdapter.fireEvent(e,"selectionMade",null))}}}},pointSelectedDeffered:function(e){},getPointById:function(e,t){for(var n=0;n<e.points.length;n++)if(e.points[n].id==t)return e.points[n];return null},changeSelection:function(e,t,n){var r=!1;for(var i=0;i<e.points.length;i++){var s=e.points[i];s.id==t&&(r=!0),s.selected=r,s.setState(r&&"select"),s.id==n&&(r=!1)}},getSelectedValues:function(e,t){var n,r,i,s,o=e.points.length,u=e.options.selection,a=[];u&&u.excludedPointValues&&u.excludedPointValues.length>0&&(a=u.excludedPointValues);for(s=0;s<o;s++)n=e.points[s],n.selected&&(i=n.id||"",r=t.indexOf(i),r==-1&&a.indexOf(i)==-1&&t.push(i))},getSelectedValuesForTreemap:function(e,t){var n,r,i=0,s=e.points.length;for(r=0;r<s;r++)n=e.points[r],this.getSelectedValuesForTreemapPoint(n,t)},getSelectedValuesForTreemapPoint:function(e,t){var n,r;for(var i=0;i<e.children.length;i++)this.getSelectedValuesForTreemapPoint(e.children[i],t);if(e.selectable)if(e.selected)r=e.id||"",n=t[e.selectionId],n===undefined||t[e.selectionId][0]===""?t[e.selectionId]=[r]:t[e.selectionId].push(r);else if(!t[e.selectionId]||!t[e.selectionId].length)t[e.selectionId]=[""]},rangeSelected:function(e,t,n,r,i,s,o){var u,a=0,f=e.points.length,l=e.options.selection,c,h,p=[];if(!l)return;if(l.mode=="Point"){l&&l.excludedPointValues&&l.excludedPointValues.length>0&&(p=l.excludedPointValues);for(;a<f;a++)u=e.points[a],l.selectionType=="AreaXAxis"&&u.x>=t&&u.x<=n||l.selectionType=="AreaYAxis"&&u.y>=r&&u.y<=i||u.x>=t&&u.x<=n&&u.y>=r&&u.y<=i?(h=u.id||"",p.indexOf(h)==-1&&(u.selected=!0,u.setState("select"))):(u.selected=!1,u.setState(!1));this.pointsSelected(e,o);return}e.xAxis.isDatetimeAxis?(t=t==null?"":LogiXML.Formatter.formatDate(t,"U"),n=n==null?"":LogiXML.Formatter.formatDate(n,"U")):e.xAxis.categories&&e.xAxis.names.length>0?(t!==null&&(t=Math.max(0,Math.round(t)),e.xAxis.names.length>t&&(t=e.xAxis.names[t])),n!==null&&(n=Math.min(e.xAxis.names.length-1,Math.round(n)),e.xAxis.names.length>n&&(n=e.xAxis.names[n]))):t!=null&&n!=null&&(t=parseFloat(t.toPrecision(3)),n=parseFloat(n.toPrecision(3))),e.yAxis.isDatetimeAxis?(r=r==null?"":LogiXML.Formatter.formatDate(r,"U"),i=i==null?"":LogiXML.Formatter.formatDate(i,"U")):e.yAxis.categories&&e.yAxis.names.length>0?(r!==null&&(r=Math.max(0,Math.round(r)),e.yAxis.names.length>r&&(r=e.yAxis.names[r])),i!==null&&(i=Math.min(e.yAxis.names.length-1,Math.round(i)),e.yAxis.names.length>i&&(i=e.yAxis.names[i]))):r!=null&&i!=null&&(r=parseFloat(r.toPrecision(3)),i=parseFloat(i.toPrecision(3))),t===null&&(t=""),n===null&&(n=""),r===null&&(r=""),i===null&&(i=""),l.changeFlagElementId&&l.changeFlagElementId.length>0&&(c=this.getOrCreateInputElement(l.changeFlagElementId),c.set("value","True"));if(o){l.minXElementId&&l.minXElementId.length>0&&(c=this.getOrCreateInputElement(l.minXElementId),c.set("value",t)),l.maxXElementId&&l.maxXElementId.length>0&&(c=this.getOrCreateInputElement(l.maxXElementId),c.set("value",n)),l.minYElementId&&l.minYElementId.length>0&&(c=this.getOrCreateInputElement(l.minYElementId),c.set("value",r)),l.maxYElementId&&l.maxYElementId.length>0&&(c=this.getOrCreateInputElement(l.maxYElementId),c.set("value",i));var d={rect:s,xMin:t,xMax:n,yMin:r,yMax:i};HighchartsAdapter.fireEvent(e,"selectionChange",d),HighchartsAdapter.fireEvent(e,"selectionMade",d)}},getOrCreateInputElement:function(e){var t=Y.one("input[name='"+e+"'],select[name='"+e+"']");return t===null&&(t=Y.Node.create('<input type="hidden" name="'+e+'" id="'+e+'" />'),this.configNode.ancestor().appendChild(t)),t},getInputElementValue:function(e){var t=e.getAttribute("type"),n=[];switch(t){case"checkbox":case"radio":Y.all("input[name='"+e.getAttribute("name")+"']").each(function(e){e.get("checked")&&n.push(e.get("value"))});if(LogiXML.rdInputTextDelimiter)return LogiXML.rdInputTextDelimiter.delimit(n,",",'"',"\\");return n.join(",");default:return e.get("nodeName").toLowerCase()=="select"?(e.all("option").each(function(e){e.get("selected")&&n.push(e.get("value"))}),LogiXML.rdInputTextDelimiter?LogiXML.rdInputTextDelimiter.delimit(n,",",'"',"\\"):n.join(",")):e.get("value")}return""},setInputElementValue:function(e,t){var n=e.getAttribute("type"),r;LogiXML.rdInputTextDelimiter?r=LogiXML.rdInputTextDelimiter.getEntries(t,",",'"',"\\",!1):r=t.split(",");switch(n){case"checkbox":case"radio":Y.all("input[name='"+e.getAttribute("name")+"']").each(function(e){r.indexOf(e.get("value"))!=-1?e.set("checked",!0):e.set("checked",!1)});break;default:if(e.get("nodeName").toLowerCase()!="select")return e.set("value",t);e.all("option").each(function(e){r.indexOf(e.get("value"))!=-1?e.set("selected",!0):e.set("selected",!1)})}return""},destroySelection:function(e,t){var n=0,r=0,i=this.chart.series.length,s,o,u,a,f=!1,l=!1;this.rangeSelection&&(f=!0);for(;n<i;n++){u=this.chart.series[n],a=u.options.selection;if(!a)continue;switch(a.mode){case"Range":!l&&u.options.selection.disableClearSelection===!0&&(l=!0),l||f&&t&&(this.rangeSelected(u,null,null,null,null,null,t),HighchartsAdapter.fireEvent(u,"selectionCleared",null));break;default:if(t){r=0,s=u.points.length;for(;r<s;r++)o=u.points[r],o.selected&&(o.selected=!1,o.setState(!1));this.pointsSelected(u,t,e)}}}f&&!l&&(this.rangeSelection.destroy(),this.rangeSelection=null)},selectionDrawn:function(e,t,n){var r=this,i=this.chart.options.chart.zoomType;return this.chart.inverted&&(i=i=="x"?"y":i=="y"?"x":i),n||(this.chart.plotBackground.element.style.cursor=this.plotBackgroundCursor,this.rangeSelection=new Y.LogiXML.ChartCanvasRangeSelection({callback:function(e){r.selectionChanged(e,!0)},configNode:this.configNode,maskRect:e.selectionBox,constrainRect:this.chart.plotBox,maskType:i,fillColor:this.chart.options.chart.selectionMarkerFill||"rgba(69,114,167,0.25)",isReadOnly:e.isReadOnly})),this.selectionChanged(e.selectionBox,t),!1},chartRedrawn:function(e){var t=e.target,n=t.oldChartWidth,r=t.oldChartHeight,i=t.chartHeight,s=t.chartWidth,o,u,a=t.options.chart.zoomType,f=0,l=t.series.length,c,h;n&&n!=s&&(o=s-n),r&&r!=i&&(u=i-r);if(a&&this.rangeSelection&&(o||u))for(;f<l;f++){c=this.chart.series[f],h=c.options.selection;if(!h)continue;h.mode=="Range"?this.syncSelectedValues(c):h.mode=="Point"&&(h.selectionType=="ClickSinglePoint"||h.selectionType=="ClickMultiplePoints"||h.selectionType=="ClickRangePoints")&&this.rangeSelection&&this.destroySelection()}},selectionChanged:function(e,t){var n,r,i,s,o=0,u=0,a=this.chart.series.length,f,l,c,h,p;for(;o<a;o++){c=this.chart.series[o],h=c.options.selection;if(!h||h.selectionType=="ClickSinglePoint"||h.selectionType=="ClickMultiplePoints")continue;h.disableClearSelection&&(this.chart.pointer.zoomX=!1,this.chart.pointer.zoomY=!1);if(this.chart.inverted)switch(h.selectionType){case"AreaXAxis":n=c.xAxis.toValue(e.y+e.height),r=c.xAxis.toValue(e.y),i=null,s=null;break;case"AreaYAxis":n=null,r=null,i=c.yAxis.toValue(e.x),s=c.yAxis.toValue(e.x+e.width);break;default:n=c.xAxis.toValue(e.y+e.height),r=c.xAxis.toValue(e.y),i=c.yAxis.toValue(e.x),s=c.yAxis.toValue(e.x+e.width)}else switch(h.selectionType){case"AreaXAxis":n=c.xAxis.toValue(e.x),r=c.xAxis.toValue(e.x+e.width),i=null,s=null;break;case"AreaYAxis":n=null,r=null,i=c.yAxis.toValue(e.y+e.height),s=c.yAxis.toValue(e.y);break;default:n=c.xAxis.toValue(e.x),r=c.xAxis.toValue(e.x+e.width),i=c.yAxis.toValue(e.y+e.height),s=c.yAxis.toValue(e.y)}this.rangeSelected(c,n,r,i,s,e,t)}},syncSelectedValues:function(e,t){var n=e.options?e.options.selection:e.selection,r,i,s,o,u,a=0,f,l,c,h,p,d,v,m,g,y;if(!n)return;if(n.mode=="Point"){if(!n.valueElementId||n.valueElementId.length==0)return;r=this.getOrCreateInputElement(n.valueElementId);if(!r)return;s=this.getInputElementValue(r);if(!s||s.length==0)return;LogiXML.rdInputTextDelimiter?(i=this.getOrCreateInputElement("rdCSV_"+n.valueElementId),delimitedValue=this.getInputElementValue(i),delimitedValue||(delimitedValue=s),o=LogiXML.rdInputTextDelimiter.getEntries(delimitedValue,",",'"',"\\",!1)):o=s.split(",");switch(n.selectionType){case"ClickSinglePoint":case"ClickMultiplePoints":f=e.data?e.data.length:0,a=0;for(;a<f;a++)u=e.data[a].id,o.indexOf(u)!=-1&&(e.data[a].selected=!0,e.type=="pie"&&(e.data[a].sliced=!0));break;case"ClickRangePoints":if(o.length>0){l=o[0],c=o[o.length-1];if(l&&l!=""&&c&&c!=""){if(!e.xAxis){this.restoreSelectionForSeriesIndex=a;return}d=this.getSelectionBox(e,l,c,null,null)}this.selectionDrawn({selectionBox:d,isReadOnly:n.isReadOnly},!1,!0)}break;case"Area":case"AreaXAxis":case"AreaYAxis":if(o.length>0){l=o[0],c=o[o.length-1];if(l&&l!=""&&c&&c!=""){if(!e.xAxis){this.restoreSelectionForSeriesIndex=a;return}d=this.getSelectionBox(e,l,c,null,null)}this.selectionDrawn({selectionBox:d,isReadOnly:n.isReadOnly},!1)}}}if(n.mode=="Range")if(n.RestoreSelection)n.SelectedValues[0]&&(l=n.SelectedValues[0]),n.SelectedValues[1]&&(h=n.SelectedValues[1]),n.SelectedValues[2]&&(c=n.SelectedValues[2]),n.SelectedValues[3]&&(p=n.SelectedValues[3]),d=this.getSelectionBox(e,l,c,h,p),e.chart.renderer.rect(d.x,d.y,d.width,d.height,5).attr({fill:this.chart.options.chart.selectionMarkerFill||"rgba(69,114,167,0.25)"}).add();else{n.minXElementId&&n.minXElementId.length>0&&(r=this.getOrCreateInputElement(n.minXElementId),l=r.get("value")),n.maxXElementId&&n.maxXElementId.length>0&&(r=this.getOrCreateInputElement(n.maxXElementId),c=r.get("value")),n.minYElementId&&n.minYElementId.length>0&&(r=this.getOrCreateInputElement(n.minYElementId),h=r.get("value")),n.maxYElementId&&n.maxYElementId.length>0&&(r=this.getOrCreateInputElement(n.maxYElementId),p=r.get("value"));if(n.mode=="Range"&&n.selectionType=="Area"&&(!l||l==""||!h||h==""||!c||c==""||!p||p==""))return;if(l&&l!=""||h&&h!="")d=this.getSelectionBox(e,l,c,h,p),this.rangeSelection&&this.destroySelection(),this.selectionDrawn({selectionBox:d,isReadOnly:n.isReadOnly},!1)}},checkDateStringForTimeZone:function(e){return e&&e.length==19&&e.indexOf("Z")==-1&&(e+="Z"),e},getSelectionBox:function(e,t,n,r,i){var s={},o,u,a,f,l,c;e.xAxis.isDatetimeAxis?(t=t&&t!=""?new Date(this.checkDateStringForTimeZone(t)):null,n=n&&n!=""?new Date(this.checkDateStringForTimeZone(n)):null):e.xAxis.categories===!0&&(t=e.xAxis.names.indexOf(t),t=t==-1?null:t,n=e.xAxis.names.indexOf(n),n=n==-1?null:n),e.yAxis.isDatetimeAxis?(r=r&&r!=""?new Date(r):null,i=i&&i!=""?new Date(i):null):e.yAxis.categories===!0&&(r=e.yAxis.names.indexOf(r),r=r==-1?null:r,i=e.yAxis.names.indexOf(i),i=i==-1?null:i),o=e.xAxis.toPixels(t!=null&&t.toString()!=""?t:e.xAxis.getExtremes().min),u=e.xAxis.toPixels(n!=null&&n.toString()!=""?n:e.xAxis.getExtremes().max),a=e.yAxis.toPixels(r!=null&&r.toString()!=""?r:e.yAxis.getExtremes().min),f=e.yAxis.toPixels(i!=null&&i.toString()!=""?i:e.yAxis.getExtremes().max);if(e.chart.inverted){if(isNaN(o)||o>e.xAxis.toPixels(e.xAxis.getExtremes().min))o=e.xAxis.toPixels(e.xAxis.getExtremes().min);if(isNaN(u)||u<e.xAxis.toPixels(e.xAxis.getExtremes().max))u=e.xAxis.toPixels(e.xAxis.getExtremes().max);if(isNaN(a)||a<e.yAxis.toPixels(e.yAxis.getExtremes().min))a=e.yAxis.toPixels(e.yAxis.getExtremes().min);if(isNaN(f)||f>e.yAxis.toPixels(e.yAxis.getExtremes().max))f=e.yAxis.toPixels(e.yAxis.getExtremes().max)}else{if(isNaN(o)||o<e.xAxis.toPixels(e.xAxis.getExtremes().min))o=e.xAxis.toPixels(e.xAxis.getExtremes().min);if(isNaN(u)||u>e.xAxis.toPixels(e.xAxis.getExtremes().max))u=e.xAxis.toPixels(e.xAxis.getExtremes().max);if(isNaN(a)||a>
e.yAxis.toPixels(e.yAxis.getExtremes().min))a=e.yAxis.toPixels(e.yAxis.getExtremes().min);if(isNaN(f)||f<e.yAxis.toPixels(e.yAxis.getExtremes().max))f=e.yAxis.toPixels(e.yAxis.getExtremes().max)}return this.chart.inverted?(s.x=a,s.width=f-s.x,s.y=u,s.height=o-s.y):(s.x=o,s.width=u-s.x,s.y=f,s.height=a-s.y),s},setQuicktipsData:function(e){if(!e&&e.length==0)return;var t=0,n=e.length;for(var t=0;t<n;t++)this.chart.series[e[t].index].quicktip=e[t]},setActions:function(e){var t=0,n=e.length,r;for(;t<n;t++){r=e[t];if(r.events)for(var i in r.events)Lang.isString(r.events[i])&&(r.events[i]=function(e){e.type=="click"?setTimeout(this.fun,10,e):this.fun(e)}.bind({fun:new Function("e",r.events[i])}))}},updateChartOptions:function(e,t,n){this.chart.userOptions=e,this[t](n)},resized:function(e){if(this.chart&&this.chart.options)if(!this.chart.userOptions.series)this.requestChartData(null,"updateChartOptions","resized",e);else{var t=e.width==null,n=e.height==null,r=e.width>0?e.width:this.chart.chartWidth,i=e.height>0?e.height:this.chart.chartHeight,s=this.chart.userOptions.series[0].type.indexOf("gauge")>-1&&this.chart.userOptions.series[0].type!=="numbergauge";this.chart.userOptions.series[0].type.indexOf("bulletgauge")>-1&&(this.chart.animation=!this.chart.animation),r=parseInt(r,10),i=parseInt(i,10),t?(this.chart.options.chart.height=i,this.chart.reflow()):this.chart.setSize(r,i);if(e.finished){if(s){this.chart.animation=!0;var o=this.chart.userOptions;o.chart.width=r,o.chart.height=i,this.createChart(o),this.chart.angular||(t?(this.chart.options.chart.height=i,this.chart.reflow()):this.chart.setSize(r,i))}var u=null;if(this.refreshAfterResize==1)this.requestChartData(this.jsonUrl+"&rdResizerNewWidth="+r+"&rdResizerNewHeight="+i+"&rdResizer=True","createChart"),u="rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=SetElementSize&rdWidth="+r+"&rdHeight="+i+"&rdElementId="+this.id+"&rdReport="+this.reportName+"&rdRequestForwarding=Form";else if(this.refreshAfterResize)u="rdAjaxCommand=RefreshElement&rdRefreshElementID="+this.id+"&rdWidth="+r+"&rdHeight="+i+"&rdReport="+this.reportName+"&rdResizeRequest=True&rdRequestForwarding=Form";else if(e.notify===undefined||e.notify==1)u="rdAjaxCommand=rdAjaxNotify&rdNotifyCommand=SetElementSize&rdWidth="+r+"&rdHeight="+i+"&rdElementId="+this.id+"&rdReport="+this.reportName+"&rdRequestForwarding=Form";u!==null&&(this.isUnderSE==="True"&&(u+="&rdUnderSuperElement=True"),document.getElementById("rdFreeformLayout")&&(u+="&rdFreeformLayout=True",console.log("width: "+r),console.log("height: "+i)),rdAjaxRequest(u))}}},showError:function(e){this.chart&&this.chart.destroy(),!e&&this.debugUrl==""&&(e="<img src='rdTemplate/rdChartError.gif'>");if(e){var t=Y.Node.create("<span style='color:red'></span>");t.setHTML(e),this.configNode.append(t)}else{var n,r;n=document.createElement("A"),n.href=this.debugUrl,r=document.createElement("IMG"),r.src="rdTemplate/rdChartError.gif",n.appendChild(r),this.configNode.append(n)}},preProcessDrillTo:function(e){if(!e.drillTo)return;this.drillTo=e.drillTo;var t=[],n;if(this.drillTo.usedColumnIndexes.length>0)for(n=0;n<this.drillTo.usedColumnIndexes.length;n++){if(this.drillTo.usedColumnIndexes[n]==-1)continue;n==0?this.addDateGroupingIntoDrilledColumn(this.drillTo.drillToColumns[this.drillTo.usedColumnIndexes[n]].DataColumn,this.drillTo.currentDateGrouping,t):this.addDateGroupingIntoDrilledColumn(this.drillTo.drillToColumns[this.drillTo.usedColumnIndexes[n]].DataColumn,null,t)}for(n=0;n<this.drillTo.drilledToStates.length;n++)this.addDateGroupingIntoDrilledColumn(this.drillTo.drilledToStates[n].DrilledFilterColumn,this.drillTo.drilledToStates[n].DrilledFilterDateGrouping,t),this.addDateGroupingIntoDrilledColumn(this.drillTo.drilledToStates[n].DrilledColumn,this.drillTo.drilledToStates[n].DrilledColumnDateGrouping,t);var r=Y.all("#"+this.drillTo.popupId+" option");r.each(function(e){t.indexOf(e.get("value"))!=-1?(e.setAttribute("disabled","disabled"),e.setStyle("color","#cccccc")):(e.removeAttribute("disabled"),e.setStyle("color",""))},this);var i=Y.one("#"+this.drillTo.columnDropDownId);if(i){var s=i.getData("drillToAction");s&&(s.detach(),s=null,i.set("value","")),i.setData("drillToAction",i.on("change",function(){this.doDrillTo(i.get("value"))},this)),this.highlightJoinedColumns()}var o=this.configNode.getAttribute("is-ssrm-dashboard"),u=this.configNode.getAttribute("chart-drillTo-status");o=="True"&&u=="2"&&this.updateDrillInfoBreadcrumb()},addDateGroupingIntoDrilledColumn:function(e,t,n){var r=null;i=0;for(;i<this.drillTo.drillToColumns.length;i++)if(this.drillTo.drillToColumns[i].DataColumn==e){r=this.drillTo.drillToColumns[i];break}if(t&&t.length>0)if(this.drillTo.usedColumnIndexes[0]!=-1&&this.drillTo.drillToColumns[this.drillTo.usedColumnIndexes[0]].DataColumn!=e)n.push(e+"!timeperiod!FirstDayOfYear"),n.push(e+"!timeperiod!FirstDayOfFiscalYear"),n.push(e+"!timeperiod!FirstDayOfQuarter"),n.push(e+"!timeperiod!FirstDayOfFiscalQuarter"),n.push(e+"!timeperiod!FirstDayOfMonth"),n.push(e);else switch(t){case"FirstDayOfYear":n.push(e+"!timeperiod!FirstDayOfYear"),n.push(e+"!timeperiod!FirstDayOfFiscalYear"),n.push(e+"!timeperiod!FirstDayOfFiscalQuarter");break;case"FirstDayOfQuarter":n.push(e+"!timeperiod!FirstDayOfYear"),n.push(e+"!timeperiod!FirstDayOfQuarter"),n.push(e+"!timeperiod!FirstDayOfFiscalYear"),n.push(e+"!timeperiod!FirstDayOfFiscalQuarter");break;case"FirstDayOfMonth":n.push(e+"!timeperiod!FirstDayOfYear"),n.push(e+"!timeperiod!FirstDayOfQuarter"),n.push(e+"!timeperiod!FirstDayOfMonth"),n.push(e+"!timeperiod!FirstDayOfFiscalYear"),n.push(e+"!timeperiod!FirstDayOfFiscalQuarter"),n.push(e+"!timeperiod!FirstDayOfFiscalMonth");break;case"FirstDayOfFiscalYear":n.push(e+"!timeperiod!FirstDayOfFiscalYear"),n.push(e+"!timeperiod!FirstDayOfYear"),n.push(e+"!timeperiod!FirstDayOfQuarter"),n.push(e+"!timeperiod!FirstDayOfMonth");break;case"FirstDayOfFiscalQuarter":n.push(e+"!timeperiod!FirstDayOfFiscalYear"),n.push(e+"!timeperiod!FirstDayOfFiscalQuarter"),n.push(e+"!timeperiod!FirstDayOfYear"),n.push(e+"!timeperiod!FirstDayOfQuarter"),n.push(e+"!timeperiod!FirstDayOfMonth")}else r.DataType=="DateTime"?(n.push(e+"!timeperiod!FirstDayOfYear"),n.push(e+"!timeperiod!FirstDayOfQuarter"),n.push(e+"!timeperiod!FirstDayOfMonth"),n.push(e+"!timeperiod!FirstDayOfFiscalYear"),n.push(e+"!timeperiod!FirstDayOfFiscalQuarter"),n.push(e+"!timeperiod!FirstDayOfFiscalMonth"),n.push(e)):n.push(e)},drillBackClick:function(){var e=this.id+"_"+"drillTo",t=this.getOrCreateInputElement(e);this.drillTo.drilledToStates.pop(),t.set("value",JSON.stringify(this.drillTo.drilledToStates));var n="rdAjaxCommand=RefreshElement&rdAction=ChartDrillTo&rdRefreshElementID="+this.id+"&rdReport="+this.reportName+"&rdRequestForwarding=Form";this.drillTo.sGlobalFilterPopupId&&(n+="&rdPopupId="+this.drillTo.sGlobalFilterPopupId),rdAjaxRequest(n)},pointClick:function(e){if(this.drillTo.excludedPointValues&&this.drillTo.excludedPointValues.length>0){var t=this.drillTo.excludedPointValues,n=e.name?e.name:e.x;if(t.indexOf(n)!=-1)return}ShowElement(this.id,this.drillTo.popupId,"",""),this.drillTo.current||(this.drillTo.current={}),this.drillTo.current.DrilledFilterColumn=this.drillTo.drillToColumns[this.drillTo.usedColumnIndexes[0]].DataColumn,this.drillTo.current.DrilledFilterValue=e.originalName;var r=this.drillTo.drillToColumns[this.drillTo.usedColumnIndexes[0]].DataType;if(!e.name&&r=="Text")this.drillTo.current.DrilledFilterValue="";else if(r=="DateTime"||r=="Date"){var i=(new Date(this.drillTo.current.DrilledFilterValue)).toISOString();this.drillTo.current.DrilledFilterValue=i,this.drillTo.current.DrilledFilterDateGrouping=this.drillTo.currentDateGrouping}},doDrillTo:function(e){var t="";if(e.indexOf("!timeperiod!")!=-1){var n=e.split("!timeperiod!");t=n[1],e=n[0]}e==""?this.drillTo.drilledToStates=[]:(this.drillTo.current.DrilledColumn=e,this.drillTo.current.DrilledColumnDateGrouping=t,this.drillTo.drilledToStates.push(this.drillTo.current));for(var r=0;r<this.drillTo.drilledToStates.length;r++){var i=this.drillTo.drilledToStates[r];for(var s=0;s<this.drillTo.drillToColumns.length;s++){var o=this.drillTo.drillToColumns[s];if(o.DataColumn==i.DrilledFilterColumn){i.DrilledFilterColumnType=o.DataType;break}}}var u=this.id+"_"+"drillTo",a=this.getOrCreateInputElement(u);a.set("value",JSON.stringify(this.drillTo.drilledToStates));var f="rdAjaxCommand=RefreshElement&rdAction=ChartDrillTo&rdRefreshElementID="+this.id+"&rdReport="+this.reportName+"&rdRequestForwarding=Form";this.drillTo.sGlobalFilterPopupId&&(f+="&rdPopupId="+this.drillTo.sGlobalFilterPopupId),rdAjaxRequest(f),ShowElement(this.id,this.drillTo.popupId,"False","False")},updateDrillInfoBreadcrumb:function(){this.drillInfoBreadcrumb&&this.drillInfoBreadcrumb.destroy();var e=this;Y.use("chartDrillToBreadcrumb",function(t){e.drillInfoBreadcrumb=new t.LogiXML.ChartDrillToBreadcrumb({drillTo:e.drillTo,rdChartCanvasId:e.id,reportName:e.reportName})})},highlightJoinedColumns:function(){var e=Y.all("#"+this.drillTo.popupId+"  optgroup");if(e&&e.size()>1){var t=0;for(;t<e.size();t++)e.item(t).addClass("rdAgQbColor"+(t%6+1))}},showPopupMenu:function(e,t){if(e&&e.point&&e.point.series&&e.point.series.options&&e.point.series.options.selection&&e.point.series.options.selection.excludedPointValues&&e.point.series.options.selection.excludedPointValues.length>0&&e.point.series.options.selection.excludedPointValues.indexOf(e.point.name)!=-1)return;if(this.id&&this.id.indexOf("_Row")!=-1){var n=this.id.substring(this.id.indexOf("_Row"));t+=n}this.e=e;var r=Y.one("#"+t),i=r.ancestor("div.rdDashboardPanel"),s;if(i){var s=i.ancestor();i&&i.getAttribute("style").indexOf("position")>-1&&i.setStyle("position","")}r.setStyle("position","absolute"),s&&s.getAttribute("class").indexOf("freeformPanelContainer")>-1?(r.setStyle("left",e.chartX+10+"px"),r.setStyle("top",e.chartY+"px")):r.ancestor("div.rdResponsiveColumn")?LogiXML.isIE()?(r.setStyle("left",e.x+"px"),r.setStyle("top",e.y+"px")):(r.setStyle("left",e.offsetX+"px"),r.setStyle("top",e.offsetY+"px")):(r.setStyle("left",e.pageX+"px"),r.setStyle("top",e.pageY+"px")),r.setStyle("visibility","hidden"),r.getData("ppObject").rdShowPopupMenu(t,"")},execPopupMnuAction:function(e){var t=this.e.point.series.options.events.popupMenus[e];window.rdActionToFunction=new Function("e",t),window.rdActionToFunctionArg=this.e,window.setTimeout(function(){window.rdActionToFunction(window.rdActionToFunctionArg)},100)}},{NAME:"ChartCanvas",ATTRS:{configNode:{value:null,setter:Y.one}},createElements:function(e){e||(e=!1);var t;Y.all("."+TRIGGER).each(function(n){t=n.getData(TRIGGER),t||(t=new Y.LogiXML.ChartCanvas({configNode:n,isAjax:e}))})},handleError:function(e){var t=e.chart,n=e.code,r="";switch(n){case 10:r="Can't plot zero or subzero values on a logarithmic axis";break;case 11:break;case 12:r="Chart expects point configuration to be numbers or arrays in turbo mode";break;case 13:r="Rendering div not found";break;case 14:r="String value sent to series.data, expected Number or DateTime";break;case 15:break;case 17:r="The requested series type does not exist";break;case 18:r="The requested axis does not exist";break;case 19:r="";break;default:r="Undefined error"}if(r=="")return;var i=Y.one(t.renderTo),s=i.one(".chartError"),o=!1;s||(s=i.append('<div class="rdChartCanvasError" style="display: inline-block; color:red" >Chart error:<ul class="chartError"></ul></div>').one(".chartError")),s.get("children").each(function(e){e.get("text")==r&&(o=!0)});if(o===!0)return;s.append("<li>"+r+"</li>")},reflowCharts:function(e){if(e&&e.all){var t;e.all("."+TRIGGER).each(function(e){t=e.getData(TRIGGER),t&&t.chart.reflow()})}},resizeToWidth:function(e,t){var n,r;Y.all(t+" ."+TRIGGER).each(function(t){n=t.getData(TRIGGER),n&&(r={width:e,finished:!0},n.resized(r))})},reflowAllCharts:function(){var e=Y.all("."+TRIGGER);e.each(function(e){chart=e.getData(TRIGGER),chart&&chart.chart&&chart.chart.container&&Y.one(chart.chart.container).hide()}),e.each(function(e){chart=e.getData(TRIGGER),chart&&chart.responsiveResize.call(chart,chart,!0)}),e.each(function(e){chart=e.getData(TRIGGER),chart&&chart.chart&&chart.chart.container&&Y.one(chart.chart.container).show()})},reflowChart:function(e){if(!e)return;chart=e.getData(TRIGGER);if(chart&&chart.chart&&chart.chart.container){var t=Y.one(chart.chart.container);t.hide(),chart.responsiveResize.call(chart,chart,!0),t.show()}}})},"1.0.0",{requires:["base","node","event","node-custom-destroy","json-parse","io-xdr","chartCanvasRangeSelection","event-resize"]});

/* 
* rdChartCanvas/segmented_series.js 
*/
(function(e){function w(e,t){var n="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw n;window.console&&console.log(n)}function E(e){var n=[];return t(e,function(e){n=n.concat(e[0])}),n}var t=e.each,n=e.seriesTypes,r=Math.floor,i=Math.max,s=Math.min,o=Math.abs,u,a="",f="hover",l="select",c="visible",h="hidden",p="highcharts-",d="none",v=document.documentElement.ontouchstart!==u,m="rgba(192,192,192,"+(e.hasSVG?1e-4:.002)+")",y="M",b="L";n.linesegmented=Highcharts.extendClass(n.line),e.seriesTypes.linesegmented.prototype.processData=function(e){var t=this,n=t.xData,r=t.yData,i=n.length,s,o=0,a,f,l,c=t.xAxis,h,p=t.options,d=p.cropThreshold,v=t.isCartesian;if(v&&!t.isDirty&&!c.isDirty&&!t.yAxis.isDirty&&!e)return!1;for(h=n.length-1;h>=0;h--)f=n[h]-n[h-1],f>0&&(l===u||f<l)?l=f:f<0&&t.requireSorting&&w(15);t.cropped=a,t.cropStart=o,t.processedXData=n,t.processedYData=r,p.pointRange===null&&(t.pointRange=l||1),t.closestPointRange=l},e.seriesTypes.linesegmented.prototype.setTooltipPoints=function(e){var n=this,o=[],a,f,l,c=n.xAxis,h=c&&c.getExtremes(),p=c?c.tooltipLen||c.len:n.chart.plotSizeX,d,v,m,g,y=[];if(n.options.enableMouseTracking===!1)return;e&&(n.tooltipPoints=null),t(n.points,function(e){e.y!==null&&(o=o.concat(e))}),t(n.segments,function(e){t(e.points,function(e){e.y!==null&&(o=o.concat(e))})}),c&&c.reversed&&(o=o.reverse()),n.orderTooltipPoints&&n.orderTooltipPoints(o),a=o.length;for(g=0;g<a;g++){d=o[g],v=d.x;if(v>=h.min&&v<=h.max){m=o[g+1],f=l===u?0:l+1,l=o[g+1]?s(i(0,r((d.clientX+(m?m.wrappedClientX||m.clientX:p))/2)),p):p;while(f>=0&&f<=l)y[f++]=d}}n.tooltipPoints=y},e.seriesTypes.linesegmented.prototype.drawTracker=function(){var e=this,n=e.options,r=n.trackByArea,i=[].concat(r?e.areaPath:E(e.graphPath)),s=i.length,o=e.chart,u=o.pointer,a=o.renderer,f=o.options.tooltip.snap,l=e.tracker,g=n.cursor,w=g&&{cursor:g},S=e.singlePoints,x,T,N=function(){o.hoverSeries!==e&&e.onMouseOver()};if(s&&!r){T=s+1;while(T--)i[T]===y&&i.splice(T+1,0,i[T+1]-f,i[T+2],b),(T&&i[T]===y||T===s)&&i.splice(T,0,b,i[T-2]+f,i[T-1])}for(T=0;T<S.length;T++)x=S[T],x.plotX&&x.plotY&&i.push(y,x.plotX-f,x.plotY,b,x.plotX+f,x.plotY);l?l.attr({d:i}):(e.tracker=a.path(i).attr({"stroke-linejoin":"round",visibility:e.visible?c:h,stroke:m,fill:r?m:d,"stroke-width":n.lineWidth+(r?0:2*f),zIndex:2}).add(e.group),t([e.tracker,e.markerGroup],function(e){e.addClass(p+"tracker").on("mouseover",N).on("mouseout",function(e){u.onTrackerMouseOut(e)}).css(w),v&&e.on("touchstart",N)}))},e.seriesTypes.linesegmented.prototype.setState=function(e){var n=this,r=n.options,i=n.graph,s=n.graphNeg,o=r.states,u=r.lineWidth,f;e=e||a;if(n.state!==e){n.state=e;if(o[e]&&o[e].enabled===!1)return;e&&(u=o[e].lineWidth||u+1),i&&!i.dashstyle&&(f={"stroke-width":u},t(i,function(e,t){e.attr(f)}))}},e.seriesTypes.linesegmented.prototype.getSegments=function(e){var n=this,r=0,i="",s=[],o,u=n.points,a=u.length;if(a)if(n.options.connectNulls)t(u,function(e,t){u[t].y===null&&u.splice(t,1)}),t(u,function(e,t){t>0&&(u[t].segmentColor!=u[t-1].segmentColor||u[t].segmentDashStyle!=u[t-1].segmentDashStyle)&&(s.push({points:u.slice(r,t+1),color:u[t-1].segmentColor,dashStyle:u[t-1].segmentDashStyle}),r=t)}),u.length&&s.length===0&&(s=[u]);else{var f=null,l=null;t(u,function(e,t){var n=t>0&&(e.segmentColor!=u[t-1].segmentColor&&u[t].segmentColor!=f||e.segmentDashStyle!=u[t-1].segmentDashStyle&&u[t].segmentDashStyle!=l),i=u[t-1]&&u[t-1].segmentColor?!0:!1,o=u[t-1]&&u[t-1].segmentDashStyle?!0:!1;!f&&e.segmentColor&&(f=e.segmentColor),!l&&e.segmentDashStyle&&(l=e.segmentDashStyle);if(n){var c=u.slice(r,t);c.length>0&&(s.push({points:c,color:i?u[t-1].segmentColor:f,dashStyle:o?u[t-1].segmentDashStyle:l}),r=t-1)}if(t===a-1)if(!n){var h=t+1;e.y===null&&h--;var c=u.slice(r,h);c.length>0&&(s.push({points:c,color:i?u[t-1].segmentColor:f,dashStyle:o?u[t-1].segmentDashStyle:l}),r=t)}else{e&&(f=e.segmentColor,l=e.segmentDashStyle);var h=t+1;e.y===null&&h--;var c=u.slice(r,h);c.length>0&&(s.push({points:c,color:i?f:u[t-1].segmentColor,dashStyle:o?l:u[t-1].segmentDashStyle}),r=t)}e&&(f=e.segmentColor,l=e.segmentDashStyle)})}n.segments=s},e.seriesTypes.linesegmented.prototype.getGraphPath=function(e){var n=this,r=[],i,s=[];return t(n.segments,function(e){i=n.getSegmentPath(e.points),e.points.length>1?r.push([i,e.color,e.dashStyle]):s.push(e.points)}),n.singlePoints=s,n.graphPath=r,r},e.seriesTypes.linesegmented.prototype.drawGraph=function(e){function h(e,t,i){var a={stroke:t[1],"stroke-width":s,zIndex:1,dashstyle:t[2]},f;return t[2]?a.dashstyle=t[2]:o?a.dashstyle=o:u&&(a["stroke-linecap"]=a["stroke-linejoin"]="round"),e[1]&&(a.stroke=e[1]),e[2]&&(a.dashstyle=e[2]),f=n.chart.renderer.path(e[0]).attr(a).add(n.group).shadow(!i&&r.shadow),f}var n=this,r=n.options,i=[["graph",r.lineColor||n.color,r.dashStyle||n.dashStyle]],s=r.lineWidth,o=r.dashStyle,u=r.linecap!=="square",a=n.getGraphPath(),f=a.length,l=0,c=r.negativeColor;t(i,function(e,r){var i=e[0],o=n[i];o?t(a,function(t,s){n[i][s]?n[i][s].attr({d:t[0],stroke:t[1],dashstyle:t[2]}):n[i][s]=h(t,e,r)}):s&&a.length&&(o=[],t(a,function(t,n){o[n]=h(t,e,r)}),n[i]=o,n[i].destroy=function(){for(g in n[i]){var e=n[i][g];e&&e.destroy&&e.destroy()}});if(n.graph){l=n.graph.length;for(var u=l;u>=f;u--)n[i][u]&&(n[i][u].destroy(),n[i].splice(u,1))}})},n.splinesegmented=Highcharts.extendClass(n.spline),e.seriesTypes.splinesegmented.prototype.processData=function(e){var t=this,n=t.xData,r=t.yData,i=n.length,s,o=0,a,f,l,c=t.xAxis,h,p=t.options,d=p.cropThreshold,v=t.isCartesian;if(v&&!t.isDirty&&!c.isDirty&&!t.yAxis.isDirty&&!e)return!1;for(h=n.length-1;h>=0;h--)f=n[h]-n[h-1],f>0&&(l===u||f<l)?l=f:f<0&&t.requireSorting&&w(15);t.cropped=a,t.cropStart=o,t.processedXData=n,t.processedYData=r,p.pointRange===null&&(t.pointRange=l||1),t.closestPointRange=l},e.seriesTypes.splinesegmented.prototype.setTooltipPoints=function(e){var n=this,o=[],a,f,l,c=n.xAxis,h=c&&c.getExtremes(),p=c?c.tooltipLen||c.len:n.chart.plotSizeX,d,v,m,g,y=[];if(n.options.enableMouseTracking===!1)return;e&&(n.tooltipPoints=null),t(n.points,function(e){e.y!==null&&(o=o.concat(e))}),t(n.segments,function(e){t(e.points,function(e){e.y!==null&&(o=o.concat(e))})}),c&&c.reversed&&(o=o.reverse()),n.orderTooltipPoints&&n.orderTooltipPoints(o),a=o.length;for(g=0;g<a;g++){d=o[g],v=d.x;if(v>=h.min&&v<=h.max){m=o[g+1],f=l===u?0:l+1,l=o[g+1]?s(i(0,r((d.clientX+(m?m.wrappedClientX||m.clientX:p))/2)),p):p;while(f>=0&&f<=l)y[f++]=d}}n.tooltipPoints=y},e.seriesTypes.splinesegmented.prototype.drawTracker=function(){var e=this,n=e.options,r=n.trackByArea,i=[].concat(r?e.areaPath:E(e.graphPath)),s=i.length,o=e.chart,u=o.pointer,a=o.renderer,f=o.options.tooltip.snap,l=e.tracker,g=n.cursor,w=g&&{cursor:g},S=e.singlePoints,x,T,N=function(){o.hoverSeries!==e&&e.onMouseOver()};if(s&&!r){T=s+1;while(T--)i[T]===y&&i.splice(T+1,0,i[T+1]-f,i[T+2],b),(T&&i[T]===y||T===s)&&i.splice(T,0,b,i[T-2]+f,i[T-1])}for(T=0;T<S.length;T++)x=S[T],x.plotX&&x.plotY&&i.push(y,x.plotX-f,x.plotY,b,x.plotX+f,x.plotY);l?l.attr({d:i}):(e.tracker=a.path(i).attr({"stroke-linejoin":"round",visibility:e.visible?c:h,stroke:m,fill:r?m:d,"stroke-width":n.lineWidth+(r?0:2*f),zIndex:2}).add(e.group),t([e.tracker,e.markerGroup],function(e){e.addClass(p+"tracker").on("mouseover",N).on("mouseout",function(e){u.onTrackerMouseOut(e)}).css(w),v&&e.on("touchstart",N)}))},e.seriesTypes.splinesegmented.prototype.setState=function(e){var n=this,r=n.options,i=n.graph,s=n.graphNeg,o=r.states,u=r.lineWidth,f;e=e||a;if(n.state!==e){n.state=e;if(o[e]&&o[e].enabled===!1)return;e&&(u=o[e].lineWidth||u+1),i&&!i.dashstyle&&(f={"stroke-width":u},t(i,function(e,t){e.attr(f)}))}},e.seriesTypes.splinesegmented.prototype.getSegments=function(e){var n=this,r=0,i="",s=[],o,u=n.points,a=u.length;if(a)if(n.options.connectNulls)t(u,function(e,t){u[t].y===null&&u.splice(t,1)}),t(u,function(e,t){t>0&&(u[t].segmentColor!=u[t-1].segmentColor||u[t].segmentDashStyle!=u[t-1].segmentDashStyle)&&(s.push({points:u.slice(r,t+1),color:u[t-1].segmentColor,dashStyle:u[t-1].segmentDashStyle}),r=t)}),u.length&&s.length===0&&(s=[u]);else{var f=null,l=null;t(u,function(e,t){var n=t>0&&(e.segmentColor!=u[t-1].segmentColor&&u[t].segmentColor!=f||e.segmentDashStyle!=u[t-1].segmentDashStyle&&u[t].segmentDashStyle!=l),i=u[t-1]&&u[t-1].segmentColor?!0:!1,o=u[t-1]&&u[t-1].segmentDashStyle?!0:!1;!f&&e.segmentColor&&(f=e.segmentColor),!l&&e.segmentDashStyle&&(l=e.segmentDashStyle);if(n){var c=u.slice(r,t);c.length>0&&(s.push({points:c,color:i?u[t-1].segmentColor:f,dashStyle:o?u[t-1].segmentDashStyle:l}),r=t-1)}if(t===a-1)if(!n){var h=t+1;e.y===null&&h--;var c=u.slice(r,h);c.length>0&&(s.push({points:c,color:i?u[t-1].segmentColor:f,dashStyle:o?u[t-1].segmentDashStyle:l}),r=t)}else{e&&(f=e.segmentColor,l=e.segmentDashStyle);var h=t+1;e.y===null&&h--;var c=u.slice(r,h);c.length>0&&(s.push({points:c,color:i?f:u[t-1].segmentColor,dashStyle:o?l:u[t-1].segmentDashStyle}),r=t)}e&&(f=e.segmentColor,l=e.segmentDashStyle)})}n.segments=s},e.seriesTypes.splinesegmented.prototype.getGraphPath=function(e){var n=this,r=[],i,s=[];return t(n.segments,function(e){i=n.getSegmentPath(e.points),e.points.length>1?r.push([i,e.color,e.dashStyle]):s.push(e.points)}),n.singlePoints=s,n.graphPath=r,r},e.seriesTypes.splinesegmented.prototype.drawGraph=function(e){function h(e,t,i){var a={stroke:t[1],"stroke-width":s,zIndex:1,dashstyle:t[2]},f;return t[2]?a.dashstyle=t[2]:o?a.dashstyle=o:u&&(a["stroke-linecap"]=a["stroke-linejoin"]="round"),e[1]&&(a.stroke=e[1]),e[2]&&(a.dashstyle=e[2]),f=n.chart.renderer.path(e[0]).attr(a).add(n.group).shadow(!i&&r.shadow),f}var n=this,r=n.options,i=[["graph",r.lineColor||n.color,r.dashStyle||n.dashStyle]],s=r.lineWidth,o=r.dashStyle,u=r.linecap!=="square",a=n.getGraphPath(),f=a.length,l=0,c=r.negativeColor;t(i,function(e,r){var i=e[0],o=n[i];o?t(a,function(t,s){n[i][s]?n[i][s].attr({d:t[0],stroke:t[1],dashstyle:t[2]}):n[i][s]=h(t,e,r)}):s&&a.length&&(o=[],t(a,function(t,n){o[n]=h(t,e,r)}),n[i]=o,n[i].destroy=function(){for(g in n[i]){var e=n[i][g];e&&e.destroy&&e.destroy()}});if(n.graph){l=n.graph.length;for(var u=l;u>=f;u--)n[i][u]&&(n[i][u].destroy(),n[i].splice(u,1))}})},n.areasegmented=Highcharts.extendClass(n.linesegmented),e.seriesTypes.areasegmented.prototype.init=function(t,n){n.threshold=n.threshold||null,e.Series.prototype.init.call(this,t,n)},e.seriesTypes.areasegmented.prototype.closeSegment=e.seriesTypes.area.prototype.closeSegment,e.seriesTypes.areasegmented.prototype.drawGraph=function(n){e.seriesTypes.linesegmented.prototype.drawGraph.call(this,n);var r=this,i=this.options,s=[["graph",i.lineColor||r.color]];t(s,function(e,n){var i=e[0],s=r[i];s&&t(r.graphPath,function(e,t){r[i][t]&&r[i][t].attr({fill:e[1]})})})},e.seriesTypes.areasegmented.prototype.getSegmentPath=function(e){var t;return n.area.prototype.getSegmentPath.call(this,e),t=[].concat(this.areaPath),this.areaPath=[],t},e.seriesTypes.areasegmented.prototype.getGraphPath=function(){var e=this,n=[],r,i=[];return this.areaPath=[],t(e.segments,function(t){r=e.getSegmentPath(t.points),t.points.length>1?n.push([r,t.color]):i.push(t.points)}),e.singlePoints=i,e.graphPath=n,n},e.seriesTypes.areasegmented.prototype.drawLegendSymbol=e.LegendSymbolMixin.drawRectangle})(Highcharts);

/* 
* rdChartCanvas/modules/solid-gauge.src.js 
*/
/**
 * @license  Highcharts JS v4.0.4 (2014-09-02)
 * Solid angular gauge module
 *
 * (c) 2010-2014 Torstein Honsi
 *
 * License: www.highcharts.com/license
 *//*global Highcharts*/(function(e){var t=e.getOptions().plotOptions,n=e.pInt,r=e.pick,i=e.each,s,o;t.solidgauge=e.merge(t.gauge,{colorByPoint:!0}),s={initDataClasses:function(t){var n=this,r=this.chart,s,o=0,u=this.options;this.dataClasses=s=[],i(t.dataClasses,function(i,a){var f;i=e.merge(i),s.push(i),i.color||(u.dataClassColor==="category"?(f=r.options.colors,i.color=f[o++],o===f.length&&(o=0)):i.color=n.tweenColors(e.Color(u.minColor),e.Color(u.maxColor),a/(t.dataClasses.length-1)))})},initStops:function(t){this.stops=t.stops||[[0,this.options.minColor],[1,this.options.maxColor]],i(this.stops,function(t){t.color=e.Color(t[1])})},toColor:function(e,t){var n,r=this.stops,i,s,u,a=this.dataClasses,f,l;if(a){l=a.length;while(l--){f=a[l],i=f.from,s=f.to;if((i===o||e>=i)&&(s===o||e<=s)){u=f.color,t&&(t.dataClass=l);break}}}else{this.isLog&&(e=this.val2lin(e)),n=1-(this.max-e)/(this.max-this.min),l=r.length;while(l--)if(n>r[l][0])break;i=r[l]||r[l+1],s=r[l+1]||i,n=1-(s[0]-n)/(s[0]-i[0]||1),u=this.tweenColors(i.color,s.color,n)}return u},tweenColors:function(e,t,n){var r=t.rgba[3]!==1||e.rgba[3]!==1;return e.rgba.length===0||t.rgba.length===0?"none":(r?"rgba(":"rgb(")+Math.round(t.rgba[0]+(e.rgba[0]-t.rgba[0])*(1-n))+","+Math.round(t.rgba[1]+(e.rgba[1]-t.rgba[1])*(1-n))+","+Math.round(t.rgba[2]+(e.rgba[2]-t.rgba[2])*(1-n))+(r?","+(t.rgba[3]+(e.rgba[3]-t.rgba[3])*(1-n)):"")+")"}},e.seriesTypes.solidgauge=e.extendClass(e.seriesTypes.gauge,{type:"solidgauge",bindAxes:function(){var t;e.seriesTypes.gauge.prototype.bindAxes.call(this),t=this.yAxis,e.extend(t,s),t.options.dataClasses&&t.initDataClasses(t.options),t.initStops(t.options)},drawPoints:function(){var t=this,i=t.yAxis,o=i.center,u=t.options,a=t.chart.renderer;e.each(t.points,function(f){var l=f.graphic,c=i.startAngleRad+i.translate(f.y,null,null,null,!0),h=n(r(u.radius,100))*o[2]/200,p=n(r(u.innerRadius,60))*o[2]/200,d,v,m=i.toColor(f.y,f),g;console.log(h,p),m!=="none"&&(g=f.color,f.color=m),u.wrap===!1&&(c=Math.max(i.startAngleRad,Math.min(i.endAngleRad,c))),c=c*180/Math.PI;var y=c/(180/Math.PI),b=i.startAngleRad,w=Math.min(y,b),E=Math.max(y,b);E-w>2*Math.PI&&(E=w+2*Math.PI),d={x:o[0],y:o[1],r:h,innerR:p,start:w,end:E},l?(v=d.d,l.attr({fill:f.color}).animate(d,{step:function(t,n){l.attr("fill",s.tweenColors(e.Color(g),e.Color(m),n.pos))}}),d.d=v):f.graphic=a.arc(d).attr({stroke:u.borderColor||"none","stroke-width":u.borderWidth||0,fill:f.color,"sweep-flag":0}).add(t.group)})},animate:null})})(Highcharts);

/* 
* rdChartCanvas/modules/rdHighchartsGauges.js 
*/
(function(e){function f(){var e=navigator.userAgent.toLowerCase();return e.indexOf("msie")!=-1?parseInt(e.split("msie")[1]):e.indexOf("edge")!=-1?12:e.indexOf("rv:11.0)")!=-1?11:!1}function l(e){var t=[];if(e.options.tickInterval&&!e.options.notexplicitlySettedTicks){var n=(e.options.max-e.options.min)/e.options.tickInterval;for(var r=0;r<n;r++)t.push(e.options.min+r*e.options.tickInterval);t.push(e.options.max),e.options.tickPositions=t,e.tickPositions=t,e.options.startOnTick=!0,e.options.endOnTick=!0;return}var i=e.options.min;e.options.labels&&e.options.labels.format&&(i=LogiXML.HighchartsFormatters.format(e.options.min,e.options.labels.format));var s=LogiXML.layout.getTextDimensions(i,e.options.labels.style).width,i=e.options.max;e.options.labels&&e.options.labels.format&&(i=LogiXML.HighchartsFormatters.format(e.options.max,e.options.labels.format));var o=LogiXML.layout.getTextDimensions(i,e.options.labels.style).width,u=s>o?s:o,a=1.7,f=u*a,l=Math.floor(e.chart.plotWidth/f);l<2&&(l=2),e.options.tickPixelInterval=e.chart.plotWidth/(l-1),e.options.startOnTick=!0,e.options.endOnTick=!0,e.options.notexplicitlySettedTicks=!0}function c(e){var t,n,r,i,s;s={align:e.options.title.align,margin:e.options.title.margin,fontSize:e.options.title.style.fontSize,fontFamily:e.options.title.style.fontFamily||e.renderer.getStyle().fontFamily},e.options.title.initialTitleText?e.options.title.text=e.options.title.initialTitleText:e.options.title.initialTitleText=e.options.title.text,t=LogiXML.layout.getTextDimensions("|",s).height,n=e.options.title.text,r=LogiXML.layout.getTextDimensions(n,s),i=!1,n.indexOf("<BR/>")>-1&&(n=n.split("<BR/>")[0],i=!0);while(r.height>t&&n.length>0)n=n.substring(0,n.length-1),r=LogiXML.layout.getTextDimensions(n+"...",s),i=!0;r=LogiXML.layout.getTextDimensions(n,s);while(r.width>e.spacingBox.width-44&&n.length>0)n=n.substring(0,n.length-1),r=LogiXML.layout.getTextDimensions(n+"...",s),i=!0;i&&(n+="..."),e.options.title.text=n}function h(e){var t=14,n=100,r=10,i=e.chartHeight,s=e.userOptions,o=s.title?s.title:{},u=o.scalable,a=o.style?o.style:{},f=a.fontSize,l;e.options.title.margin=5,c(e),e.setTitle(e.options.title,!0);return}function p(e){var t=e.options.min;e.options.labels&&e.options.labels.format&&(t=LogiXML.HighchartsFormatters.format(e.options.min,e.options.labels.format));var n=LogiXML.layout.getTextDimensions(t,e.options.labels.style).width;e.chart.spacing[3]=n/2*1.15,t=e.options.max,e.options.labels&&e.options.labels.format&&(t=LogiXML.HighchartsFormatters.format(e.options.max,e.options.labels.format));var r=LogiXML.layout.getTextDimensions(t,e.options.labels.style).width;e.chart.spacing[1]=r/2*1.15;var i;n>r?i=n:i=r;var s=(e.options.max-e.options.min)/2;e.options.labels&&e.options.labels.format&&(s=LogiXML.HighchartsFormatters.format(s,e.options.labels.format));var o=LogiXML.layout.getTextDimensions(s,e.options.labels.style).width;return o>i&&(i=o),i}function d(e){return e>11?e=11:e>6?e=6:e>4?e=4:e>=2?e=3:e=2,--e}function v(e,t){var n=e.chart.plotWidth-e.chart.spacing[3]-e.chart.spacing[1],r=Math.abs(e.options.max-e.options.min);if(r==0)return 0;var i=0,s=r.toString().replace(/0/g,"").replace(/\./g,"").replace(/\-/g,"");s.length!==0&&(i=parseInt(s.substr(0,1)));var o=1;switch(i){case 1:o=10;break;case 2:o=8;break;case 3:o=6;break;case 4:o=8;break;case 5:o=10;break;default:o=i}while(o>1&&t*o>n)switch(o){case 10:o=5;break;case 9:o=3;break;case 8:o=4;break;case 7:o=2;break;case 6:o=3;break;case 5:o=2;break;case 4:o=2;break;default:o=1}return o}function m(e){var t=p(e),n=v(e,t);e.options.initialTickWidth||(e.options.initialTickWidth=e.options.tickWidth),e.chart.userOptions.series.length==0||n==0||!e.chart.userOptions.series[0].data||e.chart.userOptions.series[0].data.length==0?(e.options.tickWidth=0,e.options.labels.enabled=!1):(e.options.tickWidth=e.options.initialTickWidth,e.options.labels.enabled=!0),e.tickInterval=(e.options.max-e.options.min)/n,e.options.tickInterval=(e.options.max-e.options.min)/n,e.options.showAllTicksWithOverlap=!0,e.options.tickCount=n+1,e.options.tickPositions=[];for(var r=0;r<n;r++)e.options.tickPositions.push(e.options.min+r*e.options.tickInterval);e.options.tickPositions.push(e.options.max),e.tickPositions=e.options.tickPositions;return}function g(e,t,n,r,i,s){if(e&&e.label&&e.label.getBBox){var o=e.label.xy&&e.label.xy.x+e.label.getBBox().width;o>t.label.xy.x&&(e.label.xy.opacity=0,delete n[r[s]],r.removeAt(s),i&&i.removeAt(s),e.label.element&&(e.label.element.remove?(e.label.element.remove(),e.mark&&e.mark.element&&e.mark.element.remove()):(e.label.element.style.display="none",delete e.label.element,e.mark&&e.mark.element&&(e.mark.element.style&&(e.mark.element.style.display="none"),delete e.mark.element))))}}function y(e,t,n,r){if(r.length<=2)return!0;var i=t[n[n.length-1]],s=t[n[n.length-2]];g(s,i,t,r,n,n.length-2);if(e.options.holdLastTick&&!e.options.showAllTicksWithOverlap){var o;for(var u=n.length-2;u>0;u--)o=e.ticks[r[u]],g(o,i,t,r,null,u)}return!0}function b(e){var t=10,n=100,r=20,i=e.chart.chartHeight,s;e.options.labels.staggerLines=1;if(e.options.labels&&!e.options.labels.enabled)return;if(e.chart.options.series[0].explicitSettedFontSize&&(e.chart.options.series[0].explicitSettedFontSize.indexOf("both")>-1||e.chart.options.series[0].explicitSettedFontSize.indexOf("axis")>-1)){if(e.options.tickInterval&&!e.options.notexplicitlySettedTicks){e.options.showAllTicksWithOverlap=!0,e.isDirty=!0,e.options.endOnTick=!1,e.endOnTick=!1,p(e);return}m(e);return}s=i/6.66666>t?i/6.66666+"px":t+"px",e.options.labels||(e.options.labels={},e.options.labels.style={}),e.options.labels.style.fontSize=s;if(e.options.tickInterval&&!e.options.notexplicitlySettedTicks){var o=p(e),u=1.5,a=o*u,f=a*((e.options.max-e.options.min)/e.options.tickInterval);while(f>e.chart.plotWidth){var l=parseInt(e.options.labels.style.fontSize.substr(0,e.options.labels.style.fontSize.length-2))-1;if(l<8)return;e.options.labels.style.fontSize=l+"px",o=p(e),u=1.5,a=o*u,f=a*((e.options.max-e.options.min)/e.options.tickInterval)}}else m(e),e.options.notexplicitlySettedTicks=!0;e.isDirty=!0}function w(e,t,n){var r=t.options.stops,i=t.options.max,s=t.options.min,o=e.plotBandsOffset?e.plotBandsOffset:0;if(t.min==t.max&&e.options.wrongData){e.chart.renderer.rect(0,o,e.chart.plotWidth-4,e.chart.plotHeight-o-1,0).attr({"stroke-width":2,stroke:e.options.borderColor||"#000000",fill:"silver",zIndex:1}).add(n);return}var u,a;e.options.barBackgroundColor&&(u=t.toPixels(s)-e.chart.plotLeft,a=t.toPixels(i)-e.chart.plotLeft,e.chart.renderer.rect(u,o,a-u,e.chart.plotHeight-o,0).attr({fill:e.options.barBackgroundColor,zIndex:1}).add(n));for(var f=0;f<r.length;f++){var l=r[f][0],c=r[f][1];u=t.toPixels(s)-e.chart.plotLeft;if(r[f][0]<t.min)continue;a=t.toPixels(l)-e.chart.plotLeft,e.chart.renderer.rect(u,o,a-u,e.chart.plotHeight-o-1,0).attr({"stroke-width":2,stroke:e.options.borderColor||"#000000",fill:c||"#d0d0d0",zIndex:1}).add(n),s=l}}function E(e,t){var n=Math.min(t.width,t.height),r=0;do e.css({fontSize:--n+"px"}),r++;while(e.element.getBoundingClientRect().width>=t.width||S(e.element).height>=t.height||n<=0);e.css({fontSize:--n+"px"})}function S(e,t){var n,r,i;n=e.getBoundingClientRect(),r=document.createElement("canvas"),r.width=n.width,r.height=n.height*2,r.fontFamily=e.fontFamily,r.fontSize=e.fontSize,r.fontWeight=e.fontWeight,r.fontStyle=e.fontStyle,i=r.getContext("2d"),i.fillStyle="white",i.fillRect(0,0,r.width,r.height),i.fillStyle="black",i.font=e.style.fontStyle+" "+e.style.fontWeight+" "+e.style.fontSize+" "+e.style.fontFamily,i.fillText(e.innerHTML,0,r.height/2);var s=i.getImageData(0,0,r.width,r.height).data,o=r.width*4,u=!1,a=-1,f,l,c;l=t&&t!==0?t:r.width/200>1?Math.floor(r.width/200):1,c=t&&t!==0?t:r.height/200>1?Math.floor(r.height/200):1;var h=!0,p=!0,d=0,v=0;while(h){u=!1,v=d*o,p=!0;while(p){if(s[v]!==255){u=!0;break}v+=l*4,p=v<(d+1)*o?!0:!1}if(u){a=d;break}d+=c,h=d<r.height?!0:!1}p=!0,h=!0,d=r.height-1;while(h){u=!1,v=d*o,p=!0;while(p){if(s[v]!==255){u=!0;break}v+=l*4,p=v<(d+1)*o?!0:!1}if(u){f=d;break}d-=c,h=d>0?!0:!1}var m=a+(f-a)/2,g=r.height/2-m;return result={top:a,bottom:f,height:f-a,baseline:r.height/2,baselineShift:g,visibleCenter:m},result}var t=e.getOptions().plotOptions,n=e.pInt,r=e.pick,i=e.each,s=e.merge,o,u=Highcharts.seriesTypes,a;t.bulletgauge=s(t.bar,{color:"#0000FF",borderColor:"#000000",pointPadding:.25,pointPlacement:-3,stickyTracking:!0,pointRange:0,states:{hover:{lineColor:"transparent"},select:{lineColor:"transparent"}}}),t.arcgauge=s(t.pie,{color:"#0000FF",borderColor:"#000000",pointPadding:.25,pointPlacement:-3,marker:null,stickyTracking:!0}),t.numbergauge=s(t.line,{color:"#0000FF",borderColor:"#000000",pointPadding:.25,pointPlacement:-3,stickyTracking:!1,marker:{},states:{hover:{lineColor:"transparent",shadow:!1,halo:!1},select:{lineColor:"transparent",shadow:!1,halo:!1}}}),t.balloongauge=s(t.line,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:{},pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:0,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0}),e.seriesTypes.numbergauge=e.extendClass(e.Series,{type:"numbergauge",isCartesian:!1,animation:null,drawTracker:e.TrackerMixin.drawTrackerPoint,trackerGroups:["group","dataLabelsGroup"],hasData:function(){return this.points.length>0},init:function(t,n){HighchartsAdapter.addEvent(t,"setSize",function(e){h(t)}),n.tooltip||(n.tooltip={}),n.tooltip.followPointer=!0,t.animation=!1,e.Series.prototype.init.apply(this,[t,n])},drawPoints:function(){var e=this,t=e.chart.renderer,n=e.points[0];e.options.states.hover.enabled=!1,h(e.chart);if(this.points.length==0)return;graphic=n.graphic,graphic&&graphic.destroy(),value=this.options.data[0].x,e.options.format&&(value=LogiXML.Formatter.format(value,e.options.format)),targetBox=e.chart.plotBox,visual=this.chart.renderer.text(value).attr({x:"50%",y:"50%"}).css({color:e.options.fontStyle.color||"#000000","font-family":e.options.fontStyle.fontFamily||"",fontWeight:e.options.fontStyle.fontWeight||"",fontSize:e.options.fontStyle.fontSize||""}).add(e.group),n.graphic=visual;if(visual.element.getBoundingClientRect().width+visual.element.getBoundingClientRect().height==0)return;(!e.options.fontStyle.fontSize||!e.options.explicitSettedFontSize||e.options.explicitSettedFontSize.indexOf("labels")<0)&&E(visual,targetBox),sourceBox=visual.element.getBoundingClientRect();var r=S(visual.element);visual.attr({x:targetBox.width/2-sourceBox.width/2,y:targetBox.height/2+r.baselineShift})},redraw:function(){e.Series.prototype.redraw.call(this)},reflow:function(){e.Series.prototype.reflow.call(this)}}),e.seriesTypes.arcgauge=e.extendClass(u.pie,{type:"arcgauge",pointClass:e.Point,hasData:function(){return this.points.length>0},init:function(e,t){t.animation=null,e.initialHeight=e.options.chart.height,e.initialWidth=e.options.chart.width,t.tooltip||(t.tooltip={}),HighchartsAdapter.addEvent(e,"setSize",function(t){e.series[0].prevArc.destroy(),e.series[0].prevArc=null,h(e)}),h(e),u.pie.prototype.init.apply(this,[e,t])},drawPoints:function(){if(this.points.length==0)return;var e=this.chart.renderer,t=this.points[0],n=t.graphic,r=!0;this.radiusesRatio||(this.userOptions.arcInnerRadius<1?this.radiusesRatio=this.userOptions.arcInnerRadius:this.radiusesRatio=this.userOptions.arcInnerRadius/(this.chart.plotWidth/2)),this.shapeArgs={x:this.chart.plotWidth/2,y:this.chart.plotHeight,start:Math.PI,end:0},n&&n.destroy(),n=e.g().css({"stroke-width":0}).add(this.group);var i;if(this.chart.options.series[0].explicitSettedFontSize&&(this.chart.options.series[0].explicitSettedFontSize.indexOf("axis")>-1||this.chart.options.series[0].explicitSettedFontSize.indexOf("both")>-1))this.offsetValue=LogiXML.layout.getTextDimensions("|",this.chart.xAxis[0].options.labels.style);else{var s=LogiXML.layout.getTextDimensions(this.userOptions.highValue,this.chart.xAxis[0].options.labels.style).width>LogiXML.layout.getTextDimensions(this.userOptions.lowValue,this.chart.xAxis[0].options.labels.style).width?this.userOptions.highValue:this.userOptions.lowValue,o=LogiXML.layout.getTextDimensions(s,this.chart.xAxis[0].options.labels.style);i=this.chart.plotHeight*2<this.chart.plotWidth?this.chart.plotHeight*2:this.chart.plotWidth;var u=i/2*(1-this.radiusesRatio);if(o.width<u){while(o.width<u&&u>0)this.chart.xAxis[0].options.labels.style.fontSize=parseInt(this.chart.xAxis[0].options.labels.style.fontSize.substr(0,this.chart.xAxis[0].options.labels.style.fontSize.length-2))+1+"px",o=LogiXML.layout.getTextDimensions(s,this.chart.xAxis[0].options.labels.style);this.chart.xAxis[0].options.labels.style.fontSize=parseInt(this.chart.xAxis[0].options.labels.style.fontSize.substr(0,this.chart.xAxis[0].options.labels.style.fontSize.length-2))-1+"px"}else{while(o.width>u&&u>0)this.chart.xAxis[0].options.labels.style.fontSize=parseInt(this.chart.xAxis[0].options.labels.style.fontSize.substr(0,this.chart.xAxis[0].options.labels.style.fontSize.length-2))-1+"px",o=LogiXML.layout.getTextDimensions(s,this.chart.xAxis[0].options.labels.style);this.chart.xAxis[0].options.labels.style.fontSize=parseInt(this.chart.xAxis[0].options.labels.style.fontSize.substr(0,this.chart.xAxis[0].options.labels.style.fontSize.length-2))+1+"px"}var a=parseInt(this.chart.xAxis[0].options.labels.style.fontSize.substr(0,this.chart.xAxis[0].options.labels.style.fontSize.length-2));a<8&&(a=8,this.chart.xAxis[0].options.labels.style.fontSize=a+"px"),this.offsetValue=LogiXML.layout.getTextDimensions(s,this.chart.xAxis[0].options.labels.style),this.offsetValue.height=this.offsetValue.height*.77}i=(this.chart.plotHeight-this.offsetValue.height)*2<this.chart.plotWidth?(this.chart.plotHeight-this.offsetValue.height)*2:this.chart.plotWidth;var f=0,l=.025,c=i*l,h=1.2,p;this.options.data[0].y||this.options.data[0].y==0?p=this.options.data[0].y:p=this.options.data[0],p<this.chart.xAxis[0].min?f=-1:p>this.chart.xAxis[0].max&&(f=1),f!==0&&(this.offsetValue.height+=c),this.needTriangle!=f&&(this.prevArc=null,this.needTriangle=f),i=(this.chart.plotHeight-this.offsetValue.height)*2<this.chart.plotWidth?(this.chart.plotHeight-this.offsetValue.height)*2:this.chart.plotWidth,this.shapeArgs.r=i/2,this.shapeArgs.innerR=i/2*this.radiusesRatio,(this.chart.plotHeight-this.offsetValue.height)*2>this.chart.plotWidth?this.shapeArgs.y=this.chart.plotHeight/2+this.shapeArgs.r/2-this.offsetValue.height/2:this.shapeArgs.y=this.chart.plotHeight-this.offsetValue.height,e.arc(this.shapeArgs).attr({fill:this.userOptions.arcBackgroundColor||"#FFFFFF",stroke:this.userOptions.arcBorderColor||"#000000","stroke-width":this.userOptions.arcBorderThickness||1}).add(n),this.shapeArgs.start=-3.141592653589793,this.shapeArgs.end=this.shapeArgs.start;var d;f<0?d=this.shapeArgs.end:f>0?d=0:d=this.shapeArgs.start-this.shapeArgs.start*((p-this.chart.xAxis[0].min)/(this.chart.xAxis[0].max-this.chart.xAxis[0].min)),isNaN(d)&&(d=0),r?this.prevArc?this.prevArc.attr({fill:this.getColorsInRangesByValue(p,this.chart.xAxis[0].userOptions.stops)||this.userOptions.arcColor}).add(n).animate({end:d}):this.prevArc=e.arc(this.shapeArgs).attr({fill:this.getColorsInRangesByValue(p,this.chart.xAxis[0].userOptions.stops)||this.userOptions.arcColor}).add(n).animate({end:d},this.chart.animation):(this.shapeArgs.end=d,e.arc(this.shapeArgs).attr({fill:this.getColorsInRangesByValue(p,this.chart.xAxis[0].userOptions.stops)||this.userOptions.arcColor}).add(n));var v=this.shapeArgs.r-this.shapeArgs.innerR,m=v+(this.userOptions.arcBorderThickness||1)*2;this.shapeArgs.end=0,e.arc(this.shapeArgs).attr({stroke:this.userOptions.arcBorderColor||"#000000","stroke-width":this.userOptions.arcBorderThickness||1}).add(n);var g;f!==0&&(f<0?g=this.shapeArgs.x-this.shapeArgs.r+v/2:g=this.shapeArgs.x+this.shapeArgs.r-v/2,e.path(["M",g-m/2,this.shapeArgs.y,"L",g+m/2,this.shapeArgs.y,g,this.shapeArgs.y+c,"Z"]).attr({fill:this.getColorsInRangesByValue(p,this.chart.xAxis[0].userOptions.stops)||this.userOptions.arcColor,stroke:this.userOptions.arcBorderColor||"#000000","stroke-width":this.userOptions.arcBorderThickness||1}).add(n),e.path(["M",g-m/2+(this.userOptions.arcBorderThickness||1)*1.5,this.shapeArgs.y-this.userOptions.arcBorderThickness||1,"L",g+m/2-(this.userOptions.arcBorderThickness||1)*1.5,this.shapeArgs.y-this.userOptions.arcBorderThickness||1,g+m/2-(this.userOptions.arcBorderThickness||1)*1.5,this.shapeArgs.y,g,this.shapeArgs.y+c-(this.userOptions.arcBorderThickness||1)/2,g-m/2+(this.userOptions.arcBorderThickness||1)*1.5,this.shapeArgs.y,"Z"]).attr({fill:this.getColorsInRangesByValue(p,this.chart.xAxis[0].userOptions.stops)||this.userOptions.arcColor}).add(n)),t.graphic=n,this.drawLabels()},drawLabels:function(){var e=this.chart.plotWidth/2,t=this.shapeArgs.y,n=this.innerRadius,r=this.shapeArgs.innerR+(this.shapeArgs.r-this.shapeArgs.innerR)/2,i=this.chart.plotWidth/2-r,s=this.shapeArgs.y+this.offsetValue.height+2*(this.userOptions.arcBorderThickness||1),o=this.outerRadius-this.innerRadius,u=this.chart.plotWidth/2+r,a=s,f=this.chart.renderer,l=.8,c=this.chart.graphic;c&&c.destroy(),c=f.g().add(this.group);var h=LogiXML.layout.getTextDimensions(this.userOptions.lowValue,this.chart.xAxis[0].options.labels.style);f.text(this.userOptions.lowValue,i-h.width/2,s).css({color:this.chart.xAxis[0].options.labels.style.color||"#000000",fontSize:this.chart.xAxis[0].options.labels.style.fontSize,"font-family":this.chart.xAxis[0].options.labels.style.fontFamily,fontWeight:this.chart.xAxis[0].options.labels.style.fontWeight}).add(c),h=LogiXML.layout.getTextDimensions(this.userOptions.highValue,this.chart.xAxis[0].options.labels.style),f.text(this.userOptions.highValue,u-h.width/2,a).css({color:this.chart.xAxis[0].options.labels.style.color||"#000000",fontSize:this.chart.xAxis[0].options.labels.style.fontSize,"font-family":this.chart.xAxis[0].options.labels.style.fontFamily,fontWeight:this.chart.xAxis[0].options.labels.style.fontWeight}).add(c);var p=!0,d;this.options.data[0].y||this.options.data[0].y==0?d=this.options.data[0].y:d=this.options.data[0],this.options.dataLabels&&this.options.dataLabels.format?d=LogiXML.Formatter.format(d,this.options.dataLabels.format):this.options.dataLabels&&this.options.dataLabels._format&&(d=LogiXML.Formatter.format(d,this.options.dataLabels._format));if(!this.chart.options.series[0].explicitSettedFontSize||this.chart.options.series[0].explicitSettedFontSize.indexOf("labels")<0&&this.chart.options.series[0].explicitSettedFontSize.indexOf("both")<0){h=LogiXML.layout.getTextDimensions(d,this.options.dataLabels.style);var v=h.height/h.width,m=Math.sqrt(this.shapeArgs.innerR*this.shapeArgs.innerR/(1+v*v))*2*l,g;if(m<h.width)while(m<h.width&&m!=0){g=parseInt(this.options.dataLabels.style.fontSize.substr(0,this.options.dataLabels.style.fontSize.length-2));if(g<9){this.options.dataLabels.style.fontSize=g+1+"px",p=!1;break}this.options.dataLabels.style.fontSize=g-1+"px",h=LogiXML.layout.getTextDimensions(d,this.options.dataLabels.style)}else while(m>h.width&&m!=0){g=parseInt(this.options.dataLabels.style.fontSize.substr(0,this.options.dataLabels.style.fontSize.length-2));if(g<9){this.options.dataLabels.style.fontSize=g+1+"px",p=!1;break}this.options.dataLabels.style.fontSize=g+1+"px",h=LogiXML.layout.getTextDimensions(d,this.options.dataLabels.style)}}parseInt(this.options.dataLabels.style.fontSize.substr(0,this.options.dataLabels.style.fontSize.length-2))<8&&(this.options.dataLabels.style.fontSize="8px"),p&&(h=LogiXML.layout.getTextDimensions(d,this.options.dataLabels.style),f.text(d,e-h.width/2,t).css({color:this.options.dataLabels.style.color||"#000000",fontSize:this.options.dataLabels.style.fontSize,"font-family":this.options.dataLabels.style.fontFamily,fontWeight:this.options.dataLabels.style.fontWeight}).add(c)),this.chart.graphic=c},getColorsInRangesByValue:function(e,t){var n=null;if(t.length==0)return this.userOptions.arcColor;for(var r=0;r<t.length;r++)if(t[r][0]>e){n=t[r][1];break}return n||(n=t[t.length-1][1]),n},drawDataLabels:function(){},translate:function(){this.processedXData||this.processData(),this.generatePoints()}}),e.seriesTypes.bulletgauge=e.extendClass(e.Series,{type:"bulletgauge",animation:null,drawTracker:e.TrackerMixin.drawTrackerPoint,trackerGroups:["group","dataLabelsGroup"],hasData:function(){return this.points.length>0},init:function(t,n){t.xAxis[0].decreaseTickCountIfOverlap=y,n.animation=null,n.tooltip||(n.tooltip={});var r;for(r in t.xAxis[0].ticks)t.xAxis[0].ticks[r].label&&(t.xAxis[0].ticks[r].label.destroy(),t.xAxis[0].ticks[r].label=null,t.xAxis[0].ticks[r].isNew=!0);t.options.yAxis&&t.options.yAxis.length>0&&(t.options.yAxis[0].gridLineWidth=0,t.yAxis[0].gridLineWidth=0,t.options.yAxis[0].gridLineWidth=0,t.yAxis[0].options.gridLineWidth=0,t.yAxis[0].userOptions.gridLineWidth=0,t.yAxis[0].options.minorTickLength=0,t.yAxis[0].userOptions.minorTickLength=0),HighchartsAdapter.addEvent(t,"setSize",function(e){var n=t.xAxis[0],r,i=0,s=n.ticks.length;for(r in n.ticks)n.ticks[r].label&&(n.ticks[r].label.destroy(),n.ticks[r].label=null,n.ticks[r].isNew=!0);t.series[0].prevBar.destroy(),t.series[0].prevBar=null,n.options.startOnTick=!0,n.options.endOnTick=!0,n.options.showLastLabel=!0,n.options.holdLastTick=!0,b(n),h(t),n.isDirty=!0}),HighchartsAdapter.addEvent(t,"load",function(e){var n=t.xAxis[0];h(t),b(n),n.options.startOnTick=!0,n.options.endOnTick=!0,n.options.showLastLabel=!0,n.options.holdLastTick=!0,n.isDirty=!0}),h(t),b(t.xAxis[0]),n.tooltip.followPointer=!0,e.Series.prototype.init.apply(this,[t,n]),b(t.xAxis[0]),h(t),t.xAxis[0].isDirty=!0},bindAxes:function(){var t;e.Series.prototype.bindAxes.apply(this),t=this.xAxis,h(this.chart),b(t),t.options.startOnTick=!0,t.options.endOnTick=!0,t.options.showLastLabel=!0,t.options.holdLastTick=!0,t.isDirty=!0},getAttribs:function(){var t=this.color;this.color="transparent",e.Series.prototype.getAttribs.call(this),this.color=t},drawPoints:function(){if(this.points.length==0)return;var e=this,t=e.xAxis,n=e.yAxis,r=e.options,i=e.chart.renderer,s,o,u,a,f=e.chart.plotBox,l=e.points[0],c=l.graphic,h=Math.floor(l.plotX),p=l.plotY;c&&c.destroy(),c=i.g().add(e.group),w(e,t,c);if(t.min==t.max&&e.options.wrongData){l.graphic=c;return}var d=t.toPixels(r.data[0].x);r.data[0].x>t.max&&(d=t.toPixels(t.max)),this.prevBar?this.prevBar.add(c).animate({width:d-e.chart.plotLeft}):this.prevBar=e.chart.renderer.rect(t.toPixels(t.options.min)-e.chart.plotLeft,e.chart.plotHeight/3,0,e.chart.plotHeight/3,0).attr({"stroke-width":1,stroke:e.options.borderColor,fill:e.options.color,zIndex:3}).add(c).animate({width:d-e.chart.plotLeft},this.chart.animation);var v=r.gaugeMarkerValue;if(v||v===0)s=t.toPixels(v)-e.chart.plotLeft-3,o=f.height*.2,u=f.height*.6,a=6,e.gaugeMarker=e.chart.renderer.rect(s,o,a,u,0).attr({"stroke-width":1,stroke:r.gaugeMarkerBorderColor||"black",fill:r.gaugeMarkerColor||"white",zIndex:3}).add(c);l.graphic=c},haloPath:function(e){},redraw:function(){e.Series.prototype.redraw.call(this)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t=this,n=t.options,r=n.stacking,i=t.xAxis,s=i.categories,o=t.yAxis,u=t.points,f=u.length,l=!!t.modifyValue,c,h=n.pointPlacement,p=h==="between"||Y.Lang.isNumber(h),d=n.threshold,v=u[0],m,g;if(!v)return;m=i.min,g=o.min,v.plotX=i.toPixels(m),v.plotY=o.toPixels(g),v.pointWidth=i.toPixels(i.max),v.pointHeight=o.toPixels(o.max),v.clientX=v.plotX,v.negative=v.x<(d||0),v.category=s&&s[v.x]!==a?s[v.x]:v.x,v.shapeType="rect",v.shapeArgs={x:v.plotX,y:v.plotY,width:v.pointWidth,height:v.pointHeight},e.Series.prototype.getSegments.call(this)},getSymbol:function(){return e.UNDEFINED}}),e.seriesTypes.balloongauge=e.extendClass(e.Series,{type:"balloongauge",animation:null,drawTracker:e.TrackerMixin.drawTrackerPoint,trackerGroups:["group","dataLabelsGroup"],tickWidth:0,hasData:function(){return this.points.length>0},init:function(t,n){t.xAxis[0].decreaseTickCountIfOverlap=y,n.dataLabels&&!n.balloonStyle&&(n.balloonStyle=n.dataLabels,n.dataLabels={}),t.options.xAxis&&t.options.xAxis.length>0&&(t.options.xAxis[0].tickWidth!=0||t.userOptions.tickWidth!=0)&&(this.tickWidth=t.options.xAxis[0].tickWidth===0?t.userOptions.tickWidth:t.options.xAxis[0].tickWidth,t.options.xAxis[0].tickWidth=0,t.xAxis[0].options.tickWidth=0,t.xAxis[0].userOptions.tickWidth=0,t.userOptions.tickWidth=this.tickWidth,t.options.tickWidth=this.tickWidth),t.options.yAxis&&t.options.yAxis.length>0&&(t.options.yAxis[0].gridLineWidth=0,t.yAxis[0].gridLineWidth=0,t.options.yAxis[0].gridLineWidth=0,t.yAxis[0].options.gridLineWidth=0,t.yAxis[0].userOptions.gridLineWidth=0,t.yAxis[0].options.minorTickLength=0,t.yAxis[0].userOptions.minorTickLength=0),t.options.xAxis&&t.options.xAxis.length>0&&(t.options.xAxis[0].gridLineWidth=0,t.xAxis[0].options.gridLineWidth=0);var r;for(r in t.xAxis[0].ticks)t.xAxis[0].ticks[r].label&&(t.xAxis[0].ticks[r].label.destroy(),t.xAxis[0].ticks[r].label=null,t.xAxis[0].ticks[r].isNew=!0);HighchartsAdapter.addEvent(t,"setSize",function(e){var n=t.xAxis[0],r,i=0,s=n.ticks.length;for(r in n.ticks)n.ticks[r].label&&(n.ticks[r].label.destroy(),n.ticks[r].label=null,n.ticks[r].isNew=!0);n.options.startOnTick=!0,n.options.endOnTick=!0,n.options.showLastLabel=!0,n.options.holdLastTick=!0,b(n),h(t),t.series[0].drawPoints(),n.isDirty=!0}),HighchartsAdapter.addEvent(t,"load",function(e){var n=t.xAxis[0];h(t),b(n),n.options.startOnTick=!0,n.options.endOnTick=!0,n.options.showLastLabel=!0,n.options.holdLastTick=!0,n.isDirty=!0}),n.animation=null,n.tooltip||(n.tooltip={}),h(t),b(t.xAxis[0]),n.tooltip.followPointer=!0,e.Series.prototype.init.apply(this,[t,n]),b(t.xAxis[0]),h(t),t.xAxis[0].isDirty=!0},bindAxes:function(){var t;e.Series.prototype.bindAxes.apply(this),t=this.xAxis,b(t),t.options.startOnTick=!0,t.options.endOnTick=!0,t.options.showLastLabel=!0,t.options.holdLastTick=!0,t.isDirty=!0},drawPoints:function(){if(this.points.length==0)return;var e=this,t=e.xAxis,n=e.options,r=e.chart.renderer,i=e.points[0],s=i.graphic,o=e.group;s&&s.destroy(),s=r.g().attr({}).add(e.group),t.min!=t.max&&!e.options.wrongData&&this.drawBalloon(e,s),w(e,t,s),this.tickWidth>0&&this.createTicks(e,t,s),i.graphic=s},redraw:function(){e.Series.prototype.redraw.call(this)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t=this,n=t.options,r=n.stacking,i=t.xAxis,s=i.categories,o=t.yAxis,u=t.points,f=u.length,l=!!t.modifyValue,c,h=n.pointPlacement,p=h==="between"||Y.Lang.isNumber(h),d=n.threshold,v=u[0],m,g;if(!v)return;m=i.min,g=o.min,v.plotX=i.toPixels(m),v.plotY=o.toPixels(g),v.pointWidth=i.toPixels(i.max),v.pointHeight=o.toPixels(o.max),v.clientX=v.plotX,v.negative=v.x<(d||0),v.category=s&&s[v.x]!==a?s[v.x]:v.x,v.shapeType="rect",v.shapeArgs={x:v.plotX,y:v.plotY,width:v.pointWidth,height:v.pointHeight},e.Series.prototype.getSegments.call(this)},drawDataLabels:function(){var t=this,n=t.options,o=n.cursor,u=n.dataLabels,a=t.points,f,l,c=t.hasRendered||0,h,p;t.dlProcessOptions&&t.dlProcessOptions(u),p=t.plotGroup("dataLabelsGroup","data-labels",u.defer?"hidden":"visible",u.zIndex||6),r(u.defer,!0)&&(p.attr({opacity:+c}),c||e.addEvent(t,"afterAnimate",function(){t.visible&&p.show(),p[n.animation?"animate":"attr"]({opacity:1},{duration:200})})),l=u,i(a,function(n){var i,a=n.dataLabel,c,d,v,m=n.connector,g=!0;f=n.options&&n.options.dataLabels,u=s(l,f),v=u.rotation,t.options.balloonStyle&&t.options.balloonStyle.format?h=LogiXML.Formatter.format(parseFloat(t.data[0].x),t.options.balloonStyle.format):t.options.balloonStyle&&t.options.balloonStyle._format?h=LogiXML.Formatter.format(parseFloat(t.data[0].x),t.options.balloonStyle._format):h=t.data[0].x,h=t.trimDataLabels(h),u.style.color=r(u.color,u.style.color,t.color,"black");if(a)h?(a.attr({text:h}).css({fontSize:u.style.fontSize}),g=!1):(n.dataLabel=a=a.destroy(),m&&(n.connector=m.destroy()));else if(h){c={fill:u.backgroundColor,stroke:u.borderColor,"stroke-width":u.borderWidth,r:u.borderRadius||0,rotation:v,padding:u.padding,zIndex:1};for(d in c)c[d]===undefined&&delete c[d];a=n.dataLabel=t.chart.renderer[v?"text":"label"](h,0,-999,null,null,null,u.useHTML).attr(c).css(e.extend(u.style,o&&{cursor:o})).add(p).shadow(u.shadow)}a&&t.alignDataLabel(n,a,u,null,g)})},alignDataLabel:function(e,t,n,r,i){},getSymbol:function(){return e.UNDEFINED},drawBalloon:function(e,t){var n=e.options,r=e.chart.renderer,i=e.chart.plotLeft,s=2,o=2,u=e.data[0].x,a=e.xAxis.toPixels(u)-i,f,l=e.data[0].x,c,h,p,d,v,m=e.chart.plotWidth*.04,g,y=1,b,w,E=e.chart.plotHeight/2,S=e.xAxis.min,x=e.xAxis.max,T,N=[];e.options.balloonStyle&&e.options.balloonStyle.format?l=LogiXML.Formatter.format(l,e.options.balloonStyle.format):e.options.balloonStyle&&e.options.balloonStyle._format&&(l=LogiXML.Formatter.format(l,e.options.balloonStyle._format)),e.userOptions.dataLabels&&e.userOptions.dataLabels.style&&e.userOptions.dataLabels.style.fontSize||(f=e.chart.chartHeight/9+"px",e.options.dataLabels||(e.options.dataLabels={}),e.options.dataLabels.style||(e.options.dataLabels.style={})),e.options.fontStyle&&e.options.fontStyle.color&&(e.options.dataLabels.style.color=e.options.fontStyle.color),e.options.dataLabels.style.fontSize=e.options.fontStyle&&e.options.fontStyle.fontSize?e.options.fontStyle.fontSize:f,e.options.dataLabels.style.fontFamily=e.options.fontStyle&&e.options.fontStyle.fontFamily?e.options.fontStyle.fontFamily:e.chart.renderer.getStyle().fontFamily,c=LogiXML.layout.getTextDimensions(l,e.options.dataLabels.style),h=c.width+2,p=c.height,d=h+o*2,v=p*1.1,e.points[0].dataLabel.css({fontSize:e.options.dataLabels.style.fontSize||f,color:e.options.dataLabels.style.color,"font-family":e.options.dataLabels.style.fontFamily}).attr({text:l}),e.plotBandsOffset=v+6,u<S?(T="left",g=m):u>x?(T="right",g=e.xAxis.toPixels(e.xAxis.max)-i-d-m):a-d/2<=0?(T="beginningTransition",g=i):a+d/2>e.chart.plotWidth?(T="endingTransition",g=e.chart.plotWidth-d-s):(T="center",g=a-d/2),e.labelStartX=g,e.labelStartY=y,b=g+o,w=y,N.push("M"),N.push(b),N.push(w),N.push("L"),b+=h,N.push(b),N.push(w),o>0&&(b+=o,N.push("Q"),N.push(b),N.push(w),w+=o,N.push(b),N.push(w),N.push("L"));switch(T){case"right":w+=p*.4,N.push(b),N.push(w),w+=p*.1,b+=m,N.push(b),N.push(w),w+=p*.1,b-=m,N.push(b),N.push(w),w+=p*.4,N.push(b),N.push(w);break;default:w+=p,N.push(b),N.push(w)}o>0&&(w+=o,N.push("Q"),N.push(b),N.push(w),b-=o,N.push(b),N.push(w),N.push("L"));switch(T){case"center":b-=h*.4,N.push(b),N.push(w),b-=h*.1,N.push(b),N.push(w+E/2),b-=h*.1,N.push(b),N.push(w),b-=h*.4,N.push(b),N.push(w);break;case"beginningTransition":var C=b;b-=h*.6,N.push(b),N.push(w),b=a,N.push(b),N.push(w+E/2),b=C-h*.8,N.push(b),N.push(w),b=C-h,N.push(b),N.push(w);break;case"endingTransition":var C=b;b-=h*.4,N.push(b),N.push(w),b=a,N.push(b),N.push(w+E/2),b=C-h*.6,N.push(b),N.push(w),b=C-h,N.push(b),N.push(w);break;default:b-=h,N.push(b),N.push(w)}o>0&&(b-=o,N.push("Q"),N.push(b),N.push(w),w-=o,N.push(b),N.push(w),N.push("L"));switch(T){case"left":w-=p*.4,N.push(b),N.push(w),w-=p*.1,b-=m,N.push(b),N.push(w),w-=p*.1,b+=m,N.push(b),N.push(w),w-=p*.4,N.push(b),N.push(w);break;default:w-=p,N.push(b),N.push(w)}o>0&&(w-=o,N.push("Q"),N.push(b),N.push(w),b+=o,N.push(b),N.push(w));var k=[],L,A,O;k=k.concat(N),k.push("z"),O=r.g().attr({opacity:1,zIndex:3}).add(t),L=r.path(k).attr({"stroke-width":"1px",stroke:e.options.balloonBorderColor||"#000000",fill:e.options.balloonColor||"#FFFFFF",zIndex:3}).add(O);var M={};M.x=Math.round(e.labelStartX+(d-h)/2-o),M.y=Math.round((v-p*1.15)/2),isIE()<=8&&(M.x=Math.round(e.labelStartX),e.points[0].dataLabel.element.childNodes[0].style.top=e.labelStartY+"px"),e.points[0].dataLabel.attr(M),e.points[0].dataLabel.alignAttr=M},createTicks:function(e,t,n){var r=1,i=t.tickPositions.length,s,o,u=t.userOptions.tickColor?t.userOptions.tickColor:"#000000",a=e.plotBandsOffset?e.plotBandsOffset:0,f=e.chart.plotHeight-a,l,c,h=.3,p=[];if(t.options.labels&&!t.options.labels.enabled)return;if(e.tickWidth>0)for(;r<i-1;r++){l=a+(f-f*h)/2,c=l+f*h,p=[],p.push("M"),p.push(t.toPixels(t.tickPositions[r])-e.chart.plotLeft),p.push(l),p.push("L"),p.push(t.toPixels(t.tickPositions[r])-e.chart.plotLeft),p.push(c),e.chart.renderer.path(p).attr({"stroke-width":e.tickWidth,stroke:u,fill:u,zIndex:1}).add(n);if(t.min==t.max)return}},drawGraph:function(){return e.UNDEFINED}})})(Highcharts);

/* 
* rdChartCanvas/rdViewState.js 
*/
//"use strict";
function getInputViewStateElement(e,t){e.viewstates||(e.viewstates=[]);var n=e.viewstates[t];if(!n||typeof n=="string"){var r=(e.options.id||"chart_"+e.index)+"_"+t,i=Highcharts.createElement("input",{type:"hidden",id:r,name:r},null,e.container);n=e.viewstates[t]=i}return n}Array.prototype.unique=function(){var e=this.sort();for(var t=0,n=e.length;t<n;t++)t<n&&e[t]===e[t+1]&&(e=e.splice(t,1));return e},Array.prototype.removeAt=function(e){var t=this;return t[e]!=null?t.splice(e,1):this};var setChartStateEventHandlers=function(e){setLegendStateEventHandlers(e);var t=!1,n,r;for(var i=0;i<e.series.length;i++){r=e.series[i].userOptions;if(r.selection){n=r.selection;if(n.selectionType.indexOf("Area")>-1){t=!0;break}}}t||setZoomStateEventHandlers(e)},restoreChartState=function(e){if(!e.viewstates)return;typeof e.viewstates=="string"&&(e.viewstates=JSON.parse(e.viewstates)),restoreZoomState(e),restoreLegendState(e),restoreOptions3DState(e)},persistViewState=function(e,t,n){var r=getInputViewStateElement(n,t);r.value=e},populateLegendVisibilityData=function(e){this.isLegendInvisible=typeof e=="boolean"||!this.visible;var t=this.chart||this.series.chart,n=t.legend.getAllItems(),r=[];for(var i=0;i<n.length;i++)n[i]&&n[i].isLegendInvisible===!0&&r.push(n[i]);n=r;var s=[];for(var o=0;n&&o<n.length;o++){var u=n[o];if(u&&u.series){var a=u.series.index;s[a]||(s[a]=[]),s[a].push({value:u.series.data.indexOf(u),name:u.name})}else s[u.index]={value:!0,name:u.name}}persistViewState(JSON.stringify(s),"legend",t),mergeHandlers(t)},setLegendStateEventHandlers=function(e){if(!e.legend.allItems)return;for(var t=0;t<e.series.length;t++){Highcharts.addEvent(e.series[t],"hide",populateLegendVisibilityData),Highcharts.addEvent(e.series[t],"show",populateLegendVisibilityData);if(e.series[t].type=="pie"){var n=e.series[t],r=e.legend.getAllItems().filter(function(e){return e.series==n});r.forEach(function(e){Highcharts.addEvent(e,"legendItemClick",function(){populateLegendVisibilityData.call(this,!0)})})}}},setZoomStateEventHandlers=function(e){if(!e.userOptions.chart.zoomType)return;e.events||(e.events={}),e.HCEvents.selection=[function(t){var n=[],r=[];if(t.xAxis)for(var i=0;i<t.xAxis.length;i++)n.push({min:t.xAxis[i].min,max:t.xAxis[i].max});if(t.yAxis)for(var s=0;s<t.yAxis.length;s++)r.push({min:t.yAxis[s].min,max:t.yAxis[s].max});getInputViewStateElement(e,"zoom").value=n||r?JSON.stringify({xZoom:n,yZoom:r,zType:e.userOptions.chart.zoomType}):"",mergeHandlers(e)}]},saveOptions3DState=function(e,t){getInputViewStateElement(e,"options3D").value=JSON.stringify(t),mergeHandlers(e)},mergeHandlers=function(e){var t=getInputViewStateElement(e,"viewstates"),n={},r=function(t,n){getInputViewStateElement(e,t).value&&(n[t]=getInputViewStateElement(e,t).value)};r("zoom",n),r("legend",n),r("options3D",n),t.value=JSON.stringify(n)},restoreZoomState=function(e){if(!e.viewstates.zoom)return;if(typeof e.viewstates.zoom=="string"){var t=e.viewstates.zoom;getInputViewStateElement(e,"zoom").value=t}if(e.viewstates.zoom.value==="")return;var n=JSON.parse(e.viewstates.zoom.value),r={};r.xAxis=[],r.yAxis=[];if(n.zType.indexOf("x")>-1)for(var i=0;i<n.xZoom.length;i++)e.xAxis[i].min=n.xZoom[i].min,e.xAxis[i].max=n.xZoom[i].max,e.xAxis[i].isDirty=!0,e.xAxis[i].axis=e.xAxis[i],r.xAxis.push(e.xAxis[i]);if(n.zType.indexOf("y")>-1)for(var i=0;i<n.yZoom.length;i++)e.yAxis[i].min=n.yZoom[i].min,e.yAxis[i].max=n.yZoom[i].max,e.yAxis[i].isDirty=!0,e.yAxis[i].axis=e.yAxis[i],r.yAxis.push(e.yAxis[i]);e.zoom(r)},restoreLegendState=function(e){if(!e.viewstates||!e.viewstates.legend||!e.legend.allItems)return;if(typeof e.viewstates.legend=="string"){var t=e.viewstates.legend;getInputViewStateElement(e,"legend").value=t}if(e.viewstates.legend.value==="")return;var n=JSON.parse(e.viewstates.legend.value);for(var r=0;r<n.length;r++){var i=n[r];if(i===null||i===undefined)continue;i.value===!0&&e.series[r].setVisible(!1);if(Array.isArray(i))for(var s=0;s<i.length;s++){var o;typeof i[s]=="object"&&i[s].value!==undefined?o=i[s].value:o=i[s];if(o===null||o===undefined)continue;e.series[r].data[o].setVisible(!1)}}},restoreOptions3DState=function(e){if(!e.viewstates.options3D)return;if(typeof e.viewstates.options3D=="string"){var t=e.viewstates.options3D;getInputViewStateElement(e,"options3D").value=t}if(e.viewstates.options3D.value==="")return;var n=JSON.parse(e.viewstates.options3D.value);e.options3d=n,e.options.chart.options3d=n,e.redraw(!1)};

